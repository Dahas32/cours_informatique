---
# Feel free to add content and custom Front Matter to this file.
# To modify the layout, see https://jekyllrb.com/docs/themes/#overriding-theme-defaults

layout: home
---

<h1>Liste des différents cours, par année</h1>
{% for collection in site.collections %}
    {% if collection.label != "posts" and site[collection.label].size  > 0 %}
        <div>
            <h2 class="post-list-heading">{{ collection.name | default: collection.label}}</h2>
            <ul class="post-list">
                {%- for post in site[collection.label] -%}
                    <li>
                        <span class="post-meta">{{ post.category }}</span>
                        <h3>
                            <a class="post-link" href="{{ post.url | relative_url }}">
                                {{ post.title | escape }}
                            </a>
                        </h3>
                        {%- if site.show_excerpts -%}
                          {{ post.excerpt }}
                        {%- endif -%}
                    </li>
                {%- endfor -%}
            </ul>
        </div>
    {% endif %}
{% endfor %}

<h1>Tutos</h1>


<script type="text/javascript">
    // functions
    //
    // borrowed from : https://langrsoft.com/2020/03/26/filtering-blog-posts-by-category-with-jekyll/

    SELECTED_COLOR = 'green'
    // set currentCategory global variable.
    function setNewCategoryButtonColor(selectedCategory) {
        if (typeof currentCategory !== 'undefined') {
            catButton = document.getElementById(currentCategory);
            catButton.style.backgroundColor = ''
        }
        currentCategory = selectedCategory // global variable by default.

        catButton = document.getElementById(currentCategory);
        catButton.style.backgroundColor = SELECTED_COLOR
        
    }

    function filterUsingCategory(selectedCategory) {
        setNewCategoryButtonColor(selectedCategory)

        var id = 0;
        {% for post in site.posts %}
        var cats = {{ post.categories | jsonify }}

        id += 1;
        var postDiv = document.getElementById(id);
        postDiv.style.display = (selectedCategory == 'All' || cats.includes(selectedCategory)) 
            ? 'unset' 
            : 'none';
        {% endfor %}
    }
</script>
  
<div style="margin-bottom: 50px;">
    Catégories : 
    <span>
        <button id="All" onclick="filterUsingCategory('All')"><strong>toutes</strong></button>
        {% assign categories = site.categories | sort %}
        {% for category in categories %}
            {% assign cat = category | first %}
            <button id="{{ cat }}" onclick="filterUsingCategory(this.id)">{{ cat }}</button>
        {% endfor %}        
    </span>
</div>

<div class="posts-wrapper">
{% assign id = 0 %}
<ul class="post-list">
    {% for post in site.posts %}
        {% assign id = id | plus:1 %}
        <li id="{{id}}">
            
            <h3>
                <a class="post-link" href="{{ post.url | relative_url }}">
                  {{ post.title | escape }}
                </a>
              </h3>
              <div style="padding-left:20px;">
                <div>
                    catégories : 
                    {% for category in post.categories %}
                    • <span class="post-meta">{{ category }}</span>
                    {% endfor %}
                    • 
                </div>
                <div>
                    tags : 
                    {% for tag in post.tags %}
                    • <span class="post-meta">{{ tag }}</span>
                    {% endfor %}
                    •
                </div>
                <p>
                    {{ post.excerpt }}
                </p>
                
              </div>
              
                
              
        </li>
    {%- endfor -%}        
</ul>
{% for post in site.posts %}
    {% assign id = id | plus:1 %}
{% endfor %}
</div>

<script type="text/javascript">
// init 
setNewCategoryButtonColor('All')
</script>