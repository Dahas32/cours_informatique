---
layout: layout/post.njk

title: Système d'exploitation Linux

eleventyComputed:
  eleventyNavigation:
    key: "{{ page.url }}"
    title: "{{ title | safe }}"
    parent: "{{ '../' | siteUrl(page.url) }}"
---

> TBD séparer entre ce qui est la base et ce qui est Linux.
> TBD : parler du role et donc des problèmes de :
> 
> 
>  * multi process
>  * sécruité
>  * matériel
> hiérarchie des dossiers d'une distribution linux
> dossier spéciaux : /proc, /dev <https://linuxjourney.com/lesson/udev> (remplacé par devd)
> TBD : système d'exploitation et distribution linux
> TBD parler des file system : FAT, ext, zfs. ... read on write.
> protection ring avec linux : <https://www.youtube.com/watch?v=BGA019kHhwU>

## Boot

<https://wiki.archlinux.org/title/Arch_boot_process>

[Ubntu boot](https://doc.ubuntu-fr.org/efibootmgr)

```
$ efibootmgr -v
BootCurrent: 0006
Timeout: 0 seconds
BootOrder: 0006,0002,0001,0004,0005,0000,0003
Boot0000* UiApp	FvVol(45801e53-5502-4463-929a-9bafaf424a72)/FvFile(462caa21-7614-4503-836e-8ab6f4662331)
Boot0001* UEFI Virtual DVD-ROM 	VenHw(0d51905b-b77e-452a-a2c0-eca0cc8d514a,000014020000000000)/Sata(1,65535,0)N.....YM....R,Y.
Boot0002* UEFI Ubuntu Linux-0 SSD NXHA6X9YF73M107S1H1G	VenHw(0d51905b-b77e-452a-a2c0-eca0cc8d514a,000014020000000000)/Sata(0,65535,0)N.....YM....R,Y.
Boot0003* UEFI PXEv4 (MAC:001C42D9009F)	PciRoot(0x0)/Pci(0x5,0x0)/MAC(001c42d9009f,1)N.....YM....R,Y.
Boot0004* No OS found	FvVol(45801e53-5502-4463-929a-9bafaf424a72)/FvFile(343e8cc7-cbc7-4d2f-af94-e783b827053b)
Boot0005* UEFI Shell	FvVol(45801e53-5502-4463-929a-9bafaf424a72)/FvFile(7c04a583-9e3e-4f1c-ad65-e05268d0b4d1)
Boot0006* ubuntu	HD(1,GPT,bd044e84-32c0-428f-8e3a-f5f464891a18,0x800,0x100000)/File(\EFI\ubuntu\grubaa64.efi)
```

1. EFI
2. [grub2](https://fr.wikipedia.org/wiki/GNU_GRUB)
3. [noyau](https://en.wikipedia.org/wiki/Vmlinux) (kernel space) `/boot/vmlinuz`
   1. cpu inspection
   2. mémoire inspection
   3. devices discovrey
   4. sous-systèmes : réseau, ...
4. root filesystem mount
5. [systemd](https://wiki.archlinux.org/title/Systemd) (user space) `systemctl list-units`, `journaltcl`
6. login

## Noyau

doit être tout petit. Si ça casse là, tout est cassé.
Le plus de choses possible doivent être lancé en user mode.

### Mémoire

* de 0 à $2^48-1$ : user space
* de $2^48$ à $2^64 -1$ : kernel space

pile et tas.

### disque dur

file system.
fat, ext, zfs (read on write)

cache fichiers (flush)

tout est fichier.
swap

### rôle

Met à disposition :

* les différents matériel :clavier, souris, carte réseau, disques dur, etc
* les fichiers : ouverture, exécution
* la mémoire : accès et allocation mémoire

Ordonne les différents [processus](https://fr.wikipedia.org/wiki/Processus_(informatique)) lancés.

<https://linux.goffinet.org/administration/processus-et-demarrage/processus-linux/>

### devices

dev monte et démonte de façon dynamique les devices (démon devd de systemd le montrer)

<https://linuxjourney.com/lesson/dev-directory>

* `/dev` : utilise les devices
* `/sys` : manage les devices

### ordonnancement

à chaque instant un unique process en route. Tous les x cycles, le noyau est rappelé par le cpu. Le noyau choisi un autre process à exécuter

[context switching](https://fr.wikipedia.org/wiki/Commutation_de_contexte)g.

## Configuration

`/etc`

`/ec/fstab`

> hiérarchies des répertoires

## Utilisateurs

`cat /etc/passwd`

L'administrateur est `root`.

et des groups (`groups`) (ex groupe des gens qui peuvent utiliser sudo)

<https://doc.ubuntu-fr.org/permissions>


Droits lire/écrire/exécuter

## Process

utilisation, qui

## tbd

proc dev

`sudo apt install htop`

htop et tree pour voir les process