---
layout: layout/post.njk

title: Système d'exploitation

eleventyComputed:
  eleventyNavigation:
    key: "{{ page.url }}"
    title: "{{ title | safe }}"
    parent: "{{ '../' | siteUrl(page.url) }}"
---

Le but d'un [ordinateur](https://fr.wikipedia.org/wiki/Ordinateur) est d'exécuter des [processus](https://fr.wikipedia.org/wiki/Processus_(informatique)). Pour que chaque processus n'ait pas à tout gérer (accès au processeur, à la mémoire, au disque dur, au réseau, ...) comme on le ferait avec un circuit imprimé par exemple, on utilise un [système d'exploitation](https://fr.wikipedia.org/wiki/Syst%C3%A8me_d%27exploitation) (ou ***OS*** pour *operating system*).

Son but est de faire le lien entre le [matériel](https://fr.wikipedia.org/wiki/Mat%C3%A9riel_informatique) (*hardware*) et le [logiciel](https://fr.wikipedia.org/wiki/Logiciel) (*software*).

Le matériel comporte tous les éléments physique d'une machine :

* processeur
* mémoire RAM
* disques dur
* clavier, souris, écran
* carte réseau
* ...

D'un point de vue système, on sépare ces éléments en trois catégories :

* processeur
* mémoire RAM
* les périphériques ou *devices* qui regroupent tout le reste, des *"appareils"* qui se branchent

Les logiciels, que d'un point de vue système on appellera [processus](https://fr.wikipedia.org/wiki/Processus_(informatique))  auront besoin pour fonctionner d'accéder :

* au processeur pour effectuer les différentes opérations de leur code,
* à la mémoire pour stocker leurs variables
* parfois à des devices comme un disque dur (pour lire un fichiers), à la carte réseau (pour savoir si mon *headshot* à bien fonctionné), etc

Le système d'exploitation permet :

* d'utiliser des devices grâce à des [drivers](https://fr.wikipedia.org/wiki/Pilote_informatique)
* à plusieurs process de s'exécuter :
  * en parallèle (on peut écrire dans un gdoc tout en écoutant de la musique)
  * de façon sécurisée : le gdoc ne peut accéder aux variables de l'application jouant de la musique

## Couches Systèmes

Il est organisé en *couches*, comme le stipule le [théorème fondamental de l’ingénierie logicielle](https://en.wikipedia.org/wiki/Fundamental_theorem_of_software_engineering) :

> On peut régler tous les problèmes en ajoutant une couche d'indirection

Ces couches permettent de séparer les responsabilités. De façon général. Un ordinateur et son utilisation peut être séparé quatre couches :

1. Matériel
   * mémoire RAM
   * disques durs
   * cartes réseau
   * ...
2. Noyau
   * drivers matériels
   * gestion de la mémoire
   * [ordonnancement des processus](https://fr.wikipedia.org/wiki/Ordonnancement_dans_les_syst%C3%A8mes_d%27exploitation)
3. process
   * interface graphique
   * terminal
   * ...
4. utilisateurs
   * qui à le droit de faire quoi

Les utilisateurs lancent des process. Ces process s'exécutent de façon parallèle grace au noyau.

Seul le noyau communique avec le matériel, les processus utilisateurs parlent au noyau grace à des [appels systèmes](https://fr.wikipedia.org/wiki/Appel_syst%C3%A8me).

## Système d'exploitation

Seul le noyau a accès au matériel et a un contrôle total de la machine. Il doit donc être le plus petit possible car le moindre bug fait planter la machine. C'est pourquoi on distingue deux états d'une machine :

* le *kernel mode* : le noyau travail
* le *user mode* : un process travaille

{% lien %}
[User et Kernel mode sous windows 11](https://learn.microsoft.com/fr-fr/windows-hardware/drivers/gettingstarted/user-mode-and-kernel-mode)
{% endlien %}

Un système d'exploitation ne peut donc être uniquement composé d'un noyau, on peut considérer qu'il est constitué de 3 parties :

* **le** [noyau](https://fr.wikipedia.org/wiki/Noyau_de_syst%C3%A8me_d%27exploitation) (*kernel*)
* **des** [interfaces logicielles](https://en.wikipedia.org/wiki/Interface_(computing)#Software_interfaces) qui permettent d'accéder aux devices (comme accéder à une clé usb)
* **des** [démons](https://fr.wikipedia.org/wiki/Daemon_(informatique)) qui gèrent l'environnement (le fait de réagir à l'insertion d'une clé usb dans l'ordinateur)

Les démons et les interfaces sont des process comme les autres. Ils sont cependant exécutés par un utilisateur spécial, souvent nommé [`root`](https://fr.wikipedia.org/wiki/Utilisateur_root), qui est le [super-utilisateur] qui est le représentant utilisateur du système.

## Process

Un process est un ensemble d'instruction exécutées par le système d'exploitation. Il ne peut a priori pas sortir de sa zone d'influence :

* son code
* son espace mémoire réservé

Pour tout autre autre (réserver de la mémoire, lire un fichier sur le disque dur, ...), il doit demander l'autorisation au noyau via des [appels systèmes](https://fr.wikipedia.org/wiki/Appel_syst%C3%A8me).

Le système d'exploitation vérifie que le process à le droit de le faire en regardant son propriétaire et si c'est ok permet l'opération.

## Utilisateurs

Tout processus a un propriétaire qui a des droits. Il existe toujours au moins un utilisateur qui a tout les droits `root` qui est l'utilisateur lié au système d'exploitation.

Il est fortement déconseillé de se connecter en tant qu'utilisateur root. la moindre bêtise peut casser tout le système.

Il existe ensuite des utilisateurs ayant des droit d'administrations, c'est à dire qu'ils peuvent [administrer le système d'exploitation](https://fr.wikipedia.org/wiki/Administrateur_syst%C3%A8me), mais ne sont pas forcément root. Souvent l'utilisateur principal d'une machine est administrateur.

Cela permet, si nécessaire, d'installer ou de configurer son système sans être connecté en tant que root.

Enfin, il existe la foule des autres utilisateurs (vous sur les ordinateurs de l'école ou la fac par exemple) qui ne pouvaient pas administer la machine, vous avez des droits restreints.

## Démarrage de l'ordinateur

Les différentes étape du chargement d'un système d'exploitation

1. boot de l'ordinateur
2. exécution d'un [chargeur d'amorçage (*bootloader*)](https://fr.wikipedia.org/wiki/Chargeur_d%27amor%C3%A7age)
3. charge le noyau
   1. vérification du matériel
   2. vérification des sous-systèmes : réseau, ...
4. passage en user mode puis charge les démons et les interfaces
5. login

Ordonne les différents [processus](https://fr.wikipedia.org/wiki/Processus_(informatique)) lancés.
