<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
<!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Complexité en moyenne | cours d’informatique</title>
<meta name="generator" content="Jekyll v4.2.0">
<meta property="og:title" content="Complexité en moyenne">
<meta name="author" content="François Brucker">
<meta property="og:locale" content="en_US">
<meta name="description" content="Support de cours/td d’informatique à l’école centrale marseille.">
<meta property="og:description" content="Support de cours/td d’informatique à l’école centrale marseille.">
<link rel="canonical" href="/cours_informatique/cours/theorie-pratiques-algorithmique/algorithmie/complexite-moyenne.html">
<meta property="og:url" content="/cours_informatique/cours/theorie-pratiques-algorithmique/algorithmie/complexite-moyenne.html">
<meta property="og:site_name" content="cours d’informatique">
<meta name="twitter:card" content="summary">
<meta property="twitter:title" content="Complexité en moyenne">
<script type="application/ld+json">
{"description":"Support de cours/td d’informatique à l’école centrale marseille.","@type":"WebPage","url":"/cours_informatique/cours/theorie-pratiques-algorithmique/algorithmie/complexite-moyenne.html","headline":"Complexité en moyenne","author":{"@type":"Person","name":"François Brucker"},"@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/cours_informatique/assets/main.css">

  <link rel="stylesheet" href="/cours_informatique/assets/custom.css">

  <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
<link type="application/atom+xml" rel="alternate" href="/cours_informatique/feed.xml" title="cours d'informatique">
<script>MathJax={"tex":{"inlineMath":[["$","$"],["\\(","\\)"]],"displayMath":[["\\[","\\]"]]},"svg":{"fontCache":"global"},"svg":{"fontCache":"global"}}</script><script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script><script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>

<body>
<header class="site-header" role="banner">

  <div class="wrapper">
<a class="site-title" rel="author" href="/cours_informatique/">cours d'informatique</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger">
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewbox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"></path>
            </svg>
          </span>
        </label>

        <div class="trigger">
            <a class="page-link" href="/cours_informatique/about"> about </a>
        </div>
      </nav>
</div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post">

  <header class="post-header">
    <h1 class="post-title">Complexité en moyenne</h1>Auteur : <span itemprop="author" itemscope itemtype="http://schema.org/Person"><span class="p-author h-card" itemprop="name">François Brucker</span></span>
  </header>

  <div class="post-content">
    <blockquote class="chemin">
  <p><a href="/cours_informatique/cours/theorie-pratiques-algorithmique/">Théorie et pratiques algorithmique</a> / <a href="/cours_informatique/cours/theorie-pratiques-algorithmique/algorithmie/">algorithmie</a> / <a href="/cours_informatique/cours/theorie-pratiques-algorithmique/algorithmie/complexite-moyenne.html">complexité en moyenne</a></p>

  <p>prérequis :</p>

  <ul>
    <li><a href="/cours_informatique/cours/theorie-pratiques-algorithmique/algorithmie/complexite-max-min.html">complexité max/min</a></li>
  </ul>
</blockquote>

<p>Lorsque le nombre d’opérations d’un algorithme dépend non seulement de la taille de ses entrée mais également de la structure de celles-ci, on a coutume de calculer sa complexité en moyenne :</p>

<blockquote class="note">
  <p>La <strong>complexité en moyenne</strong> d’un algorithme est le nombre moyens d’opérations nécessaires pour se terminer par rapport à une taille fixée de ses entrées.</p>
</blockquote>

<p>Cette mesure est très utile en pratique car si la complexité maximale et minimale d’un algorithme est très différente, cela permet de savoir le nombre d’opération espéré pour un tableau quelconque de taille donné.</p>

<h2 id="calcul-de-la-complexité-en-moyenne">calcul de la complexité en moyenne</h2>

<p>La complexité en moyenne d’un algorithme dépend des entrées de celui-ci et plus précisément du nombre de fois où une entrée donnée peut être choisie. Pour pouvoir la calculer de façon formelle, il faut connaitre ainsi le modèle probabiliste associé au donnés :</p>

<blockquote class="note">
  <p>La <strong>complexité en moyenne</strong> de $A$ pour une entrée de taille $n$ est :</p>

\[C = \sum_{e \in \mathcal{E}} p_e \cdot C(e)\]

  <p>Avec $\mathcal{E}$ l’ensemble des données de taille $n$, $p_e$ la probabilité d’exécuter l’algorithme avec l’entrée $e \in \mathcal{E}$ et $C(e)$ le nombre d’opérations utilisé par l’algorithme pour se terminer avec l’entrée $e$.</p>

</blockquote>

<p>Si l’on a pas de modèle a priori, on considérera que chaque donnée est équiprobable : chaque entrée a la même probabilité d’être choisie.</p>

<h2 id="exemple-recherche">exemple de la recherche d’un élément dans un tableau</h2>

<p>Reprenons l’exemple de la <a href="/cours_informatique/cours/theorie-pratiques-algorithmique/algorithmie/complexite-max-min.html#exemple-recherche">recherche d’un élément d’un un tableau</a> :</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">est_dans_tableau</span><span class="p">(</span><span class="n">valeur</span><span class="p">,</span> <span class="n">tableau</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">tableau</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">x</span> <span class="o">==</span> <span class="n">valeur</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">True</span>
    <span class="k">return</span> <span class="bp">False</span>
</code></pre></div></div>

<p>On avait déterminé ses complexités par rapport à la taille $n$ du tableau :</p>

<ul>
  <li>la complexité maximale de l’algorithme <code class="language-plaintext highlighter-rouge">est_dans_tableau</code> est $\mathcal{O}(n)$ (on parcours tout le tableau sans trouver <code class="language-plaintext highlighter-rouge">valeur</code>)</li>
  <li>la complexité minimale de l’algorithme <code class="language-plaintext highlighter-rouge">est_dans_tableau</code> est $\mathcal{O}(1)$ (`valeur est le premier élément du tableau)</li>
</ul>

<p>La complexité en moyenne est calculée en considérant le nombre d’opérations moyenne pris pour toutes les entrées d’une taille fixée.</p>

<p>Pour une entrée donnée, la complexité dépend de l’endroit où se trouve <code class="language-plaintext highlighter-rouge">valeur</code> dans le <code class="language-plaintext highlighter-rouge">tableau</code> : si <code class="language-plaintext highlighter-rouge">valeur</code> est à la position $i$ du tableau, il faudra $\mathcal{O}(i + 1)$ opérations et si <code class="language-plaintext highlighter-rouge">valeur</code> n’est pas dans le tableau, il faudra $\mathcal{O}(n + 1)$ opérations (avec $n$ la taille du tableau).</p>

<p>Si l’on note $p_i$  la probabilité que valeur soit à la position $i$ <code class="language-plaintext highlighter-rouge">tableau</code> et $p_{n}$ la probabilité qu’elle ne soit pas dans le tableau, la complexité moyenne de l’algorithme s’écrit :</p>

\[C = \sum_{i=0}^{i = n} (p_i \cdot \mathcal{O}(i + 1))\]

<p>Pour pouvoir la calculer effectivement, il faut connaitre les $p_i$. Comme on a pas de modèle a priori, on va considérer que chaque tableau de taille $n$ à la même probabilité d’être choisie et donc que la position de <code class="language-plaintext highlighter-rouge">valeur</code> dans tableau est équiprobable : $p_i = \frac{1}{n + 1}$ et donc :</p>

\[C =  (\sum_{i=0}^{i = n}\frac{1}{n + 1} \mathcal{O}(i + 1)) = \mathcal{O}(\frac{\sum_{i=0}^{i = n}(i + 1)}{n +1})\]

<p>Comme $\sum_{i=0}^{i = n}(i + 1) = \frac{(n +2)(n + 1)}{2}$ on en déduit que :</p>

\[C = \mathcal{O}(\frac{n+2}{2}) = \mathcal{O$(n)\]

<p>Pour aller plus vite, on aurait pu dire que si notre modèle est équiprobable, <code class="language-plaintext highlighter-rouge">valeur</code> va se trouver en moyenne au milieu de notre tableau, et donc qu’il faut parcourir de l’ordre de $\frac{n}{2}$ éléments de <code class="language-plaintext highlighter-rouge">tableau</code>, la complexité en moyenne est de $\mathcal{O}(n/2) = \mathcal{O}(n)$.</p>

<h2 id="intérêt">intérêt</h2>

<p>Pour tout algorithme, on a les inégalités suivantes :</p>

<blockquote class="note">

\[\mbox{complexité minimale} \leq \mbox{complexité en moyenne} \leq \mbox{complexité (maximale)}\]

  <p>La complexité en moyenne nous indique, pour un modèle de donnée, si les cas extrêmes (complexité minimale et maximale) arrivent fréquemment ou pas.</p>

  <p>La complexité en moyenne nous donne le nombre d’opérations <em>normal</em> qu’on aura si on exécute l’algorithme.</p>
</blockquote>

<p>Ainsi :</p>

<ul>
  <li>si la complexité maximale est égale à la complexité en moyenne (comme pour l’algorithme de la <a href="%7B#exemple-recherche%7D">recherche d’un élément d’un tableau</a>) alors la complexité maximale arrivera souvent</li>
  <li>si la complexité minimale est égale à la complexité en moyenne (comme pour l’algorithme du <a href="/cours_informatique/cours/theorie-pratiques-algorithmique/algorithmie/etude-tris.html#tri-rapide">tri rapide</a>) alors la complexité minimale arrivera souvent</li>
  <li>si les trois complexités sont différentes, les cas minimum et maximum arriveront rarement.</li>
</ul>

<p>En pratique — si l’algorithme dont on veut calculer les complexité est codé — la complexité en moyenne est très facile à estimer sans aucun calcul :</p>

<blockquote class="note">
  <p>Pour estimer la complexité en moyenne d’un algorithme codé, il suffit de mesurer le temps pris par l’algorithme pour s’exécuter pour des données aléatoires et d’en faire la moyenne (c’est un <a href="https://fr.wikipedia.org/wiki/Estimateur_(statistique)#Estimateur_de_la_moyenne_de_Y">estimateur sans biais de la moyenne théorique</a>).</p>
</blockquote>

  </div>

</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/cours_informatique/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">cours d'informatique</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">cours d'informatique</li>
</ul>
      </div>

      <div class="footer-col footer-col-2">
<ul class="social-media-list"><li><a href="https://github.com/FrancoisBrucker"><svg class="svg-icon"><use xlink:href="/cours_informatique/assets/minima-social-icons.svg#github"></use></svg> <span class="username">FrancoisBrucker</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>Support de cours/td d'informatique à l'école centrale marseille.</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
