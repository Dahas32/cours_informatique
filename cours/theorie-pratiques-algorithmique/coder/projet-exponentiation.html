<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
<!-- Begin Jekyll SEO tag v2.7.1 -->
<title>projet / exponentiation | cours d’informatique</title>
<meta name="generator" content="Jekyll v4.2.0">
<meta property="og:title" content="projet / exponentiation">
<meta name="author" content="François Brucker">
<meta property="og:locale" content="en_US">
<meta name="description" content="Support de cours/td d’informatique à l’école centrale marseille.">
<meta property="og:description" content="Support de cours/td d’informatique à l’école centrale marseille.">
<link rel="canonical" href="/cours_informatique/cours/theorie-pratiques-algorithmique/coder/projet-exponentiation.html">
<meta property="og:url" content="/cours_informatique/cours/theorie-pratiques-algorithmique/coder/projet-exponentiation.html">
<meta property="og:site_name" content="cours d’informatique">
<meta name="twitter:card" content="summary">
<meta property="twitter:title" content="projet / exponentiation">
<script type="application/ld+json">
{"description":"Support de cours/td d’informatique à l’école centrale marseille.","@type":"WebPage","url":"/cours_informatique/cours/theorie-pratiques-algorithmique/coder/projet-exponentiation.html","headline":"projet / exponentiation","author":{"@type":"Person","name":"François Brucker"},"@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/cours_informatique/assets/main.css">

  <link rel="stylesheet" href="/cours_informatique/assets/custom.css">
<link type="application/atom+xml" rel="alternate" href="/cours_informatique/feed.xml" title="cours d'informatique">
<script>MathJax={"tex":{"inlineMath":[["$","$"],["\\(","\\)"]],"displayMath":[["\\[","\\]"]]},"svg":{"fontCache":"global"},"svg":{"fontCache":"global"}}</script><script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script><script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>

<body>
<header class="site-header" role="banner">

  <div class="wrapper">
<a class="site-title" rel="author" href="/cours_informatique/">cours d'informatique</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger">
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewbox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"></path>
            </svg>
          </span>
        </label>

        <div class="trigger">
            <a class="page-link" href="/cours_informatique/about"> about </a>
        </div>
      </nav>
</div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post">

  <header class="post-header">
    <h1 class="post-title">projet / exponentiation </h1>Auteur : <span itemprop="author" itemscope itemtype="http://schema.org/Person"><span class="p-author h-card" itemprop="name">François Brucker</span></span>
  </header>

  <div class="post-content">
    <blockquote class="chemin">
  <p><a href="/cours_informatique/cours/theorie-pratiques-algorithmique/">Théorie et pratiques algorithmique</a> / <a href="/cours_informatique/cours/theorie-pratiques-algorithmique/coder/">coder</a> / <a href="/cours_informatique/cours/theorie-pratiques-algorithmique/coder/projet-exponentiation.html">projet : exponentiation</a></p>

  <p><strong>prérequis :</strong></p>

  <ul>
    <li><a href="/cours_informatique/cours/theorie-pratiques-algorithmique/coder/projet-pourcentages.html">projet : pourcentages</a></li>
    <li><a href="/cours_informatique/cours/theorie-pratiques-algorithmique/algorithmie/etude-exponentiation.html">étude : l’exponentiation</a></li>
  </ul>
</blockquote>

<p>Ce projet suit l’<a href="/cours_informatique/cours/theorie-pratiques-algorithmique/algorithmie/etude-exponentiation.html">étude de l’exponentiation</a>. Vous allez vérifier expérimentalement que la complexité de l’<a href="/cours_informatique/cours/theorie-pratiques-algorithmique/algorithmie/etude-exponentiation.html#algo-naif">algorithme naïf</a> est en $\mathcal{O}(\mbox{exposant})$ et celle de l’<a href="/cours_informatique/cours/theorie-pratiques-algorithmique/algorithmie/etude-exponentiation.html#algo-rapide">exponentiation indienne</a> en $\mathcal{O}(\ln(\mbox{exposant}))$.</p>

<h2 id="mise-en-place">mise en place</h2>

<h3 id="structures">structures</h3>

<blockquote class="a-faire">
  <ol>
    <li>créez un dossier nommé <em>“exponentiation”</em> où vous placerez vos fichiers</li>
    <li>créez un projet vcode dans ce dossier</li>
    <li>créez dans ce dossier les 3 fichiers de la trinité du code :
      <ul>
        <li><em>“main.py”</em></li>
        <li><em>“exponentiation.py”</em></li>
        <li><em>“test_exponentiation.py”</em></li>
      </ul>
    </li>
  </ol>

</blockquote>

<h3 id="vscode">vscode</h3>

<ol>
  <li>on vérifie que python est ok : le python utilisé par vscode (exécution via le triangle en haut à droite de la fenêtre) et le terminal doivent être le même :
    <ul>
      <li>le python utilisé par vscode est marqué dans la <a href="https://code.visualstudio.com/docs/getstarted/userinterface">barre de status</a>
</li>
      <li>par défaut, c’est le paramètre <code class="language-plaintext highlighter-rouge">python.defaultInterpreterPath</code>
</li>
      <li>dans un terminal, la commande <code class="language-plaintext highlighter-rouge">which python</code> (ou <code class="language-plaintext highlighter-rouge">python3</code> si votre interpréteur est <code class="language-plaintext highlighter-rouge">python3</code>) vous indique quel interpréteur python est utilisé lorsque vous tapez <code class="language-plaintext highlighter-rouge">python</code>.</li>
    </ul>
  </li>
  <li>on vérifie que le linter est actif (en faisant une faute de style)</li>
</ol>

<blockquote class="a-faire">
  <p>On se force, jusqu’à que cela devienne un automatisme, d’écrire du code stylé. C’est à dire sans que le linter ne se fâche.</p>
</blockquote>

<h3 id="bibliothèques">bibliothèques</h3>

<p>Nous aurons besoin d’utiliser deux bibliothèques (<a href="https://matplotlib.org/">matplotlib</a> pour l’affichage des courbes de complexité et <a href="https://docs.pytest.org/en/6.2.x/">pytest</a> por nos tests). Gérer les bibliothèques python se fait avec l’utilitaire pip que l’on utilise pour interpréteur donné comme ça : <code class="language-plaintext highlighter-rouge">python -m pip</code>.</p>

<blockquote class="a-faire">
  <p>Dans un terminal :</p>

  <ol>
    <li>vérifiez les bibliothèques déjà installées pour votre interpréteur : <code class="language-plaintext highlighter-rouge">python -m pip list</code> (remarquez bien qu’ici <code class="language-plaintext highlighter-rouge">list</code> est un paramètre de <code class="language-plaintext highlighter-rouge">pip</code> et non de <code class="language-plaintext highlighter-rouge">python</code>)</li>
    <li>si besoin installez <a href="https://matplotlib.org/">matplotlib</a> (<code class="language-plaintext highlighter-rouge">python -m pip install matplotlib</code>) et <a href="https://docs.pytest.org/en/6.2.x/">pytest</a> : <code class="language-plaintext highlighter-rouge">python -m pip install pytest</code>
</li>
  </ol>
</blockquote>

<h2 id="le-code">le code</h2>

<h3 id="algorithme-naif">algorithme naif</h3>

<blockquote class="a-faire">
  <ul>
    <li>dans le fichier <em>“exponentiation.py”</em> : implémetez l’algorithme naïf dans une fonction nommée <code class="language-plaintext highlighter-rouge">puissance_naif</code>
</li>
    <li>dans le fichier <em>“test_exponentiation.py”</em> : implémetez les tests de l’algorithme naïf :
      <ul>
        <li>vérifiez que les cas simples avec nombre et/ou exposant à 1 fonctionnent</li>
        <li>vérifiez qu’un cas général est ok (comme $2^4$ par exemple)</li>
        <li>vérifiez que les cas particuliers avec l’exposant et/ou nombre valant 0 fonctionnent</li>
      </ul>
    </li>
  </ul>

  <p>Vérifier que vos tests se lancent bien avec l’erlenmeyer et dans le terminal.</p>

</blockquote>

<p>Pour les tests, on utilisera les règles suivantes :</p>

<blockquote class="note">
  <p>Organisation des tests :</p>

  <ul>
    <li>un fichier de test par fichier de code. Chaque fichier de test sea nommé : <em>“test_[nom du fichier de code].py”</em> où <em>[nom du fichier de code]</em> sera le nom du fichier (ne mettez pas les <em>[]</em>)</li>
    <li>chaque test sera nommé en 3 parties : <code class="language-plaintext highlighter-rouge">test_[nom de la fonction_testée]_[ce que l'on teste]</code> où <code class="language-plaintext highlighter-rouge">[nom de la fonction_testée]</code> est le nom de la fonction testée (ne mettez pas les <em>[]</em>) et <code class="language-plaintext highlighter-rouge">[ce que l'on teste]</code> une description succincte (en 1 ou 2 mots max) de ce que l’on teste.</li>
    <li>un unique <code class="language-plaintext highlighter-rouge">assert</code> par fonction de test : on ne doit tester qu’<strong>une seule chose</strong> par test</li>
  </ul>

</blockquote>

<h3 id="algorithme-rapide">algorithme rapide</h3>

<blockquote class="a-faire">
  <ul>
    <li>dans le fichier <em>“exponentiation.py”</em> : implémetez l’algorithme rapide dans une fonction nommée <code class="language-plaintext highlighter-rouge">puissance_rapide</code>
</li>
    <li>dans le fichier <em>“test_exponentiation.py”</em> : implémetez les tests de l’algorithme rapide en faisant les même test que pour l’algorithme naïf. :</li>
  </ul>

  <p>Vérifier que vos tests se lancent bien avec l’erlenmeyer et dans le terminal.</p>

</blockquote>

<blockquote class="attention">
  <p>Ne supprimez pas les tests de l’algorithme naïf en créant ceux pour l’algorithme rapide ! Vos deux fonctions DOIVENT être testées.</p>
</blockquote>

<h2 id="complexité-temporelle">complexité temporelle</h2>

<p>La seule façon de mesurer expérimentalement la complexité d’un algorithme est de mesurer la <a href="/cours_informatique/cours/theorie-pratiques-algorithmique/algorithmie/complexite-max-min.html#temps-dex%C3%A9cution">complexité en temps</a> de celui-ci pour une entrée réalisant la complexité maximale.</p>

<p>Ce n’est cependant pas si simple de mesurer ce temps précisément parce que :</p>

<ul>
  <li>nous ne sommes pas seul sur la machine, tous les programmes actif s’exécutent souvent en même temps en se <a href="https://fr.wikipedia.org/wiki/Temps_partag%C3%A9">partageant du temps de processeur</a> : il est donc difficile de mesurer précisément le temps uniquement pris pour notre algorithme par le processeur.</li>
  <li>python fait des choses sans nous le dire, comme vérifier de temps en temps que les objets ont tous des noms et les supprimer s’ils n’en ont plus (on appelle ça un <a href="https://fr.wikipedia.org/wiki/Ramasse-miettes_(informatique)">ramasse miette</a>) : python lui-même exécute des instruction qui ne sont pas dans notre algorithme.</li>
</ul>

<p>Mais pour ce qui nous importe, on va dire que c’est pas grave parce que ces <em>temps parasites</em> :</p>

<ul>
  <li>sont négligeables lorsque la taille des entrées deviennent grandes</li>
  <li>ils peuvent être vues comme des constantes ans le calcul de notre complexité : il ne participent donc pas à l’allure générale de la courbe de complexité.</li>
</ul>

<p>Le protocole de calcul sera alors le suivant :</p>

<ol>
  <li>on note l’heure $t_1$ juste avant d’exécuter l’algorithme</li>
  <li>on exécute l’algorithme</li>
  <li>on note l’heure $t_2$ juste après exécution l’algorithme</li>
</ol>

<p>La complexité temporelle sera alors : $\Delta = t_2 - t_1$.</p>

<h3 id="comment-faire">comment faire</h3>

<p>On va utiliser les fonctions simple du module <a href="https://docs.python.org/fr/3/library/time.html">time</a>. Faisons une petite fonction de test pour voir comment on peut utiliser la mesure du temps dans notre programme.</p>

<blockquote class="a-faire">
  <p>Créez un fichier <em>“temp_mesure.py”</em> (<em>temp</em> pour <em>temporaire</em>) et mettez y le code suivant :</p>
</blockquote>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">time</span>

<span class="n">t1</span> <span class="o">=</span> <span class="n">time</span><span class="p">.</span><span class="n">time</span><span class="p">()</span>
<span class="n">time</span><span class="p">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">t2</span> <span class="o">=</span> <span class="n">time</span><span class="p">.</span><span class="n">time</span><span class="p">()</span>

<span class="n">delta</span> <span class="o">=</span> <span class="n">t2</span> <span class="o">-</span> <span class="n">t1</span>

<span class="k">print</span><span class="p">(</span><span class="n">delta</span><span class="p">)</span>
</code></pre></div></div>

<p>Le code précédent utilise deux fonction du module <a href="https://docs.python.org/fr/3/library/time.html">time</a> :</p>

<ul>
  <li>
<a href="https://docs.python.org/fr/3/library/time.html#time.time">time.time()</a> qui rend le nombre de seconde depuis l’<a href="https://fr.wikipedia.org/wiki/Heure_Unix">origine des temps informatique</a>, c’est à dire le 1er janvier 1970</li>
  <li>
<a href="https://docs.python.org/fr/3/library/time.html#time.sleep"><code class="language-plaintext highlighter-rouge">time.sleep(1)</code></a> qui ne fait rien pendant un nombre de secondes données en entrée.</li>
</ul>

<blockquote class="a-faire">
  <p>Exécutez plusieurs fois le code précédent pour voir que l’on passe bien environ 1seconde à ne rien faire.</p>
</blockquote>

<h3 id="expérimentations">expérimentations</h3>

<blockquote class="a-faire">
  <p>Créer un programme principal (dans le fichier <em>“main.py”</em>) qui demande à l’utilisateur un exposant $y$. Ce programme donne ensuite le temps mis pour exécuter $3^y$ avec l’algorithme naïf et avec l’algorithme rapide.</p>
</blockquote>

<h2 id="graphique-de-la-complexité-temporelle">graphique de la complexité temporelle</h2>

<p>On veut maintenant voir l’évolution de la complexité selon la taille de l’exposant. On va pour cela représenter graphiquement cette évolution en utilisant <a href="https://matplotlib.org/">matplotlib</a>.</p>

<h3 id="graphique-comment">comment faire</h3>

<p><a href="https://matplotlib.org/">matplotlib</a> peut être une bibliothèque difficile à utiliser. Pour que tout se passe au mieux, on va toujours utiliser la même procédure :</p>

<ol>
  <li>on crée les données à représenter</li>
  <li>créer le graphique avec matplotlib : <code class="language-plaintext highlighter-rouge">fig, ax = plt.subplots(figsize=(20, 5))</code>
</li>
  <li>ajouter des choses au dessin : plusieurs commandes ajoutant des choses au dessin, c’est à dire <code class="language-plaintext highlighter-rouge">ax</code>
</li>
  <li>représenter la figure (commande <code class="language-plaintext highlighter-rouge">plt.show()</code>) ou la sauver dans un fichier</li>
</ol>

<blockquote class="a-faire">
  <p>Créez un fichier <em>“temp_matplotlib.py”</em>  et mettez y le code suivant :</p>
</blockquote>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="n">plt</span>

<span class="c1"># 1. création des données
</span><span class="n">x</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">y</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1000</span><span class="p">):</span>
    <span class="n">x</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
    <span class="n">y</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span> <span class="o">**</span> <span class="mi">2</span><span class="p">)</span>

<span class="c1"># 2. créer le dessin (ici ax)
</span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="p">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>

<span class="c1"># 2.1 limite des axes
</span><span class="n">ax</span><span class="p">.</span><span class="n">set_xlim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
<span class="n">ax</span><span class="p">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1000000</span><span class="p">)</span>

<span class="c1"># 2.2 les légendes
</span><span class="n">ax</span><span class="p">.</span><span class="n">set_title</span><span class="p">(</span><span class="s">"la courbe y=x^2"</span><span class="p">)</span>
<span class="n">ax</span><span class="p">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s">'x'</span><span class="p">)</span>
<span class="n">ax</span><span class="p">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s">'x^2'</span><span class="p">)</span>

<span class="c1"># 3. ajouter des choses au dessin
</span>
<span class="n">ax</span><span class="p">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>

<span class="c1"># 4. représenter le graphique
</span><span class="n">plt</span><span class="p">.</span><span class="n">show</span><span class="p">()</span>

</code></pre></div></div>

<blockquote>
  <p>Pour sauver votre graphique au format pdf, vous pouvez remplacez la partie 4 par la ligne : <code class="language-plaintext highlighter-rouge">plt.savefig("graphique.pdf", format="pdf", bbox_inches='tight')</code>.</p>
</blockquote>

<h3 id="graphique-test">expérimentations</h3>

<blockquote class="a-faire">
  <p>Créez un fichier <em>“main_graphique.py”</em> et représentez sur le même graphique (il suffit de mettre deux instructions <code class="language-plaintext highlighter-rouge">ax.plot</code>) le temps mis par les deux algorithmes pour effectuer l’exponentiation de $ 3^y$  où $y$ varie de $0$ à $100000$ par pas de $1000$.</p>
</blockquote>

<p>Attention au constantes de votre code :</p>

<blockquote class="note">
  <p>Mantra : pas de <a href="https://en.wikipedia.org/wiki/Magic_number_(programming)#Unnamed_numerical_constants">magic numbers</a> dans le code.</p>

  <p>On remplace les nombres pas des constantes que l’on identifie dans le code par un nom (en majuscule) signifiant.</p>
</blockquote>

  </div>

</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/cours_informatique/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">cours d'informatique</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">cours d'informatique</li>
</ul>
      </div>

      <div class="footer-col footer-col-2">
<ul class="social-media-list"><li><a href="https://github.com/FrancoisBrucker"><svg class="svg-icon"><use xlink:href="/cours_informatique/assets/minima-social-icons.svg#github"></use></svg> <span class="username">FrancoisBrucker</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>Support de cours/td d'informatique à l'école centrale marseille.</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
