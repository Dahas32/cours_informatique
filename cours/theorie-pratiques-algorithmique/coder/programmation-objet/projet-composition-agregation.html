<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
<!-- Begin Jekyll SEO tag v2.7.1 -->
<title>exercices sur la création d’objets et leurs composition | cours d’informatique</title>
<meta name="generator" content="Jekyll v4.2.0">
<meta property="og:title" content="exercices sur la création d’objets et leurs composition">
<meta name="author" content="François Brucker">
<meta property="og:locale" content="en_US">
<meta name="description" content="Support de cours/td d’informatique à l’école centrale marseille.">
<meta property="og:description" content="Support de cours/td d’informatique à l’école centrale marseille.">
<link rel="canonical" href="/cours_informatique/cours/theorie-pratiques-algorithmique/coder/programmation-objet/projet-composition-agregation.html">
<meta property="og:url" content="/cours_informatique/cours/theorie-pratiques-algorithmique/coder/programmation-objet/projet-composition-agregation.html">
<meta property="og:site_name" content="cours d’informatique">
<meta name="twitter:card" content="summary">
<meta property="twitter:title" content="exercices sur la création d’objets et leurs composition">
<script type="application/ld+json">
{"description":"Support de cours/td d’informatique à l’école centrale marseille.","author":{"@type":"Person","name":"François Brucker"},"@type":"WebPage","url":"/cours_informatique/cours/theorie-pratiques-algorithmique/coder/programmation-objet/projet-composition-agregation.html","headline":"exercices sur la création d’objets et leurs composition","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/cours_informatique/assets/main.css">

  <link rel="stylesheet" href="/cours_informatique/assets/custom.css">

  <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
<link type="application/atom+xml" rel="alternate" href="/cours_informatique/feed.xml" title="cours d'informatique">
</head>

<body>
<header class="site-header" role="banner">

  <div class="wrapper">
<a class="site-title" rel="author" href="/cours_informatique/">cours d'informatique</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger">
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewbox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"></path>
            </svg>
          </span>
        </label>

        <div class="trigger">
            <a class="page-link" href="/cours_informatique/about"> about </a>
        </div>
      </nav>
</div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post">

  <header class="post-header">
    <h1 class="post-title">exercices sur la création d'objets et leurs composition</h1>Auteurs :
      <ul>
      
        <li><span itemprop="author" itemscope itemtype="http://schema.org/Person"><span class="p-author h-card" itemprop="name">François Brucker</span></span></li>
      
        <li><span itemprop="author" itemscope itemtype="http://schema.org/Person"><span class="p-author h-card" itemprop="name">Célia Châtel</span></span></li>
      
      </ul>
  </header>

  <div class="post-content">
    <blockquote class="chemin">
  <p><a href="/cours_informatique/cours/theorie-pratiques-algorithmique/">Théorie et pratiques algorithmique</a> / <a href="/cours_informatique/cours/theorie-pratiques-algorithmique/coder/">coder</a> / <a href="/cours_informatique/cours/theorie-pratiques-algorithmique/coder/programmation-objet/">programmation objet</a> / <a href="/cours_informatique/cours/theorie-pratiques-algorithmique/coder/programmation-objet/projet-composition-agregation.html">projet : composition et agrégation</a></p>

  <p><strong>prérequis :</strong></p>

  <ul>
    <li><a href="/cours_informatique/cours/theorie-pratiques-algorithmique/coder/programmation-objet/composition-agregation.html">composition et agrégation</a></li>
  </ul>
</blockquote>

<p>Classes et objets, le code !</p>

<h2 id="aide-au-code">aide au code</h2>

<p>Dans toute la partie code, vous utiliserez la <a href="/cours_informatique/cours/theorie-pratiques-algorithmique/coder/programmation-objet/composition-agregation.html#couverture-code">couverture de code</a>, pour vérifier que les tests vérifient bien les lignes de votre code.</p>

<p>De plus, maintenant que vous avez pris l’habitude de faire du joli code en utilisant un linter, vous pouvez utiliser <a href="https://black.readthedocs.io/en/stable/">black</a> pour le faire automatiquement. Suivez le <a href="/cours_informatique/tutos/editeur/vsc/installation/configuration/python/2021/09/14/vsc-python-modules-supplementaires.html#black">tuto</a> pour l’installer.</p>

<h2 id="les-tests">les tests</h2>

<p>Les tests sont bien sur toujours obligatoires ! Vous testerez chaque fonction que vous développerez.</p>

<blockquote class="note">
  <p>Lorsque l’on teste un objets et ses méthodes, on essaie dans la mesure du possible de ne pas avoir besoin des attributs. On ne vérifie que les résultats de la méthode, pas comment l’objet stocke ses informations.</p>

  <p>On teste de <strong>fonctionnalités</strong> pas une <strong>implémentation particulière de celles-ci</strong>.</p>
</blockquote>

<h2 id="un-dé">Un Dé</h2>

<p>On veut créer une classe <code class="language-plaintext highlighter-rouge">Dice</code>. Elle doit être capable de :</p>

<ul>
  <li>créer un objet sans paramètre (sa position est alors 1),</li>
  <li>créer un objet avec sa position initiale,</li>
  <li>connaître et donner la valeur du dé (avec les méthodes <code class="language-plaintext highlighter-rouge">get_position</code> et <code class="language-plaintext highlighter-rouge">set_position</code>),</li>
  <li>lancer un dé en utilisant une méthode nommée <code class="language-plaintext highlighter-rouge">roll()</code> (la valeur du dé doit être modifiée aléatoirement).</li>
</ul>

<blockquote class="note">
  <p>Les <em>getter</em> let les <em>setter</em> sont deux méthodes permettant de rendre ou de modifier un attribut d’un objet sans avoir à le manipuler directement.</p>

  <p>Cela permet d’abstraire un attribut de son implémentation.</p>
</blockquote>

<p>Pour justifier de passer par des méthodes plutôt que d’accéder directement aux attributs, je vous conseille de lire ce <a href="https://stackoverflow.com/questions/1568091/why-use-getters-and-setters-accessors?rq=1">fil de stackoverflow</a>, bien que vieux il dit encore tout ce qu’il faut savoir.</p>

<h3 id="dice-modele">Modèle</h3>

<blockquote class="a-faire">
  <ol>
    <li>Proposez une modélisation UML de la classe <code class="language-plaintext highlighter-rouge">Dice</code>.</li>
    <li>donnez des exemples de manipulation d’objets de cette classe, comme :
      <ul>
        <li>créer un objet</li>
        <li>modifier la valeur de sa position</li>
        <li>obtenir sa position</li>
        <li>le lancer</li>
      </ul>
    </li>
  </ol>

</blockquote>

<h3 id="dice-python">code python</h3>

<blockquote class="a-faire">
  <p>Créez le code python de la classe <code class="language-plaintext highlighter-rouge">Dice</code> (fichier <em>“dice.py”</em>).</p>
</blockquote>

<p>Pour être sûr que tout fonctionne comme prévu :</p>

<blockquote class="a-faire">
  <p>Ajoutez les tests de chaque méthode de la classe <code class="language-plaintext highlighter-rouge">Dice</code> (fichier <em>“test_dice”</em>).</p>

  <p>Il est impossible de tester le hasard, donc pour la méthode <code class="language-plaintext highlighter-rouge">roll</code> vérifiez juste que la position du dé est cohérente (entre 1 et 6) après l’utilisation de la méthode.</p>

  <p>Vérifiez que vous avez ben 100% de couverture de code.</p>
</blockquote>

<p>Pour jouer avec notre classe dice :</p>

<blockquote class="a-faire">
  <p>Créez un fchier <em>“main_dice.py”</em> qui :</p>

  <ol>
    <li>demande à l’utilisateur :
      <ul>
        <li>la position initiale du dé</li>
        <li>la valeur pour laquelle arrêter les lancer</li>
      </ul>
    </li>
    <li>lance le dé jusqu’à tant que la valeur demandée par l’utilsateur soit trouvée.</li>
    <li>le programme affiche le nombre de lancer nécessaire (celà peut être 0)</li>
  </ol>

</blockquote>

<h2 id="5-dés">5 dés</h2>

<p>Méthode naïve pour manipuler 5 dés.</p>

<blockquote class="a-faire">
  <p>Dans un fichier <em>“main_5_des.py”</em> Créez une liste avec 5 dés. Utilisez une boucle <code class="language-plaintext highlighter-rouge">for</code> pour les lancer tous les 5, puis voir le résultat du lancer des 5 dés.</p>
</blockquote>

<p>Pour afficher la position d’un dé, il faut tout d’abord chercher sa position. Améliorons ça :</p>

<blockquote class="a-faire">
  <p>créez une méthode  <code class="language-plaintext highlighter-rouge">__str__</code> pour la classe <code class="language-plaintext highlighter-rouge">Dice</code> qui rende la position du dé (sous la forme d’une chaine de caractère).</p>

  <p>ajoutez son test et utilisez là (de façon implicite) dans le fichier <em>“main_5_des.py”</em> en <em>printant</em> directement les dés plutôt que leurs positions.</p>
</blockquote>

<p>Une autre amélioration :</p>

<blockquote class="a-faire">
  <p>Faites en sorte que l’on puisse écrire : <code class="language-plaintext highlighter-rouge">d.roll().roll()</code> si l’on veut lancer deux fois de suite le dé <code class="language-plaintext highlighter-rouge">d</code>.</p>

  <p>Cela permettra aussi d’afficher <code class="language-plaintext highlighter-rouge">d</code> directement après l’avoir lancé : <code class="language-plaintext highlighter-rouge">print(d.roll())</code>.</p>
</blockquote>

<h2 id="tapis-vert">Tapis vert</h2>

<p>Nous allons créer une classe permettant de gérer nos 5 dès de façon plus pratique qu’avec notre liste.</p>

<p>Pour pouvoir jouer à des jeux de dés, implémentons une classe <code class="language-plaintext highlighter-rouge">TapisVert</code>.</p>

<h3 id="tapis-vert-modele">Modèle</h3>

<blockquote class="a-faire">
  <ol>
    <li>Proposez une modélisation UML de la classe <code class="language-plaintext highlighter-rouge">TapisVert</code>.</li>
    <li>donnez des exemples de manipulation d’objets de cette classe comme :
      <ul>
        <li>créer un objet</li>
        <li>donner un tuple contenant ses 5 dés</li>
        <li>lancer les dés qu’il contient avec une méthode <code class="language-plaintext highlighter-rouge">roll()</code> (la méthode <code class="language-plaintext highlighter-rouge">roll</code> ne doit pas avoir de paramètres)</li>
      </ul>
    </li>
  </ol>
</blockquote>

<h3 id="tapis-vert-python">code python</h3>

<blockquote class="a-faire">
  <p>Créez le code python de la classe <code class="language-plaintext highlighter-rouge">TapisVert</code> (dans le fichier <em>“dice.py”</em>)</p>
</blockquote>

<p>Pour ses tests vous pourrez :</p>

<blockquote class="a-faire">
  <ul>
    <li>vérifier qu’après la création d’un objet <code class="language-plaintext highlighter-rouge">TapisVert</code> on dispose bien de 5 dés positionnés sur 1.</li>
    <li>vérifiez qu’après avoir lancé les dés, leurs positions sont toujours cohérentes avec le nombre de faces.</li>
    <li>vérifiez que <code class="language-plaintext highlighter-rouge">TapisVert</code> donne bien ses dés et non une copie de ceux-ci. POur réaliser ceci vous pourrez implémenter le test suivant :
      <ol>
        <li>demander les dés d’un objet de type <code class="language-plaintext highlighter-rouge">TapisVert</code>
</li>
        <li>modifier la position d’un dé</li>
        <li>redemander les dés de l’objet de type <code class="language-plaintext highlighter-rouge">TapisVert</code> et vérifier que la position du dé est bien celle modifiée</li>
      </ol>
    </li>
  </ul>
</blockquote>

<h3 id="analyse-du-code">Analyse du code</h3>

<blockquote class="a-faire">
  <ol>
    <li>Comment est-il possible d’avoir à la fois une méthode <code class="language-plaintext highlighter-rouge">roll</code> pour <code class="language-plaintext highlighter-rouge">Dice</code> et pour <code class="language-plaintext highlighter-rouge">TapisVert</code> sans que python s’embrouille ?</li>
    <li>Explicitez tous les namespaces utilisées (namespace de classe, d’objet, de fichier et de fonctions) lors de l’exécution de : <code class="language-plaintext highlighter-rouge">tapis_vert.roll()</code>
</li>
  </ol>
</blockquote>

<h3 id="pour-aller-plus-loin">Pour aller plus loin</h3>

<blockquote class="a-faire">
  <ol>
    <li>faites en sorte de pouvoir afficher joliment un objet <code class="language-plaintext highlighter-rouge">TapisVert</code> (en affichant par exemple la valeurs de ses 5 dés)</li>
    <li>Ajoutez des méthodes à <code class="language-plaintext highlighter-rouge">TapisVert</code> permettant de savoir s’il a une paire, un brelan, un carré.</li>
    <li>Ajoutez des méthodes à <code class="language-plaintext highlighter-rouge">TapisVert</code> permettant de savoir s’il a une double-paire ou un full.</li>
  </ol>
</blockquote>

<h3 id="pour-aller-encore-plus-loin">Pour aller encore plus loin</h3>

<blockquote class="a-faire">
  <p>Implémentez le jeu <a href="https://fr.wikipedia.org/wiki/Poker_d%27as">poker d’as</a>.</p>

  <p>Notez qu’il faudra ajouter des méthodes permettant de bloquer un dé pour qu’il ne participe pas au lancer.</p>
</blockquote>

  </div>

</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/cours_informatique/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">cours d'informatique</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">cours d'informatique</li>
</ul>
      </div>

      <div class="footer-col footer-col-2">
<ul class="social-media-list"><li><a href="https://github.com/FrancoisBrucker"><svg class="svg-icon"><use xlink:href="/cours_informatique/assets/minima-social-icons.svg#github"></use></svg> <span class="username">FrancoisBrucker</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>Support de cours/td d'informatique à l'école centrale marseille.</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
