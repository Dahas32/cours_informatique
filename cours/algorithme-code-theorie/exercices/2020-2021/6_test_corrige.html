<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>corrigé Test 6 : gloutons | cours d’informatique</title>
<meta name="generator" content="Jekyll v4.2.0">
<meta property="og:title" content="corrigé Test 6 : gloutons">
<meta property="og:locale" content="en_US">
<meta name="description" content="Support de cours/td d’informatique de François Brucker.">
<meta property="og:description" content="Support de cours/td d’informatique de François Brucker.">
<link rel="canonical" href="/cours_informatique/cours/algorithme-code-theorie/exercices/2020-2021/6_test_corrige.html">
<meta property="og:url" content="/cours_informatique/cours/algorithme-code-theorie/exercices/2020-2021/6_test_corrige.html">
<meta property="og:site_name" content="cours d’informatique">
<meta property="og:type" content="website">
<meta name="twitter:card" content="summary">
<meta property="twitter:title" content="corrigé Test 6 : gloutons">
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","description":"Support de cours/td d’informatique de François Brucker.","headline":"corrigé Test 6 : gloutons","url":"/cours_informatique/cours/algorithme-code-theorie/exercices/2020-2021/6_test_corrige.html"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/cours_informatique/assets/main.css">

  <link rel="stylesheet" href="/cours_informatique/assets/custom.css">

  <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
<link type="application/atom+xml" rel="alternate" href="/cours_informatique/feed.xml" title="cours d'informatique">
<script>MathJax={"tex":{"inlineMath":[["$","$"],["\\(","\\)"]],"displayMath":[["\\[","\\]"]]},"svg":{"fontCache":"global"},"svg":{"fontCache":"global"}}</script><script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>

<body>
<header class="site-header" role="banner">

  <div class="wrapper">
<a class="site-title" rel="author" href="/cours_informatique/">cours d'informatique</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger">
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewbox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"></path>
            </svg>
          </span>
        </label>

        <div class="trigger">
            <a class="page-link" href="/cours_informatique/about"> about </a>
        </div>
      </nav>
</div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post">

  <header class="post-header">
    <h1 class="post-title">corrigé Test 6 : gloutons</h1>
  </header>

  <div class="post-content">
    <h2 id="introduction">Introduction</h2>

<p>Cet exercice est classique et s’appelle le <a href="https://fr.wikipedia.org/wiki/Probl%C3%A8me_du_sac_%C3%A0_dos#Variables_continues">sac à dos fractionnel</a> (dans le test, les prix étaient déjà au kilo).</p>

<h3 id="algorithme">algorithme</h3>

<ul>
  <li>entrée : liste de produits, chaque produit étant une liste [prix au kilo, kg, nom]</li>
  <li>sortie : liste de produits [nom, kilo] où nom est le nom du produit dans la liste d’entrée et kilo, le nombre de kilo pris.</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">sac_a_dos_fractionel</span><span class="p">(</span><span class="n">produits</span><span class="p">,</span> <span class="n">masse_totale</span><span class="p">):</span>
    <span class="n">produits</span><span class="p">.</span><span class="n">sort</span><span class="p">()</span>
    <span class="n">produits</span><span class="p">.</span><span class="n">reverse</span><span class="p">()</span>
    <span class="n">sac_a_dos</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">produits</span><span class="p">)):</span>
        <span class="n">prix</span><span class="p">,</span> <span class="n">kilo</span><span class="p">,</span> <span class="n">nom</span> <span class="o">=</span> <span class="n">produits</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>

        <span class="k">if</span> <span class="n">masse_total</span> <span class="o">&gt;=</span> <span class="n">kilo</span><span class="p">:</span>
            <span class="n">sac_a_dos</span><span class="p">.</span><span class="n">append</span><span class="p">((</span><span class="n">nom</span><span class="p">,</span> <span class="n">kilo</span><span class="p">))</span>
            <span class="n">masse_totale</span> <span class="o">-=</span> <span class="n">kilo</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">sac_a_dos</span><span class="p">.</span><span class="n">append</span><span class="p">((</span><span class="n">nom</span><span class="p">,</span> <span class="n">masse_totale</span><span class="p">))</span>
            <span class="n">masse_totale</span> <span class="o">=</span> <span class="mi">0</span>        

    <span class="k">return</span> <span class="n">sac_a_dos</span>
</code></pre></div></div>

<p>On trie la liste dans le code. Comme le 1er élément de chaque liste est le prix au kilo, le résultat sera une liste de produit trié par prix au kilo croissante. On la retourne (avec la méthode <code class="language-plaintext highlighter-rouge">reverse()</code>) pour avoir les produit triés par prix au kilo décroissant.</p>

<p><strong>Remarques</strong> :</p>

<ul>
  <li>Astuce du tri : lorsque l’on trie une liste de liste, python utilise l’<a href="https://fr.wikipedia.org/wiki/Ordre_lexicographique">ordre lexicographique</a>. Cela permet ici de trier sur les prix volumique tout en conservant l’indice du tableau d’origine (le deuxième élément de la liste n’intervient dans le tri que si les 2 premiers éléments sont identique, ce qui ne change pas le tri par prix volumique)</li>
  <li>attention, les méthodes de liste <code class="language-plaintext highlighter-rouge">sort</code> et <code class="language-plaintext highlighter-rouge">reverse</code> ne rendent rien. Elles modifient la liste. De là <code class="language-plaintext highlighter-rouge">l.sort().reverse()</code> <strong>ne fonctionne pas</strong> puisque cette commande signifie que l’on applique la méthdoe <code class="language-plaintext highlighter-rouge">reverse</code> à l’objet donné en retour de <code class="language-plaintext highlighter-rouge">l.sort()</code>. Or comme <code class="language-plaintext highlighter-rouge">l.sort()</code> ne rend rien elle retourne l’objet <code class="language-plaintext highlighter-rouge">None</code> (l’objet <em>rien du tout</em> en python) qui ne possède pas de méthode <code class="language-plaintext highlighter-rouge">reverse</code>. C’est ce que dit le message d’erreur quand on essaie de le faire : <code class="language-plaintext highlighter-rouge">AttributeError: 'NoneType' object has no attribute 'reverse'</code>  (le type de l’objet <code class="language-plaintext highlighter-rouge">None</code> (comme le tpe des entier est <code class="language-plaintext highlighter-rouge">int</code> ou le type des réels est <code class="language-plaintext highlighter-rouge">float</code>) est <code class="language-plaintext highlighter-rouge">NoneType</code> (il a un type à lui)).</li>
</ul>

<h4 id="preuve">preuve</h4>

<p>On peut remarquer que l’algorithme glouton prend toujours tout le produit disponible jusqu’au dernier choix où il ne prend qu’une fraction de celui-ci (la place restante) pour finir de remplir le sac-à-dos .</p>

<p>Pour notre solution, on note $(k_0, k_1, \dots, k_n)$ les kilos choisis dans l’ordre de choix de l’algorithme glouton.
On suppose que notre solution n’est pas optimale et, parmi toutes les solutions optimales possible, on en prend une qui correspond le plus longtemps possible avec la solution rendue par l’algorithme. Soit alors $0 \leq i &lt;n$ le plus petit indice telle que la solution optimale et celle rendue par l’algorithme est différente.  La solution optimale est alors $(k_0, \dots, k_{i-1}, k’_i, \dots, k’_n)$.</p>

<p>On peut enfin, sans perte de généralité, choisir la solution optimale ayant $k_i’$ le plus grand possible parmi toutes les solutions optimales coïncidant avec la solution de l’algorithme glouton jusqu’à $k_{i-1}$.</p>

<p>Jusqu’à l’étape $i-1$ tous les choix sont identiques donc une fois placés les $i$ premiers produits (les produits d’indices $0$ à $i-1$) avec le même kilo, il reste la même place dans le sac-à-dos et pour notre algorithme et pour la solution optimale. De là, par construction de l’algorithme glouton (on prend à chaque choix soit tout le produit soit juste assez pour finir de remplir tout le sac) les kilos $k’_i$ de la solution optimale pour le produit d’indice $i$ est forcément plus petit strictement que $k_i$.</p>

<p>Donc :</p>

<ul>
  <li>soit $k’_j = 0$ pour tout $j &gt; i$ et notre solution est meilleure que la solution optimale, ce qui est impossible par hypothèse,</li>
  <li>soit il existe $k’_j &gt;0$ pour un $j&gt;i$. On peut alors diminuer d’un kilo $k_j’$ pour augmenter d’un kilo $k_i’$ et obtenir une solution strictement  meilleure que la solution optimale : c’est impossible.</li>
</ul>

<p>Notre hypothèse arrivant à une contradiction, elle était fausse : la solution de l’algorithme glouton est optimale.</p>

  </div>

</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/cours_informatique/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">cours d'informatique</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">cours d'informatique</li>
</ul>
      </div>

      <div class="footer-col footer-col-2">
<ul class="social-media-list"><li><a href="https://github.com/FrancoisBrucker"><svg class="svg-icon"><use xlink:href="/cours_informatique/assets/minima-social-icons.svg#github"></use></svg> <span class="username">FrancoisBrucker</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>Support de cours/td d'informatique de François Brucker.</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
