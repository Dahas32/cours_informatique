<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
<!-- Begin Jekyll SEO tag v2.7.1 -->
<title>étude / algorithmes de tris | cours d’informatique</title>
<meta name="generator" content="Jekyll v4.2.0">
<meta property="og:title" content="étude / algorithmes de tris">
<meta name="author" content="François Brucker">
<meta property="og:locale" content="en_US">
<meta name="description" content="Support de cours/td d’informatique de François Brucker.">
<meta property="og:description" content="Support de cours/td d’informatique de François Brucker.">
<link rel="canonical" href="/cours_informatique/cours/algorithme-code-theorie/code/projet-tris.html">
<meta property="og:url" content="/cours_informatique/cours/algorithme-code-theorie/code/projet-tris.html">
<meta property="og:site_name" content="cours d’informatique">
<meta name="twitter:card" content="summary">
<meta property="twitter:title" content="étude / algorithmes de tris">
<script type="application/ld+json">
{"description":"Support de cours/td d’informatique de François Brucker.","@type":"WebPage","author":{"@type":"Person","name":"François Brucker"},"url":"/cours_informatique/cours/algorithme-code-theorie/code/projet-tris.html","headline":"étude / algorithmes de tris","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/cours_informatique/assets/main.css">

  <link rel="stylesheet" href="/cours_informatique/assets/custom.css">

  <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
<link type="application/atom+xml" rel="alternate" href="/cours_informatique/feed.xml" title="cours d'informatique">
<script>MathJax={"tex":{"inlineMath":[["$","$"],["\\(","\\)"]],"displayMath":[["\\[","\\]"]]},"svg":{"fontCache":"global"},"svg":{"fontCache":"global"}}</script><script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>

<body>
<header class="site-header" role="banner">

  <div class="wrapper">
<a class="site-title" rel="author" href="/cours_informatique/">cours d'informatique</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger">
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewbox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"></path>
            </svg>
          </span>
        </label>

        <div class="trigger">
            <a class="page-link" href="/cours_informatique/about"> about </a>
        </div>
      </nav>
</div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post">

  <header class="post-header">
    <h1 class="post-title">étude / algorithmes de tris</h1>Auteur : <span itemprop="author" itemscope itemtype="http://schema.org/Person"><span class="p-author h-card" itemprop="name">François Brucker</span></span>
  </header>

  <div class="post-content">
    <blockquote class="chemin">
  <p><a href="/cours_informatique/cours/algorithme-code-theorie/">Algorithme, code et théorie</a> / <a href="/cours_informatique/cours/algorithme-code-theorie/algorithme/">algorithmie</a> / <a href="/cours_informatique/cours/algorithme-code-theorie/code/projet-tris.html">projet : algorithmes de tris</a></p>

  <p>prérequis :</p>

  <ul>
    <li><a href="/cours_informatique/cours/algorithme-code-theorie/algorithme/etude-tris.html">étude : trier un tableau</a></li>
    <li><a href="/cours_informatique/cours/algorithme-code-theorie/code/projet-exponentiation.html">projet : exponentiation</a></li>
  </ul>

</blockquote>

<p>Ce projet suit l’<a href="/cours_informatique/cours/algorithme-code-theorie/algorithme/etude-tris.html">étude des tris</a>.</p>

<h2 id="mise-en-place">mise en place</h2>

<h3 id="structures">structures</h3>

<blockquote class="a-faire">
  <ol>
    <li>créez un dossier nommé <em>“tris”</em> où vous placerez vos fichiers</li>
    <li>créez un projet vcode dans ce dossier</li>
    <li>créez dans ce dossier les 2 fichiers de la trinité du code (on fera plusieurs <em>main</em> ensuite) :
      <ul>
        <li><em>“tris.py”</em></li>
        <li><em>“test_tris.py”</em></li>
      </ul>
    </li>
  </ol>

</blockquote>

<h3 id="vérifications">vérifications</h3>

<blockquote class="a-faire">

  <ul>
    <li>on vérifie que python est ok avec le terminal et avec vscode</li>
    <li>on vérifie que le linter est actif dans vscode</li>
    <li>on vérifie que les tests fonctionnent (en créant un test bidon dans <em>“tests_tris”</em> et en vérifiant que <code class="language-plaintext highlighter-rouge">pytest</code> et vscode le trouvent)</li>
  </ul>

</blockquote>

<h2 id="implémentation-des-tris">implémentation des tris</h2>

<p>En reprenant le code donné dans l’<a href="/cours_informatique/cours/algorithme-code-theorie/algorithme/etude-tris.html">étude des tris</a> :</p>

<blockquote class="a-faire">
  <p>Implémentez :</p>

  <ul>
    <li>l’algorithme du tri <code class="language-plaintext highlighter-rouge">insertion</code> et ses tests</li>
    <li>l’algorithme du tri <code class="language-plaintext highlighter-rouge">selection</code> et ses tests</li>
    <li>l’algorithme du tri <code class="language-plaintext highlighter-rouge">rapide</code> et ses tests</li>
    <li>l’algorithme du tri <code class="language-plaintext highlighter-rouge">fusion</code> et ses tests (on n’oublie pas que le tri fusion possède une fonction annexe <code class="language-plaintext highlighter-rouge">colle</code> qu’il faut aussi tester)</li>
  </ul>

</blockquote>

<p>Pour les tests des algorithmes de tri, vous pouvez par exemple utiliser 3 tableaux différents :</p>

<ul>
  <li>le tableau des $5$ premiers entiers triés par ordre croissant</li>
  <li>le tableau des $5$ premiers entiers triés par ordre décroissant</li>
  <li>le tableau des $5$ premiers entiers mélangé (choisissez une permutation)</li>
</ul>

<h2 id="complexité">complexité</h2>

<p>Nous allons (enfin plutôt, vous allez) afficher les complexités temporelle des différents algorithmes de tri que vous avez codés.</p>

<p>Pour faire cela, on utilisera ce que nous avons fait pendant le <a href="/cours_informatique/cours/algorithme-code-theorie/code/projet-exponentiation.html">projet exponentiation</a>.</p>

<h3 id="calcul-des-complexités-temporelles">calcul des complexités temporelles</h3>

<blockquote class="a-faire">
  <p>Créez un fichier <em>“mesure.py”</em></p>
</blockquote>

<h3 id="tri-par-sélection">tri par sélection</h3>

<blockquote class="a-faire">
  <p>Créez dans le fichier <em>“mesure.py”</em> une fonction <code class="language-plaintext highlighter-rouge">temps_selection</code>  qui, à partir d’un tableau en entrée, rend le temps mis pour exécuter cet algorithme avec le tableau donné.</p>

</blockquote>

<blockquote class="a-faire">
  <p>Dans un fichier <em>“main_selection”</em>, affichez sur un graphique courbe du temps mis (axe des ordonnées) pour trier avec <code class="language-plaintext highlighter-rouge">selection</code> le tableau des $n$ premiers entiers triés, pour une taille $n$ (axe des abcisses) allant de 1 à 2000 par pas de 10.</p>

  <p>A quel type de complexité correpond cette mesure ?</p>
</blockquote>

<h3 id="tri-par-insertion">tri par insertion</h3>

<blockquote class="a-faire">
  <p>Créez dans le fichier <em>“mesure.py”</em> une fonction <code class="language-plaintext highlighter-rouge">temps_insertion</code>  qui, à partir d’un tableau en entrée, rend le temps mis pour exécuter cet algorithme avec le tableau donné.</p>

</blockquote>

<blockquote class="a-faire">
  <ul>
    <li>pour quel type de tableau est atteint la complexité minimale de l’algorithme <code class="language-plaintext highlighter-rouge">insertion</code> ?</li>
    <li>pour quel type de tableau est atteint la complexité maximale de l’algorithme <code class="language-plaintext highlighter-rouge">insertion</code> ?</li>
  </ul>
</blockquote>

<p>Utilisez ces tableaux pour :</p>

<blockquote class="a-faire">
  <p>Dans un fichier <em>“main_insertion”</em>, affichez sur un même graphique :</p>

  <ul>
    <li>la courbe du temps mis (axe des ordonnées) pour trier avec le tri par insertion des tableaux de taille $n$ (axe des abcisses) réalisant la complexité minimale</li>
    <li>la courbe du temps mis (axe des ordonnées) pour trier avec le tri par insertion  des tableaux de taille $n$ (axe des abcisses) réalisant la complexité maximale</li>
  </ul>

  <p>Faites varier la taille $n$ des tableaux de 1 à 2000 par pas de 10.</p>
</blockquote>

<p>Comme la complexité minimale et maximale du tri par insertion sont différentes, les deux courbes doivent être distinctes.</p>

<blockquote class="a-faire">
  <p>l’allure des 2 courbes est-elle conforme aux résultats théorique de complexité ?</p>
</blockquote>

<p>Pour connaitre l’espérance de la complexité, il faut calculer la complexité en moyenne de l’algorithme. Pour cela il faut pouvoir créer un tableau aléatoire et calculer le temps mis pour le trier. Pour éviter tout cas particulier, on fait des moyennes de mesures.</p>

<blockquote class="a-faire">
  <p>Créez dans le fichier <em>“mesure.py”</em> la fonction <code class="language-plaintext highlighter-rouge">temps_insertion_moyen</code> qui rend la moyenne de 10 temps pris pour trier avec <code class="language-plaintext highlighter-rouge">insertion</code> une permutation aléatoire du tableau en entrée.</p>
</blockquote>

<p>Pour mélanger une liste python, vous pouvez utiliser la fonction <a href="https://docs.python.org/3/library/random.html#random.shuffle">shuffle</a> du module random.</p>

<p>On peut maintenant visualiser les temps minimum, maximum et moyen de notre algorithme :</p>

<blockquote class="a-faire">
  <p>Dans le fichier <em>“main_insertion”</em>, en utilisant <code class="language-plaintext highlighter-rouge">temps_insertion_moyen</code>, ajoutez au graphique la courbe de la moyenne des temps mis (axe des ordonnées) pour trier 10 tableaux aléatoire de taille $n$ (axe des abcisses) avec l’algorithme <code class="language-plaintext highlighter-rouge">insertion</code>.</p>

  <p>Faites varier la taille $n$ des tableaux de 1 à 2000 par pas de 10.</p>
</blockquote>

<h3 id="tri-fusion">tri fusion</h3>

<p>La complexité minimum et maximum du tri fusion est la même. On peut juste tracer la complexité moyenne de l’algorithme :</p>

<blockquote class="a-faire">
  <p>Créez dans le fichier <em>“mesure.py”</em> une fonction <code class="language-plaintext highlighter-rouge">temps_fusion</code> qui rend la moyenne de 10 temps pris pour trier avec <code class="language-plaintext highlighter-rouge">fusion</code> une permutation aléatoire du tableau en entrée.</p>
</blockquote>

<p>Pour ne pas refaire la même chose que pour le calcul de la complexité en moyenne du tri par <code class="language-plaintext highlighter-rouge">insertion</code>, vous pourrez utiliser le fait que l’on peut passer une fonction en paramètre d’une autre !</p>

<p>Vous pourrez ainsi modifier l’exemple ci-dessous pour forger une fonction qui rend le temps moyen pris pour trier 10 listes de taille $n$.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">random</span><span class="p">,</span> <span class="n">time</span>

<span class="k">def</span> <span class="nf">temps_tri</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">n</span><span class="p">):</span>
    <span class="n">L</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">))</span>
    <span class="n">random</span><span class="p">.</span><span class="n">shuffle</span><span class="p">(</span><span class="n">L</span><span class="p">)</span>
    <span class="n">d</span> <span class="o">=</span> <span class="n">time</span><span class="p">.</span><span class="n">time</span><span class="p">()</span>
    <span class="n">f</span><span class="p">(</span><span class="n">L</span><span class="p">)</span>
    <span class="n">f</span> <span class="o">=</span> <span class="n">time</span><span class="p">.</span><span class="n">time</span><span class="p">()</span>
 
    <span class="k">return</span> <span class="n">f</span> <span class="o">-</span> <span class="n">d</span>

<span class="c1"># en supposant qu'une fonction instertion existe
</span><span class="n">delta</span> <span class="o">=</span> <span class="n">tri</span><span class="p">(</span><span class="n">insertion</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>  <span class="c1"># delta est le temps mis par insertion pour trier une liste de taille 10
</span></code></pre></div></div>

<p>Si on doit choisir une complexité à afficher, on préfèrera toujours la complexité en moyenne, car elle est simple à mesurer (on fait des moyennes de temps d’exécution) sans analyse au préalable de l’algorithme.</p>

<blockquote class="a-faire">
  <p>Dans le fichier <em>“main_fusion”</em>, en utilisant <code class="language-plaintext highlighter-rouge">temps_fusion</code>, ajoutez au graphique la courbe de la moyenne des temps mis (axe des ordonnées) pour trier 10 tableaux aléatoire de taille $n$ (axe des abcisses) avec l’algorithme <code class="language-plaintext highlighter-rouge">fusion</code>.</p>

  <p>Faites varier la taille $n$ des tableaux de 1 à 2000 par pas de 10.</p>
</blockquote>

<blockquote class="a-faire">
  <p>l’allure de la courbe est-elle conforme aux résultats théorique de complexité ?</p>
</blockquote>

<h3 id="tri-rapide">tri rapide</h3>

<p>La complexité du tri rapide est différente pour des tableaux déjà triés (la complexité est alors maximum) et pour des tableaux mélangés (ou la complexité moyenne est égale à la complexité minimale).</p>

<blockquote class="a-faire">
  <p>Dans un fichier <em>“main_rapide”</em>, affichez sur un même graphique :</p>

  <ul>
    <li>la courbe du temps mis (axe des ordonnées) pour trier avec le tri rapide des tableaux triés par ordre croissant de taille $n$ (axe des abcisses)</li>
    <li>la courbe du temps mis (axe des ordonnées) pour trier avec le tri rapide des tableaux aléatoire de taille $n$ (axe des abcisses).</li>
  </ul>

  <p>Faites varier la taille $n$ des tableaux de 1 à 2000 par pas de 10. Pour chaque taille vous ferez une moyenne de 10 mesures.</p>
</blockquote>

<p>Vous allez atteindre la limite de récursion de python. Pour éviter les récursions infinies, python met une limite très basse au nombre de récursions possible d’un algorithme (1000 par défaut). Mais pas de panique, il est facile d’augmenter ce nombre.</p>

<blockquote class="a-faire">
  <p>Suivez <a href="https://www.pythoncentral.io/resetting-the-recursion-limit/">ce tuto</a> qui vous explique comment faire pour augmenter le nombre limite de récursions dans <em>“main_rapide”</em>.</p>
</blockquote>

<h2 id="visualisation">visualisation</h2>

<blockquote class="a-faire">
  <p>Copiez le code suivant dans un fichier <em>“main_visu.py”</em> :</p>
</blockquote>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">random</span>

<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="n">plt</span>


<span class="k">def</span> <span class="nf">draw_tab</span><span class="p">(</span><span class="n">tab</span><span class="p">):</span>
    <span class="n">ax</span><span class="p">.</span><span class="n">cla</span><span class="p">()</span>  <span class="c1"># on efface le dessin
</span>    <span class="n">ax</span><span class="p">.</span><span class="n">plot</span><span class="p">(</span><span class="n">tab</span><span class="p">,</span> <span class="s">'ro'</span><span class="p">)</span>
    <span class="n">plt</span><span class="p">.</span><span class="n">pause</span><span class="p">(</span><span class="mf">0.1</span><span class="p">)</span>  <span class="c1"># on pause le dessin
</span>

<span class="k">def</span> <span class="nf">insertion</span><span class="p">(</span><span class="n">tableau</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">tableau</span><span class="p">)):</span>
        <span class="n">courant</span> <span class="o">=</span> <span class="n">tableau</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
        <span class="n">j</span> <span class="o">=</span> <span class="n">i</span>
        <span class="k">while</span> <span class="p">(</span><span class="n">j</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">courant</span> <span class="o">&lt;</span> <span class="n">tableau</span><span class="p">[</span><span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]):</span>
            <span class="n">tableau</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">tableau</span><span class="p">[</span><span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span>
            <span class="n">tableau</span><span class="p">[</span><span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">courant</span>
            <span class="n">j</span> <span class="o">-=</span> <span class="mi">1</span>

            <span class="n">draw_tab</span><span class="p">(</span><span class="n">tab</span><span class="p">)</span>  <span class="c1"># on affiche le tableau
</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="p">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>

<span class="n">tab</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">30</span><span class="p">))</span>
<span class="n">random</span><span class="p">.</span><span class="n">shuffle</span><span class="p">(</span><span class="n">tab</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="n">tab</span><span class="p">)</span>

<span class="n">ax</span><span class="p">.</span><span class="n">plot</span><span class="p">(</span><span class="n">tab</span><span class="p">,</span> <span class="s">'ro'</span><span class="p">)</span>
<span class="n">insertion</span><span class="p">(</span><span class="n">tab</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="n">tab</span><span class="p">)</span>
</code></pre></div></div>

<p>Le code précédent modifie l’algorithme <code class="language-plaintext highlighter-rouge">insertion</code> pour qu’il affiche dans un graphique le tableau après chaque modification.</p>

<blockquote class="a-faire">

  <ol>
    <li>Exécutez le code précédent, et comprenez pourquoi il fonctionne.</li>
    <li>Ajoutez une modification du tri par <code class="language-plaintext highlighter-rouge">selection</code> pour le voir trier un tableau et voir les différences entre les deux algorithmes.</li>
  </ol>

</blockquote>

<h2 id="autres-tris">autres tris</h2>

<h3 id="tri-à-bulles">tri à bulles</h3>

<p>Le <a href="https://fr.wikipedia.org/wiki/Tri_%C3%A0_bulles">tri à bulles</a> est un tri inefficace mais joli à regarder.</p>

<blockquote class="a-faire">
  <p>Implémentez le tri à bulles et vérifiez que son temps moyen d’exécution est $\mathcal{O}(n^2)$.
Ajoutez le tri à bulles dans <em>“main_visu.py”</em> pour le voir trier un tableau.</p>
</blockquote>

<h3 id="bogo-sort">bogo sort</h3>

<blockquote class="a-faire">
  <p>Implémentez le <a href="https://fr.wikipedia.org/wiki/Tri_stupide">tri stupide</a> et vérifiez son temps moyen de tri.</p>
</blockquote>

  </div>

</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/cours_informatique/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">cours d'informatique</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">cours d'informatique</li>
</ul>
      </div>

      <div class="footer-col footer-col-2">
<ul class="social-media-list"><li><a href="https://github.com/FrancoisBrucker"><svg class="svg-icon"><use xlink:href="/cours_informatique/assets/minima-social-icons.svg#github"></use></svg> <span class="username">FrancoisBrucker</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>Support de cours/td d'informatique de François Brucker.</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
