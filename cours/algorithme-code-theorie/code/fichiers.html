<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Fichiers | cours d’informatique</title>
<meta name="generator" content="Jekyll v4.2.0">
<meta property="og:title" content="Fichiers">
<meta name="author" content="François Brucker">
<meta property="og:locale" content="en_US">
<meta name="description" content="Support de cours/td d’informatique de François Brucker.">
<meta property="og:description" content="Support de cours/td d’informatique de François Brucker.">
<link rel="canonical" href="/cours_informatique/cours/algorithme-code-theorie/code/fichiers.html">
<meta property="og:url" content="/cours_informatique/cours/algorithme-code-theorie/code/fichiers.html">
<meta property="og:site_name" content="cours d’informatique">
<meta property="og:type" content="website">
<meta name="twitter:card" content="summary">
<meta property="twitter:title" content="Fichiers">
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","author":{"@type":"Person","name":"François Brucker"},"description":"Support de cours/td d’informatique de François Brucker.","headline":"Fichiers","url":"/cours_informatique/cours/algorithme-code-theorie/code/fichiers.html"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/cours_informatique/assets/main.css">

  <link rel="stylesheet" href="/cours_informatique/assets/custom.css">

  <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
<link type="application/atom+xml" rel="alternate" href="/cours_informatique/feed.xml" title="cours d'informatique">
</head>

<body>
<header class="site-header" role="banner">

  <div class="wrapper">
<a class="site-title" rel="author" href="/cours_informatique/">cours d'informatique</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger">
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewbox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"></path>
            </svg>
          </span>
        </label>

        <div class="trigger">
            <a class="page-link" href="/cours_informatique/about"> about </a>
        </div>
      </nav>
</div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post">

  <header class="post-header">
    <h1 class="post-title">Fichiers</h1>Auteur : <span itemprop="author" itemscope itemtype="http://schema.org/Person"><span class="p-author h-card" itemprop="name">François Brucker</span></span>
  </header>

  <div class="post-content">
    <blockquote class="chemin">
  <p><a href="/cours_informatique/cours/algorithme-code-theorie/">Algorithme, code et théorie</a> / <a href="/cours_informatique/cours/algorithme-code-theorie/code/">code</a> / <a href="/cours_informatique/cours/algorithme-code-theorie/code/fichiers.html">fichiers</a></p>

  <p><strong>prérequis :</strong></p>

  <ul>
    <li><a href="/cours_informatique/cours/algorithme-code-theorie/algorithme/structure-chaine-de-caracteres.html">structure : chaine de caractères</a></li>
    <li><a href="/cours_informatique/tutoriels/systeme/fichiers-navigation.html">naviguer dans un système de fichiers</a></li>
    <li><a href="/cours_informatique/cours/algorithme-code-theorie/algorithme/structure-dictionnaire.html">structure : dictionnaire</a></li>
  </ul>

</blockquote>

<p>Stocker des données est une préoccupation depuis les origines de l’informatique : d’abords sur carte perforées, puis sur bande magnétiques et enfin aux disques dur et clés actuelles. Un <a href="https://fr.wikipedia.org/wiki/Fichier_informatique">fichier</a> est ainsi un ensemble de données que l’on peut lire ou écrire pour le sauvegarder. Nous n’entrerons cependant pas dans les détails des <a href="https://fr.wikipedia.org/wiki/Syst%C3%A8me_de_fichiers">systèmes de fichiers</a> (comment sont effectivement stocké les fichiers sur le disque dur), car c’est une affaire (très) compliquée. Nous n’aborderons que le stricte nécessaire pour les manipuler en python.</p>

<p>Toutes les manipulations spécifiques des fichiers (buffer, impossibilité de modifier, etc) sont issues des origines de l’informatique où stocker et charger des données était une chose compliquée <em>physiquement</em> (voir par exemple le <a href="https://youtu.be/HQyckYYT3_8?t=1120">chargement d’un programme depuis une cassette sur un TO7</a> qui prenait plus d’un quart d’heure… Et c’est du vécu, le TO7 a été ma première machine)</p>

<h2 id="système-de-fichiers">système de fichiers</h2>

<p>Un fichier est constitué d’une suite de blocs sur le disque dur, chaque bloc ayant une adresse contenant le bloc suivant. C’est une <a href="https://fr.wikipedia.org/wiki/Liste_cha%C3%AEn%C3%A9e">liste chaînée</a> de tableaux de même taille contenant les données (des octets).</p>

<p>Ce format a été choisi parce que :</p>

<ul>
  <li>des fichiers de tailles différentes doivent pouvoir être ajoutés et supprimés du disque dur. La place y est donc <a href="https://fr.wikipedia.org/wiki/D%C3%A9fragmentation_(informatique)">fragmentée</a>, et il n’est pas sur de pouvoir avoir la taille requise pour un fichier.</li>
  <li>on doit pouvoir ajouter des choses à un fichier sans avoir à tout re-écrire</li>
</ul>

<p>Les limitations sont donc :</p>

<ul>
  <li>on accède au fichier petit à petit. Il faut une <em>tête de lecture</em> qui voyage de bloc en bloc.</li>
  <li>il est impossible d’insérer des choses dans un fichier. On peut juste ajouter des éléments à la fin de celui-ci.</li>
  <li>le système de fichier dépend du système d’exploitation.</li>
  <li>écrire/lire sur un disque est coûteux en temps. Il est nécessaire d’avoir une <a href="https://fr.wikipedia.org/wiki/M%C3%A9moire_tampon">mémoire tampon</a> ce qui rend asynchrone la lecture et l’écriture d’un fichier.</li>
</ul>

<blockquote class="note">
  <p>Ce qu’on peut faire avec un fichier :</p>

  <ul>
    <li>
<strong>ouvrir</strong> le fichier : c’est se préparer à l’utiliser. Cette étape  crée un <em>buffer</em> (mémoire tampon), un pointeur de bloc, une tête de lecture, etc.</li>
    <li>
<strong>fermer</strong> un fichier : arrêter de s’en servir. Il est <strong>indispensable</strong> de toujours fermer un fichier après s’en être servi. On écrit en effet à cette étape les dernières instruction non encore passée du <em>buffer</em> au disque dur (c’est comme démonter une clé USB proprement).</li>
    <li>
<strong>lire</strong> un fichier : on fait avancer la <em>tête de lecture</em> du fichier de tout le fichier, d’une ligne ou d’un nombre donné d’octets</li>
    <li>
<strong>écrire</strong> un fichier : on ajoute des données à la fin d’un fichier (qui peut être initialement vide). Souvent on écrit pas tout de suite sur le disque dur, on attend d’avoir un nombre suffisant de données dans la mémoire tampon.</li>
  </ul>

</blockquote>

<p>Au niveau de l’ordinateur, utiliser un fichier, c’est compliqué.</p>

<h3 id="types-de-fichiers">types de fichiers</h3>

<p>On a coutume de séparer les fichiers en deux grandes familles : les <a href="https://fr.wikipedia.org/wiki/Fichier_texte">fichiers texte</a> et les <a href="https://fr.wikipedia.org/wiki/Fichier_binaire">fichiers binaires</a>. Cette séparation, essentiellement historique, est un peu artificielle mais vous trouverez encore souvent cette distinction :</p>

<ul>
  <li>Les fichiers binaires sont les plus nombreux puisque c’est presque tous les fichiers : les images, vidéos, programmes, etc. Il faut un  outil spécial pour les utiliser, c’est à dire un moyen de passer de l’octet à sa signification. On peut aider l’utilisateur en mettant une extension à son nom correspondant au type de fichier, mais ce n’est pas obligatoire.</li>
  <li>Les fichiers textes sont eux aussi constitués de nombres (un ordinateur ne connaît que ça), mais on peut leur faire correspondre des caractères via un code (voir partie format).</li>
</ul>

<p>Passer des octets à leurs significations pour un fichier se fait via un <a href="https://fr.wikipedia.org/wiki/Codec">codec</a> (codeur/décodeur). Il y en a pour les fichiers binaire codec MPEG4 par exemple, mais aussi pour les fichiers texte même si dans ce cas là on parlera plutôt d’encodage (comme utf-8).</p>

<h3 id="voir-un-fichier">voir un fichier</h3>

<p>Savoir comment interpréter les données d’un fichier n’est pas une chose facile. L’<a href="https://fr.wikipedia.org/wiki/Extension_de_nom_de_fichier">extension</a> permet au système d’exploitation d’associer une application spécifique (un visualisateur d’image si le fichier fini par <em>“.jpg”</em> par exemple). Mais ce n’est qu’une indication. Un fichier python ne se transforme pas par magie en image si on ajoute une extension <em>“.jpg”</em> au fichier…</p>

<blockquote class="note">
  <p>Utilisez <strong>toujours</strong> une extension à vos fichiers. Cela permet de gagner beaucoup de temps pour ouvrir directement la bonne application pour lire votre fichier.</p>
</blockquote>

<p>Sans extension ou sans idée de ce que contient un fichier, ce n’est qu’une suite d’octets. Pour s’en rendre compte :</p>

<blockquote class="a-faire">
  <p>Installez l’extension <a href="https://marketplace.visualstudio.com/items?itemName=ms-vscode.hexeditor">Hex Editor</a> pour vscode.</p>

  <p>Vous pourrez la trouver dans le menu <em>menu Affichage &gt; extension</em> puis recherchez <strong>Hex Editor</strong> dans la barre de recherche pour l’installer.</p>
</blockquote>

<p>Cette extension permet d’ouvrir tout fichier comme la suite d’octet qu’il est réellement. Pour cela :</p>

<blockquote class="a-faire">
  <ol>
    <li>ouvrez une nouvelle fenêtre avec vscode : <em>menu Fichier &gt; nouvelle fenêtre</em>
</li>
    <li>dans cette nouvelle fenêtre : <em>menu Affichage &gt; explorateur</em> puis cliquez sur <em>open folder</em> pour choisir un dossier contenant des images, des pdf et d’autres types de de fichiers (souvent le dossier téléchargement est un bon candidat)</li>
    <li>cliquez droit sur un fichier et choisissez <em>ouvrir avec…</em>
  <img src="./assets/fichiers-ouvrir-avec.png" alt="ouvrir avec" style="margin:auto;display: block;width:400px;">
</li>
    <li>choisissez “Hex editor”
  <img src="./assets/fichiers-hex-editor.png" alt="hex editor" style="margin: auto;display: block;width:400px;">
</li>
    <li>on obtient quelque chose en 3 parties : les octets, l’interprétation ascii de chaque octet et des informations ;
 <img src="./assets/fichiers-pannel.png" alt="pannel" style="margin: auto;display: block;width:400px;">
</li>
  </ol>
</blockquote>

<p>Certains type de fichiers sont reconnaissables par leurs premiers octets. On appelle ça des <a href="https://en.wikipedia.org/wiki/List_of_file_signatures"><em>magic number</em> ou des <em>signatures</em></a>. Si vous ouvrez un fichier pdf par exemple, vous remarquerez qu’il commence par les caractères ascii : <code class="language-plaintext highlighter-rouge">%PDF-</code>. Mais ce n’est pas la norme. Donc pour vous éviter des soucis, pensez à bien bien les extensions de fichier pour aider votre système d’exploitiation )à trouver la bonne application à ouvrir.</p>

<h2 id="python">python</h2>

<blockquote class="a-faire">
  <p>Lisez la doc : <a href="https://docs.python.org/fr/3/tutorial/inputoutput.html#reading-and-writing-files">https://docs.python.org/fr/3/tutorial/inputoutput.html#reading-and-writing-files</a></p>
</blockquote>

<p>En python, on utilise les fichiers <em>via</em> un objet <code class="language-plaintext highlighter-rouge">file</code>. On manipule les fichiers en 3 temps :</p>

<ol>
  <li>
    <p>ouverture : <code class="language-plaintext highlighter-rouge">f = open("mon_fichier.txt", "r")</code>
Ces objets sont créés par la commande <a href="https://docs.python.org/fr/3/library/functions.html#open"><code class="language-plaintext highlighter-rouge">open</code></a> qui ouvre un fichier. Elle a deux paramètres obligatoires :</p>

    <ul>
      <li>le nom du fichier,</li>
      <li>la façon dont on veut l’ouvrir :
        <ul>
          <li>
<code class="language-plaintext highlighter-rouge">'r'</code> : en lecture. La tête de lecture est placée au début du fichier</li>
          <li>
<code class="language-plaintext highlighter-rouge">'w'</code> : en écriture. La tête d’écriture est placée au début du fichier. Donc <strong>si le fichier contenait déjà des choses elles sont supprimées</strong>
</li>
          <li>
<code class="language-plaintext highlighter-rouge">'a'</code> : en écriture à la fin du fichier. La tête d’écriture est placée à la fin du fichier. Donc si le fichier contenait déjà des choses elles ne sont <strong>pas</strong> supprimées</li>
        </ul>
      </li>
    </ul>

    <p>Par défaut, les fichiers sont considérés comme étant du texte écrit en <a href="/cours_informatique/cours/algorithme-code-theorie/algorithme/structure-chaine-de-caracteres.html#utf8">utf-8</a>. Si vous voulez ouvrir/écrire un fichier binaire, il faut ajouter <code class="language-plaintext highlighter-rouge">'b'</code> au paramètre. Par exemple : <code class="language-plaintext highlighter-rouge">f = open("mon_image.jpg", "br")</code> ouvre un fichier binaire en lecture.</p>
  </li>
  <li>
    <p>On manipule ensuite le fichier grâce aux méthodes de la classe file :</p>

    <ul>
      <li>en lecture avec les méthodes :
        <ul>
          <li>
<code class="language-plaintext highlighter-rouge">read</code>: <code class="language-plaintext highlighter-rouge">texte = f.read()</code> lit tout le fichier sous la forme d’une chaine de caractères)</li>
          <li>
<code class="language-plaintext highlighter-rouge">readline</code> qui lit la ligne suivante d’un fichier</li>
        </ul>
      </li>
      <li>en écriture avec <code class="language-plaintext highlighter-rouge">write</code> :</li>
    </ul>
  </li>
  <li>
    <p>enfin, on ferme le fichier : <code class="language-plaintext highlighter-rouge">f.close()</code></p>
  </li>
</ol>

<blockquote class="attention">
  <p>Si vous ouvrez un fichier en écriture alors qu’il existait déjà, son contenu <strong>disparait immédiatement et pour toujours</strong>. Il n’y a aucun moyen de récupérer son contenu.</p>
</blockquote>

<h3 id="exemple">exemple</h3>

<blockquote class="a-faire">
  <p>Créez un fichier texte que vous nommerez <em>“haiku.txt”</em> et qui contient :</p>

  <div class="language-text highlighter-rouge">
<div class="highlight"><pre class="highlight"><code>dans le vieil étang,
une grenouille saute,
un ploc dans l'eau.

Bashô.
</code></pre></div>  </div>

</blockquote>

<h4 id="lecture-du-fichier-en-entier">Lecture du fichier en entier</h4>

<blockquote class="a-faire">
  <p>Exécutez le code suivant pour lire le fichier qui doit être dans le même dossier que votre fichier python :</p>
</blockquote>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s">"haiku.txt"</span><span class="p">,</span> <span class="s">"r"</span><span class="p">)</span>  <span class="c1"># ouverture d'un fichier texte en lecture  dans le même dossier que le ficheir python
</span><span class="n">poeme</span> <span class="o">=</span> <span class="n">f</span><span class="p">.</span><span class="n">read</span><span class="p">()</span>
<span class="n">f</span><span class="p">.</span><span class="n">close</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="n">poeme</span><span class="p">)</span>
</code></pre></div></div>

<blockquote>
  <p>Ne confondez pas le nom du fichier et son contenu. Le nom du fichier, ici <em>“haiku.txt”</em>, nous permet de l’ouvrir en lecture grâce à la commande <code class="language-plaintext highlighter-rouge">open</code>. Son contenu est ensuite mis dans la variable <code class="language-plaintext highlighter-rouge">poeme</code> grâce à la méthode <code class="language-plaintext highlighter-rouge">read</code>.</p>
</blockquote>

<h4 id="lecture-ligne-à-ligne">Lecture ligne à ligne</h4>

<blockquote class="a-faire">
  <p>Exécutez le code suivant pour lire le fichier ligne à ligne :</p>
</blockquote>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s">"haiku.txt"</span><span class="p">,</span> <span class="s">"r"</span><span class="p">)</span>
<span class="k">for</span> <span class="n">ligne</span> <span class="ow">in</span> <span class="n">f</span><span class="p">:</span>  <span class="c1"># boucle sur les lignes
</span>    <span class="k">print</span><span class="p">(</span><span class="n">ligne</span><span class="p">)</span>
<span class="n">f</span><span class="p">.</span><span class="n">close</span><span class="p">()</span>
</code></pre></div></div>

<blockquote>
  <p>Notez la ligne vide vide entre deux affichage. Ceci est du au fait que chaque ligne du fichier contient déjà un retour à la ligne. Plus celui qui est ajouté automatiquement à la fin de l’instruction <code class="language-plaintext highlighter-rouge">python</code>.</p>
</blockquote>

<h4 id="ajout-au-fichier">Ajout au fichier</h4>

<blockquote class="a-faire">
  <p>Exécutez le code suivant pour ajouter quelque chose à la fin d’un fichier :</p>
</blockquote>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s">"haiku.txt"</span><span class="p">,</span> <span class="s">"a"</span><span class="p">)</span>
<span class="n">f</span><span class="p">.</span><span class="n">write</span><span class="p">(</span><span class="s">"</span><span class="se">\n</span><span class="s">"</span><span class="p">)</span>
<span class="n">f</span><span class="p">.</span><span class="n">write</span><span class="p">(</span><span class="s">"1644-1694"</span><span class="p">)</span>
<span class="n">f</span><span class="p">.</span><span class="n">close</span><span class="p">()</span>
</code></pre></div></div>

<p>On ajoute un retour à la ligne, puis les dates de naissance et de mort de Bashô.</p>

<p>Notez qu’aller à la ligne est un caractère comme un autre (il s’écrit <code class="language-plaintext highlighter-rouge">\n</code> et vaut U+0010). Il fait parti des <a href="https://fr.wikipedia.org/wiki/Caract%C3%A8re_de_contr%C3%B4le">caractères de contrôle</a> comme la tabulation ou le bip (essayez par exemple <code class="language-plaintext highlighter-rouge">print(chr(0x7))</code>).</p>

<h4 id="ecriture-du-fichier">Ecriture du fichier</h4>

<blockquote class="a-faire">
  <p>Exécutez le code suivant pour remplacer le contenu du fichier :</p>
</blockquote>

<pre><code class="language-pyhton">f = open("haiku.txt", "w")
f.write("Noël est aux portes\n")
f.write("les dindes et les pintades\n")
f.write("rentrent dans les fours")
f.write("\n")
f.write("Salim Bellen")
f.close()
</code></pre>

<blockquote class="attention">
  <p>Une fois ouvert le fichier en écriture tout son contenu précédent est perdu.</p>
</blockquote>

<h4 id="utilisation-de-with">utilisation de <code class="language-plaintext highlighter-rouge">with</code>
</h4>

<p>Vous verrez parfois l’utilisation du mot clé python <code class="language-plaintext highlighter-rouge">with</code> qui permet d’écrire :</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s">"haiku.txt"</span><span class="p">,</span> <span class="s">"a"</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span> 
    <span class="n">f</span><span class="p">.</span><span class="n">write</span><span class="p">(</span><span class="s">"</span><span class="se">\n</span><span class="s">"</span><span class="p">)</span>
    <span class="n">f</span><span class="p">.</span><span class="n">write</span><span class="p">(</span><span class="s">"1644-1694"</span><span class="p">)</span>
</code></pre></div></div>

<ul>
  <li>au début du bloc <code class="language-plaintext highlighter-rouge">with</code> le résultat de l’ouverture du fichier est appelé <code class="language-plaintext highlighter-rouge">f</code>
</li>
  <li>A la fin du bloc <code class="language-plaintext highlighter-rouge">with</code> on ferme <code class="language-plaintext highlighter-rouge">f</code>
</li>
  <li>s’il y a des erreurs, c’est également le bloc <code class="language-plaintext highlighter-rouge">with</code> qui s’en occupe pour nous.</li>
</ul>

<h4 id="fichier-binaire">fichier binaire</h4>

<p>Pour ouvrir un fichier binaire sous python, on utilise le caractère <code class="language-plaintext highlighter-rouge">'b'</code> suivi de ce que l’on veut faire avec.</p>

<p>L’exemple suivant ouvre le fichier <code class="language-plaintext highlighter-rouge">haiku.txt</code> en lecture sous la forme d’un fichier binaire, puis place le contenu de celui-ci dans la variable <code class="language-plaintext highlighter-rouge">x</code></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;&gt;&gt;</span> <span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s">"haiku.txt"</span><span class="p">,</span> <span class="s">"br"</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">x</span> <span class="o">=</span> <span class="n">f</span><span class="p">.</span><span class="n">read</span><span class="p">()</span>
</code></pre></div></div>

<p>En regardant le type de <code class="language-plaintext highlighter-rouge">x</code> (avec la commande <code class="language-plaintext highlighter-rouge">type(x)</code>) :</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&gt;&gt;&gt; type(x)
&lt;class 'bytes'&gt;
</code></pre></div></div>

<p>On se rend compte que ce n’est pas une chaîne de caractère, mais un <code class="language-plaintext highlighter-rouge">bytes</code> (une suite d’octets). En l’affichant on voit que les accents ne passent pas :</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&gt;&gt;&gt; print(x)
b"dans le vieil \xc3\xa9tang,\nune grenouille saute,\nun ploc dans l'eau.\n\nBash\xc3\xb4.\n"
</code></pre></div></div>

<p>Quand python affiche des suites d’octet, il essaie de les écrire en ascii et tous les caractères qu’il ne comprend pas (ici les accents car ils sont codés sur 2 octets en utf-8) il écrit juste le nombre sous format hexadécimal <code class="language-plaintext highlighter-rouge">\xc3</code> par exemple. De plus, il fait commencer l’affichage par un <code class="language-plaintext highlighter-rouge">b</code>  pour bien montrer que ce n’est <strong>PAS</strong> une chaîne de caractère.</p>

<p>On peut ensuite transformer les bytes <code class="language-plaintext highlighter-rouge">x</code> en autre chose, ici en <code class="language-plaintext highlighter-rouge">utf-8</code> puisque c’était l’encodage :</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;&gt;&gt;</span> <span class="n">texte</span> <span class="o">=</span> <span class="n">x</span><span class="p">.</span><span class="n">decode</span><span class="p">(</span><span class="s">"utf-8"</span><span class="p">)</span>
</code></pre></div></div>

<p>En affichant le texte, on voit que c’est bien notre poème (car c’est notre poème !) :</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;&gt;&gt;</span> <span class="k">print</span><span class="p">(</span><span class="n">texte</span><span class="p">)</span>
<span class="n">dans</span> <span class="n">le</span> <span class="n">vieil</span> <span class="n">étang</span><span class="p">,</span>
<span class="n">une</span> <span class="n">grenouille</span> <span class="n">saute</span><span class="p">,</span>
<span class="n">un</span> <span class="n">ploc</span> <span class="n">dans</span> <span class="n">l</span><span class="s">'eau.

Bashô.

</span></code></pre></div></div>

<h3 id="manipulation-des-dossiers-et-des-fichiers">manipulation des dossiers et des fichiers</h3>

<p>Par défaut python va chercher les fichiers à ouvrir dans le dossier du fichier python entrain d’être exécuté. On peut facilement chercher un fichier dans un dossier spécifique en python.</p>

<p>Commencez par intégrer la règle d’or :</p>

<blockquote class="note">
  <p>On ne présuppose jamais de l’endroit où un fichier est stocker sur un ordinateur.</p>
</blockquote>

<p>Supposons  que vous ayez un fichier python dans le dossier <em>“/Users/fbrucker/Documents/mon_projet/main.py”</em> et que ce programme python utilise le fichier <em>“/Users/fbrucker/Documents/mon_projet/donnees.txt”</em>.</p>

<p>Si votre programme <em>“main.py”</em> utilise le fichier <em>“donnees.txt”</em> de cette façon :</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">donnees</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s">"/Users/fbrucker/Documents/mon_projet/donnees.txt"</span><span class="p">).</span><span class="n">read</span><span class="p">()</span>
</code></pre></div></div>

<p>Il ne pourra fonctionner <strong>que</strong> sur votre ordinateur ! En effet, Si vous copiez le dossier <em>“mon_projet”</em>  et tout son contenu  de l’ordinateur A à l’ordinateur B, il est très peu probable qu’il soit placé au même endroit sur le disque dur.</p>

<p>Une première solution est d’utiliser un chemin relatif :</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">donnees</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s">"donnees.txt"</span><span class="p">).</span><span class="n">read</span><span class="p">()</span>
</code></pre></div></div>

<p>On voit que le chemin utilisé est <em>relatif</em> car il ne commence pas par un <em>”/”</em>. On cherche le fichier <em>“donnees.txt”</em> par rapport au dossier courant du terminal qui a exécuté le fichier python. De là, si vous êtes dans le dossier <em>“mon_projet”</em> lorsque vous tapez la commande <code class="language-plaintext highlighter-rouge">python main.py</code> votre programme marchera sur tous les ordinateurs.</p>

<p>Si cette technique fonctionne souvent, elle n’est cependant pas optimale car vous ne pouvez pas garantir que votre programme sera <strong>toujours</strong> exécuté depuis le dossier <em>“mon_projet”</em>. S’il est par exemple exécuté depuis le parent de <em>“mon_projet”</em> : <code class="language-plaintext highlighter-rouge">python mon_projet/main.py</code> ; votre code ne fonctionnera plus puisque le dossier par défaut ne sera plus le bon…</p>

<p>La solution qui fonctionne tout le temps est de déterminer à l’exécution l’emplacement du fichier<em>“main.py”</em>. Ceci se fait grâce à la variable spéciale : <code class="language-plaintext highlighter-rouge">__file__</code>.</p>

<blockquote class="a-faire">
  <p>Copiez le code suivant dans un fichier et exécutez le pour voir le fonctionnement de la variable <code class="language-plaintext highlighter-rouge">__file__</code> :</p>

  <div class="language-python highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><span class="k">print</span><span class="p">(</span><span class="n">__file__</span><span class="p">)</span>
</code></pre></div>  </div>

</blockquote>

<p>On a fait que la moitié du chemin, puisque l’on a l’emplacement du fichier, mais pas le dossier. Ceci peut se faire en utilisant le module <a href="https://docs.python.org/fr/3/library/os.path.html"><code class="language-plaintext highlighter-rouge">os.path</code> de python</a> :</p>

<blockquote class="a-faire">
  <p>Copiez le code suivant dans un fichier et exécutez le pour voir comment récupérer le dossier à partir de <code class="language-plaintext highlighter-rouge">__file__</code> :</p>

  <div class="language-python highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">os</span>

<span class="k">print</span><span class="p">(</span><span class="n">__file__</span><span class="p">)</span> <span class="c1"># le chemin absolu jusqu'au fichier
</span><span class="k">print</span><span class="p">(</span><span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">__file__</span><span class="p">))</span>  <span class="c1"># le dossier
</span><span class="k">print</span><span class="p">(</span><span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="n">basename</span><span class="p">(</span><span class="n">__file__</span><span class="p">))</span> <span class="c1"># le nom du fichier                                     
</span></code></pre></div>  </div>

</blockquote>

<p>Cette méthode permet d’obtenir un chemin absolu de référence pour garantir l’accès au fichiers de données sur toutes les machines où votre projet sera copié.</p>

<p>Un fois un dossier de référence trouvé, on pourra l’utiliser pour accéder à nos données. Mais <strong>jamais</strong> à la main :</p>

<blockquote class="note">
  <p>Lorsque l’on manipule des fichiers ou que l’on combine des dossier on utilise <strong>toujours</strong> une bibliothèque dédiée pour cela, on ne manipule <strong>jamais</strong> les noms de fichiers et de dossier en utilisant des méthodes de chaines de caractères</p>
</blockquote>

<p>On va voir deux façon de faire en python, l’une classique avec le module <a href="https://docs.python.org/fr/3/library/os.path.html">os.path</a>, l’autre plus moderne qui utilise le module <a href="https://docs.python.org/fr/3/library/pathlib.html">pathlib</a>.</p>

<h4 id="module-ospath">module os.path</h4>

<p>On suppose que la variable <code class="language-plaintext highlighter-rouge">__file__</code> corresponde au chemin <em>“/Users/fbrucker/Documents/mon_projet/main.py”</em> sur le disque dur. On suppose qaussi que le module <code class="language-plaintext highlighter-rouge">os</code> a été importé.</p>

<ul>
  <li>rendre le dossier où est <code class="language-plaintext highlighter-rouge">__file__</code> avec <a href="https://docs.python.org/fr/3/library/os.path.html#os.path.dirname">dirname</a> : <code class="language-plaintext highlighter-rouge">dossier = os.path.dirname(__file__)</code>.</li>
  <li>rendre le nom du fichier pointé par <code class="language-plaintext highlighter-rouge">__file__</code> avec <a href="https://docs.python.org/fr/3/library/os.path.html#os.path.basename">basename</a> : <code class="language-plaintext highlighter-rouge">nom_fichier = os.path.basename(__file__)</code>
</li>
  <li>concaténer deux chemins avec <a href="https://docs.python.org/fr/3/library/os.path.html#os.path.join">join</a> : <code class="language-plaintext highlighter-rouge">os.path.join("/Users/fbrucker", "Documents/mon_projet")</code> rendra : <code class="language-plaintext highlighter-rouge">/Users/fbrucker/Documents/mon_projet</code>
</li>
  <li>rendre le dossier parent : <code class="language-plaintext highlighter-rouge">os.path.join(dossier, "..")</code>.</li>
  <li>rendre le chemin absolu à partir d’un chemin relatif : <code class="language-plaintext highlighter-rouge">os.path.abspath(".")</code>
</li>
</ul>

<h4 id="module-pathlib">module pathlib</h4>

<p>Le module <a href="https://docs.python.org/fr/3/library/pathlib.html">pathlib</a> permet d’avoir une approche objet de la manipulation des fichiers. Le tuto suivant est parfait pour vous montrer comment l’utiliser : <a href="https://jefftriplett.com/2017/pathlib-is-wonderful/">https://jefftriplett.com/2017/pathlib-is-wonderful/</a>.</p>

<h3 id="fichiers-distants">fichiers distants</h3>

<p>Les fichiers stockés sur internet peuvent aussi être récupérés en python <em>via</em> leur <a href="https://fr.wikipedia.org/wiki/Uniform_Resource_Locator">url</a>. On utilise la bibliothèque <a href="https://requests-fr.readthedocs.io/en/latest/">requests</a>.</p>

<p>Par exemple, le site <a href="https://www.gutenberg.org">https://www.gutenberg.org</a> possède de nombreux livres au format utf-8 à télécharger. Par exemple <a href="https://www.gutenberg.org/ebooks/14155">https://www.gutenberg.org/ebooks/14155</a> :</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="n">page</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="s">"https://www.gutenberg.org/ebooks/14155.txt.utf-8"</span><span class="p">)</span>

<span class="n">texte</span> <span class="o">=</span> <span class="n">page</span><span class="p">.</span><span class="n">text</span>  

</code></pre></div></div>

<p>Une fois téléchargé, le fichier est décodé selon le format donné dans la requête (ici <code class="language-plaintext highlighter-rouge">utf-8</code>), voir <code class="language-plaintext highlighter-rouge">page.encoding</code>.</p>

<p><a href="https://www.tutorialspoint.com/downloading-files-from-web-using-python">https://www.tutorialspoint.com/downloading-files-from-web-using-python</a></p>

<h2 id="format-de-données">format de données</h2>

<p>Lorsque l’on manipule des données, il vaut mieux <strong>toujours</strong> utiliser un format de stockage</p>

<blockquote class="note">
  <p>Plutôt que d’écrire simplement un fichier texte contenant nos données, on préfèrera les structurer dans un format permettant de les relire simplement. On en conseille deux :</p>

  <ul>
    <li>les fichiers csv pour des données de type tableaux excel</li>
    <li>les fichiers json pour des données structurées en fiches.</li>
  </ul>

</blockquote>

<h3 id="les-fichiers-csv">les fichiers csv</h3>

<p>Les fichiers <a href="https://fr.wikipedia.org/wiki/Comma-separated_values">csv</a> sont des fichiers textes permettant de stocker des données structurées comme une feuille excel.</p>

<p>CSV signifie <em>comma separated values</em>, donc données séparées par des virgules. Exemple tiré de wikipedia :</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
Sexe, Prénom, Année de naissance
M, Alphonse, 1932
F, Béatrice, 1964
F, Charlotte, 1988
</code></pre></div></div>

<blockquote class="a-faire">
  <p>Créez un fichier nommé <em>“data.csv”</em> dans le quel vous copierez le texte précédent.</p>
</blockquote>

<p>La première ligne est souvent le noms des colonnes, chaque ligne représentant des données.</p>

<p>python permet de facilement lire des fichiers <code class="language-plaintext highlighter-rouge">csv</code> sans avoir besoin de tout faire à la main : <a href="https://docs.python.org/fr/3/library/csv.html">https://docs.python.org/fr/3/library/csv.html</a></p>

<p>Il faut faire ça en plusieurs temps :</p>

<ol>
  <li>
<code class="language-plaintext highlighter-rouge">import csv</code> pour pouvoir utiliser le module <code class="language-plaintext highlighter-rouge">csv</code>
</li>
  <li>ouvrir le fichier à lire avec <code class="language-plaintext highlighter-rouge">open</code>
</li>
  <li>placez ce fichier dans un <code class="language-plaintext highlighter-rouge">reader</code> dont le but est de lire le fichier et de le structurer en utilisant ses paramètres. Il possède <a href="https://docs.python.org/fr/3/library/csv.html#csv-fmt-params">plusieurs options</a> utiles :
    <ul>
      <li>
<code class="language-plaintext highlighter-rouge">delimiter</code>. Par défaut c’est des <code class="language-plaintext highlighter-rouge">','</code>, mais on verra souvent en France des csv dont le délimiteur est un <code class="language-plaintext highlighter-rouge">';'</code> (car les virgules sont déjà utilisés pour les nombres réels)</li>
      <li>
<code class="language-plaintext highlighter-rouge">quotechar</code> : pour savoir ce qui est une chaine de caractère, souvent des <code class="language-plaintext highlighter-rouge">"</code>. Si vous ne mettez rien, tout sera considéré comme des chaine de caractères et il faudra convertir à la main chaque donné si nécessaire</li>
    </ul>
  </li>
  <li>lire le fichier ligne à ligne. A chaque utilisation vous obtiendrez une liste contenant les différents champs de la ligne lue.</li>
</ol>

<h4 id="lire-un-fichier-csv">Lire un fichier csv</h4>

<p>le code ci-après lit le fichier csv et le place dans une liste de liste si la ligne contient bien 3 champs. Puis on converti le dernier élément en entier.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">csv</span>


<span class="n">donnees</span> <span class="o">=</span> <span class="p">[]</span>

<span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s">"data.csv"</span><span class="p">,</span> <span class="s">"r"</span><span class="p">)</span>
<span class="n">lecteur</span> <span class="o">=</span> <span class="n">csv</span><span class="p">.</span><span class="n">reader</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="k">for</span> <span class="n">ligne</span> <span class="ow">in</span> <span class="n">lecteur</span><span class="p">:</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">ligne</span><span class="p">)</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
        <span class="n">donnees</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">ligne</span><span class="p">)</span>
</code></pre></div></div>

<h4 id="lire-une-ligne-dun-fichier-csv">Lire une ligne d’un fichier csv</h4>

<p>Pour lire une unique ligne, on peut utiliser la la commande <code class="language-plaintext highlighter-rouge">next</code>. Le code suivant lit la première ligne, qui est un titre, puis lit les autres données en transformant le dernier champ en <code class="language-plaintext highlighter-rouge">int</code>.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">csv</span>


<span class="n">donnees</span> <span class="o">=</span> <span class="p">[]</span>

<span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s">"data.csv"</span><span class="p">,</span> <span class="s">"r"</span><span class="p">)</span>
<span class="n">lecteur</span> <span class="o">=</span> <span class="n">csv</span><span class="p">.</span><span class="n">reader</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="n">titres</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">lecteur</span><span class="p">)</span>  <span class="c1"># lit une unique ligne
</span><span class="k">for</span> <span class="n">ligne</span> <span class="ow">in</span> <span class="n">lecteur</span><span class="p">:</span>    <span class="c1"># continue la lecture
</span>    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">ligne</span><span class="p">)</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
        <span class="n">ligne</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">ligne</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>  <span class="c1"># convertie l'année en entier.
</span>        <span class="n">donnees</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">ligne</span><span class="p">)</span>
</code></pre></div></div>

<h4 id="exercice">exercice</h4>

<p>L’adresse <a href="https://github.com/hbenbel/French-Dictionary/tree/master/dictionary">https://github.com/hbenbel/French-Dictionary/tree/master/dictionary</a> contient un dictionnaire français.</p>

<blockquote class="a-faire">
  <ol>
    <li>téléchargez le fichier <code class="language-plaintext highlighter-rouge">nouns.txt</code>
</li>
    <li>importez le au format csv (<strong>attention</strong>, le séparateur n’est pas la virgule)</li>
    <li>répondez à cette question existentielle : <code class="language-plaintext highlighter-rouge">nycthémères</code> est-il masculin ou féminin ?</li>
  </ol>

</blockquote>

<h3 id="le-format-json">le format json</h3>

<blockquote class="note">
  <p>Le format <a href="https://www.json.org/json-fr.html">json</a> vient du web. C’est le format idéal pour transférer des données sous la forme d’un texte. Il a de nombreux avantages, citons en deux :</p>

  <ul>
    <li>aisé à lire et modifier sous la forme d’un fichier : pas besoin d’un outil spécial, un simple éditeur de texte suffit.</li>
    <li>aisé à lire et modifier en python : les données json se manipulent sous la forme d’un dictionnaire en python.</li>
  </ul>

</blockquote>

<p>Ci-après, un exemple de fichier json contenant des super-héros (pris de <a href="https://developer.mozilla.org/fr/docs/Learn/JavaScript/Objects/JSON">https://developer.mozilla.org/fr/docs/Learn/JavaScript/Objects/JSON</a>) :</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[
  {
    "name": "Molecule Man",
    "age": 29,
    "secretIdentity": "Dan Jukes",
    "powers": [
      "Radiation resistance",
      "Turning tiny",
      "Radiation blast"
    ]
  },
  {
    "name": "Madame Uppercut",
    "age": 39,
    "secretIdentity": "Jane Wilson",
    "powers": [
      "Million tonne punch",
      "Damage resistance",
      "Superhuman reflexes"
    ]
  }
]
</code></pre></div></div>

<p>C’est une liste de deux éléments, chaque élément étant composée de <em>clés</em> et de <em>valeurs</em> comme dans un dictionnaire python. La seule différence est qu’une clé est <strong>toujours</strong> une chaine de caractère.</p>

<h4 id="json-et-dictionnaires-en-python">json et dictionnaires en python</h4>

<p>Un json c’est <strong>une chaine de caractère</strong> qui est transformée en données (de type entier, réel, etc). Python utilise nativement le json via sa <a href="https://docs.python.org/fr/3/library/json.html">bibliothèque json</a>.</p>

<p>Un dictionnaire python :</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">mes_donnees_dictionnaire</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">"x"</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span>
    <span class="s">"y"</span><span class="p">:</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="o">-</span><span class="mi">4</span><span class="p">,</span> <span class="o">-</span><span class="mi">5</span><span class="p">]</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Se transforme en json (une chaine de caractère) avec <a href="https://docs.python.org/fr/3/library/json.html#json.dumps"><code class="language-plaintext highlighter-rouge">json.dumps</code></a> :</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="kn">import</span> <span class="nn">json</span>

<span class="n">texte_json</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">mes_donnees_dictionnaire</span><span class="p">)</span>

</code></pre></div></div>

<p>Pour le représenter de façon joli, on pourra ajouter les arguments :</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">print</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">mes_donnees_dictionnaire</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">))</span>
</code></pre></div></div>

<p>Cette chaine peut à nouveau être transformée en dictionnaire grâce à <a href="https://docs.python.org/fr/3/library/json.html#json.loads"><code class="language-plaintext highlighter-rouge">json.loads</code></a> :</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">donnees</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="n">loads</span><span class="p">(</span><span class="n">texte_json</span><span class="p">)</span>

</code></pre></div></div>

<h4 id="lecture-de-fichiers">lecture de fichiers</h4>

<p>Pour lire un fichier on utilise la méthode  <a href="https://docs.python.org/fr/3/library/json.html#json.load"><code class="language-plaintext highlighter-rouge">json.load</code></a> (à ne pas confondre avec <code class="language-plaintext highlighter-rouge">json.loads</code> qui est pour les chaines de caractères).</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s">"data.json"</span><span class="p">,</span> <span class="s">"r"</span><span class="p">)</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="n">load</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="n">f</span><span class="p">.</span><span class="n">close</span><span class="p">()</span>

</code></pre></div></div>

<p>Une fois lu, le fichier json est converti en objet python. L’objet <code class="language-plaintext highlighter-rouge">data</code> est donc une liste composée de deux dictionnaires.</p>

<p>On peut aussi lire des données json depuis internet facilement avec le module <a href="https://fr.python-requests.org/en/latest/"><code class="language-plaintext highlighter-rouge">requests</code></a> :</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="kn">import</span> <span class="nn">requests</span>

<span class="n">data_url</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="s">"https://data.senat.fr/data/senateurs/ODSEN_GENERAL.json"</span><span class="p">)</span>

<span class="n">data</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="n">loads</span><span class="p">(</span><span class="n">data_url</span><span class="p">.</span><span class="n">content</span><span class="p">)</span>

</code></pre></div></div>

<h4 id="écriture-de-fichiers">écriture de fichiers</h4>

<p>Pour lire un fichier on utilise la méthode  <a href="https://docs.python.org/fr/3/library/json.html#json.dump"><code class="language-plaintext highlighter-rouge">json.dump</code></a> (à ne pas confondre avec <code class="language-plaintext highlighter-rouge">json.dumps</code> qui est pour les chaines de caractères).</p>

<h3 id="bibliothèque-pandas">bibliothèque pandas</h3>

<blockquote class="note">
  <p><a href="https://pandas.pydata.org/">https://pandas.pydata.org/</a></p>
</blockquote>

  </div>

</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/cours_informatique/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">cours d'informatique</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">cours d'informatique</li>
</ul>
      </div>

      <div class="footer-col footer-col-2">
<ul class="social-media-list"><li><a href="https://github.com/FrancoisBrucker"><svg class="svg-icon"><use xlink:href="/cours_informatique/assets/minima-social-icons.svg#github"></use></svg> <span class="username">FrancoisBrucker</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>Support de cours/td d'informatique de François Brucker.</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
