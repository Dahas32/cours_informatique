<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
<!-- Begin Jekyll SEO tag v2.7.1 -->
<title>étude : voyageur de commerce | cours d’informatique</title>
<meta name="generator" content="Jekyll v4.2.0">
<meta property="og:title" content="étude : voyageur de commerce">
<meta property="og:locale" content="en_US">
<meta name="description" content="Support de cours/td d’informatique de François Brucker.">
<meta property="og:description" content="Support de cours/td d’informatique de François Brucker.">
<link rel="canonical" href="/cours_informatique/cours/algorithme-code-theorie/algorithme/etude-voyageur-de-commerce.html">
<meta property="og:url" content="/cours_informatique/cours/algorithme-code-theorie/algorithme/etude-voyageur-de-commerce.html">
<meta property="og:site_name" content="cours d’informatique">
<meta name="twitter:card" content="summary">
<meta property="twitter:title" content="étude : voyageur de commerce">
<script type="application/ld+json">
{"description":"Support de cours/td d’informatique de François Brucker.","@type":"WebPage","url":"/cours_informatique/cours/algorithme-code-theorie/algorithme/etude-voyageur-de-commerce.html","headline":"étude : voyageur de commerce","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/cours_informatique/assets/main.css">

  <link rel="stylesheet" href="/cours_informatique/assets/custom.css">

  <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
<link type="application/atom+xml" rel="alternate" href="/cours_informatique/feed.xml" title="cours d'informatique">
<script>MathJax={"tex":{"inlineMath":[["$","$"],["\\(","\\)"]],"displayMath":[["\\[","\\]"]]},"svg":{"fontCache":"global"},"svg":{"fontCache":"global"}}</script><script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>

<body>
<header class="site-header" role="banner">

  <div class="wrapper">
<a class="site-title" rel="author" href="/cours_informatique/">cours d'informatique</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger">
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewbox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"></path>
            </svg>
          </span>
        </label>

        <div class="trigger">
            <a class="page-link" href="/cours_informatique/about"> about </a>
        </div>
      </nav>
</div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post">

  <header class="post-header">
    <h1 class="post-title">étude : voyageur de commerce</h1>
  </header>

  <div class="post-content">
    <blockquote class="chemin">
  <p><a href="/cours_informatique/cours/algorithme-code-theorie/">Algorithme, code et théorie</a> / <a href="/cours_informatique/cours/algorithme-code-theorie/algorithme/">algorithmie</a> / <a href="/cours_informatique/cours/algorithme-code-theorie/algorithme/etude-voyageur-de-commerce.html">étude : voyageur de commerce</a></p>

  <p><strong>prérequis :</strong></p>

  <ul>
    <li><a href="/cours_informatique/cours/algorithme-code-theorie/algorithme/methode-gloutons.html">algorithmes gloutons</a></li>
  </ul>

</blockquote>

<p>Nous allons étudier ici un problème d’intérêt pratique ainsi que certains problèmes connexes. L’étude de ces problèmes nous permettra d’utiliser des technique de design d’algorithmes connus comme les algorithmes gloutons ou d’en découvrir d’autres comme la programmation dynamique.</p>

<p>En plus d’être des problèmes courant, ils de plus très jolis algorithmiquement. On espère que vous aimerez la ballade.</p>

<h2 id="graphes-connexes">graphes connexes</h2>

<p>Les problèmes que nous allons étudier dans cette partie sont tous plus ou moins relier à la notion de <strong>graphe</strong>. Nous n’allons pas faire un cours de graphe ici (une introduction est disponible <a href="/cours_informatique/cours/graphes/">ici</a> pour les personnes intéressées), juste donner quelques définitions et propriétés utiles :</p>

<blockquote class="note">
  <p>Un <strong>graphe</strong> $G = (V, E)$ est un couple où $E$ est un ensemble de sous-ensemble à 2 éléments de $V$. $E$ est l’ensemble des <strong>sommets</strong> de $G$ et $E$ l’ensemble des <strong>arêtes</strong> (on notera les arêtes $xy$ plutôt que ${x, y}$ pour rendre les notations plus digestes).</p>

  <p>Une <strong>valuation</strong> d’un graphe $G = (V, E)$ est une fonction $\omega: E \rightarrow \mathbb{R}^+$</p>
</blockquote>

<p>Nous allons en particulier nous intéresser aux problématiques de chemin et cycles dans un graphe, que l’on peut définir ainsi :</p>

<blockquote class="note">
  <p>Pour un graphe $G=(V, E)$ :</p>

  <ul>
    <li>un <strong>chemin</strong> est une suite de sommets $v_1,\dots, v_i, \dots, v_m$ tels que :
      <ul>
        <li>$v_iv_{i+1} \in E$ pour tout $1\leq i &lt; m$,</li>
        <li>$v_iv_{i+1} \neq v_jv_{j+1}$ si $i \neq j$</li>
      </ul>
    </li>
    <li>un <strong>cycle</strong> est un chemin dans le premier et le dernier élément sont identiques.</li>
  </ul>

</blockquote>

<p>Enfin, nous introduisons la notion, de connectivité d’un graphe :</p>

<blockquote class="note">
  <p><strong>Problème de connexité d’un graphe</strong> :</p>

  <ul>
    <li>
<strong>Données</strong> :
      <ul>
        <li>un graphe $G = (V, E)$ à $n$ sommets</li>
      </ul>
    </li>
    <li>
<strong>question</strong> :
      <ul>
        <li>peut-on trouver un chemin entre $x$ et $y$, quelque soient $x, y \in V$ ?</li>
      </ul>
    </li>
  </ul>

</blockquote>

<p>Les graphes qui répondent OUI à cette question sont dit <strong>connexes</strong>.</p>

<p>Remarquez que le problème de connexité est équivalent au problème suivant (pour un graphe donné, les réponses aux deux problèmes sont identiques), alors qu’il semble pourtant plus simple :</p>

<blockquote class="note">
  <p><strong>Problème des chemins à partir d’un sommet</strong> :</p>

  <ul>
    <li>
<strong>Données</strong> :
      <ul>
        <li>un graphe $G = (V, E)$ à $n$ sommets</li>
        <li>un sommet $x \in V$</li>
      </ul>
    </li>
    <li>
<strong>question</strong> :
      <ul>
        <li>peut-on trouver un chemin entre $x$ et $y$, quelque soit $xy \in V$ ?</li>
      </ul>
    </li>
  </ul>

</blockquote>
<details><summary>preuve de l’équivalence</summary><div>
<p>Soit $G = (V, E)$ un graphe. Il est clair que s’il est connexe, le <em>problème des chemins à partir d’un sommet</em> est aussi vrai, $\forall x \in V$</p>

<p>Réciproquement, supposons que le problème <em>problème des chemins à partir d’un sommet</em> est vrai pour $G$ et un sommet $x^\star$</p>

<p>Soient alors $x \neq y \in V$. Il existe :</p>

<ul>
  <li>un chemin $u_1\dots u_k$ entre $x^\star$ et $x$ ($u_1 = x^\star$ et $u_k = x$)</li>
  <li>un chemin $v_1\dots v_l$ entre $y$ et $x^\star$ ($v_l = y$ et $v_l = x^\star$)</li>
</ul>

<p>On peut alors noter $i^\star$ le plus grand indice tel qu’il existe $j^\star$ avec : $u_{i^\star$} = v_j^\star$. Comme $u_1 = v_l$, $i^\star$ existe.</p>

<p>La suite $v_1 \dots v_{j^\star} u_{i^\star+1} \dots u_k$ est alors un chemin entre $x$ et $y$.</p>

<p>Comme $x$ et $y$ ont été pris au hasard, on en conclut que $G$ est connexe.</p>

</div></details>

<p>La preuve de l’équivalence entre ces deux problèmes nous donne une propriété fondamentale de la connexité :</p>

<blockquote class="note">
  <p>Soit $G=(V, E)$ un graphe. S’il existe un chemin allant de $x$ à $y$ et un chemin allant de $y$ à $z$ dans $G$, alors il existe un chemin allant de $x$ à $z$.</p>
</blockquote>

<p>De là, la propriété suivante :</p>

<blockquote class="note">
  <p>Soit $G=(V, E)$ un graphe. Une <strong>composante connexe</strong> de $G$ est un sous-ensemble $A$ de sommets de $G$, maximal pour l’inclusion, tel que le graphe $G \vert_A = (A, { uv \in E \mid u, v \in A})$, restriction de $G$ à $A$, est connexe.</p>

  <p>En ajoutant à $G$ une arête $xy$ où $x$ et $y$ sont dans des composantes connexes différentes, l’union de ces deux ensembles forme une unique composante connexe dans le nouveau graphe.</p>
</blockquote>

<p>Il faut donc un petit nombre d’arête à un graphe pour qu’il soit connexe :</p>

<blockquote class="note">
  <p>Si $G=(V, E)$ est un graphe connexe, alors $\vert E \vert \geq \vert V \vert -1$.</p>
</blockquote>
<details><summary>preuve</summary><div>
<p>On le prouve par récurrence sur $\vert V \vert$. Si le graphe contient 1 sommet, la propriété est vérifiée. Supposons la propriété vrai pour $n-1$ sommet et considérons un graphe connexe à $n &gt; 1$ sommet.</p>

<p>Choisissons un sommet $x$ du graphe est supprimons le de $G$. La restriction de $G$ contient alors $k$ composantes connexes à $n_i$ sommets ($1 \leq i \leq k$), contenant (par hypothèse de récurrence) chacune au moins $n_i -1$ arêtes.</p>

<p>Comme $G$ était connexe, $x$ était relié à chacune des composantes connexes par une arête, c’est à dire au moins $k$. De là, le nombre d’arête de $G$ est :</p>

\[\vert E\vert \geq \sum_{i=1}^k (n_i -1) + k = \sum_{i=1}^k n_i = n - 1\]

</div></details>

<blockquote class="attention">
  <p>La réciproque est cependant fausse… Il existe des graphes $G=(V, E)$ non connexe ayant plus de $\vert V\vert -1$ arêtes.</p>
</blockquote>

<p>Ces diverses propriétés vont nous permettre de créer à coût min un réseau routier entre villes.</p>

<h2 id="relier-des-villes-entre-elles">Relier des villes entre elles</h2>

<p>Avant de voyager de ville en ville, commençons par nous mettre dans la peau d’une entreprise de travaux public dont le but est de construire un réseau routier :</p>

<blockquote class="note">
  <p><strong>réseau routier à coût min</strong></p>

  <ul>
    <li>
<strong>Données</strong> :
      <ul>
        <li>$V$, un ensemble de $n$ villes</li>
        <li>$c: V \times V \rightarrow \mathbb{R}^+$ une fonction de coût pour créer une route à double sens entre 2 villes.</li>
      </ul>
    </li>
    <li>
<strong>question</strong> :
      <ul>
        <li>donnez un graphe $G=(V, E)$ connexe telle que $\sum_{xy \in E} c(x, y)$  soit minimum parmi tous les graphes connexes.</li>
      </ul>
    </li>
  </ul>

</blockquote>

<h2 id="voyageur-de-commerce">Voyageur de commerce</h2>

<p>Le <a href="https://fr.wikipedia.org/wiki/Probl%C3%A8me_du_voyageur_de_commerce">problème du voyageur de commerce</a> peut se formuler ainsi :</p>

<p><em>“un voyageur de commerce doit visiter $n$ villes dans la journée. Il veut donc partir de chez lui, parcourir toutes les villes puis revenir chez lui en ayant parcouru le minimum de distance”</em>.</p>

<p>Il existe de nombreuses formalisation de ce problème, nous allons en donner 2. Commençons par la première, qui est la plus utilisée car elle s’applique directement aux villes sur une carte (la distance routière entre 2 villes étant une distance) :</p>

<blockquote class="note">
  <p><strong>Voyageur de commerce euclidien</strong> : Soit $V$ un ensemble de $n$ éléments et $d: V \times V \rightarrow \mathbb{R}^+$ une distance (donc symétrique et respectant l’inégalité triangulaire) sur $V$.</p>

  <p>Donnez un ordre $v_1, \dots, v_n$ entre les villes minimisant :</p>

\[\sum_{i=1}^{i=n-1} d(v_i, v_{i+1}) + d(v_n, v_1)\]

</blockquote>

<blockquote class="tbd">
  <p>exemple</p>
</blockquote>

<p>De là, la définition générale du voyageur de commerce est :</p>

<blockquote class="note">
  <p><strong>Problème du voyageur de commerce</strong> :</p>

  <ul>
    <li>
<strong>Données</strong> :
      <ul>
        <li>un graphe $G = (V, E)$ à $n$ sommets</li>
        <li>une valuation $\omega$ sur $G$</li>
      </ul>
    </li>
    <li>
<strong>question</strong> :
      <ul>
        <li>donnez un cycle $v_1, \dots, v_i, \dots, v_n = v_1$ passant par tous les sommets tel que $\sum_{i=1}^{i=n-1} d(v_i, v_{i+1}) + d(v_n, v_1)$ soit minimal.</li>
      </ul>
    </li>
  </ul>

</blockquote>

<p>Remarquez que si le <em>problème du voyageur de commerce euclidien</em> admet toujours une solution (tous les parcours entre les villes sont possibles), le <em>problème du  le voyageur de commerce</em> n’en a pas forcément. On n’est même pas garanti que l’on puisse passer par toutes les villes.</p>

<h2 id="problèmes-de-graphes">problèmes de graphes</h2>

<p>Commençons par étudier deux cas particuliers du <em>problème du voyageur de commerce</em>, le premier sera simple à résoudre, le second beaucoup plus dur.</p>

<h3 id="connexité">connexité</h3>

<p>Commençons par regarder si pour un graphe donné il existe un moyen de passer par tous les sommets. Ceci peut se formaliser par le problème suivant :</p>

<p>On peut maintenant poser au problème suivant :</p>

<blockquote class="note">
  <p><strong>Connectivité minimale d’un graphe</strong></p>

  <ul>
    <li>
<strong>Données</strong> :
      <ul>
        <li>un graphe $G=(V, E)$</li>
      </ul>
    </li>
    <li>
<strong>question</strong> :
      <ul>
        <li>Donnez, s’il existe, un sous-ensemble de $E’$ de $E$ de taille minimale telle que $G’=(V, E’)$ soit connexe</li>
      </ul>
    </li>
  </ul>

</blockquote>

<p>Ce problème permet de savoir si $G$ est connexe et si oui, rend un ensemble d’arête qui rende le graphe connexe. En pratique, c’est souvent plutôt le problème suivant qui est posé :</p>

<blockquote class="note">
  <p><strong>connectivité minimale euclidienne</strong> : Soit $V$ un ensemble de $n$ éléments et $d: V \times V \rightarrow \mathbb{R}^+$ une distance (donc symétrique et respectant l’inégalité triangulaire) sur $V$.</p>

  <p>Donnez un ensemble $E^\star$ de couples telle que :</p>
  <ul>
    <li>$G = (V, E^\star)$ soit connexe</li>
    <li>$\sum_{xy \in E^\star}d(x, y)$ soit minimale
\(\sum_{i=1}^{i=n-1} d(v_i, v_{i+1}) + d(v_n, v_1)\)</li>
  </ul>

</blockquote>

<blockquote class="note">
  <p><strong>Problème de connexité minimal</strong> :</p>

  <ul>
    <li>
<strong>Données</strong> :
      <ul>
        <li>un graphe $G = (V, E)$ à $n$ sommets</li>
        <li>une valuation $\omega$ sur $G$</li>
      </ul>
    </li>
    <li>
<strong>question</strong> :
      <ul>
        <li>donnez un cycle $v_1, \dots, v_i, \dots, v_n = v_1$ passant par tous les sommets tel que $\sum_{i=1}^{i=n-1} d(v_i, v_{i+1}) + d(v_n, v_1)$ soit minimal.</li>
      </ul>
    </li>
  </ul>

</blockquote>

<h3 id="cycle-hamiltonien">cycle hamiltonien</h3>

<p>Passer une seule fois par chaque ville</p>

<p>NP-difficile</p>

<p>(remarque sommet est dur passer par toutes les arêtes, c’est facile)</p>

<h2 id="problèmes-np-complets">problèmes NP-complets</h2>

<p>nous pb optimisation =&gt; pb de décision + dichotomie</p>

<p>réduction : https://fr.wikipedia.org/wiki/R%C3%A9duction_(complexit%C3%A9)</p>

<p>et SAT</p>

<p>on peut montrer que (si vous insistez on pourra le faire)</p>

<p>déf (avec les mains) + on sait que c’est dur et donc on peut se passer de chercher une solution optimale.</p>

<p>-&gt; voyageur de commerce dur 2x :</p>
<ul>
  <li>trouver le chemin hamiltonien</li>
  <li>si facile de trouver un chemin hamiltonien (euclidien), il y en a trop.</li>
</ul>

<p>euler euclidien</p>

<p>marche sur les graphes de b des sommets impair</p>

<h2 id="résolution-exacte-par-programmation-dynamique">résolution exacte par programmation dynamique</h2>

<h2 id="heurisitique">heurisitique</h2>

<h3 id="gloutons">gloutons</h3>

<h3 id="2-opt">2-opt</h3>

<p><img src="./assets/voyageur-1.png" alt="croisements" style="margin: auto;display: block;"></p>

<h3 id="à-performance-garantie">à performance garantie</h3>

<p>2 optimal</p>

<p>on peut faire mieux (christofides, lien wiki) et c’est le min.</p>

<h2 id="code">code</h2>

<p>csv ou json avec villes + coordonnées gps</p>

<p>connexité et labyrinte ?</p>


  </div>

</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/cours_informatique/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">cours d'informatique</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">cours d'informatique</li>
</ul>
      </div>

      <div class="footer-col footer-col-2">
<ul class="social-media-list"><li><a href="https://github.com/FrancoisBrucker"><svg class="svg-icon"><use xlink:href="/cours_informatique/assets/minima-social-icons.svg#github"></use></svg> <span class="username">FrancoisBrucker</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>Support de cours/td d'informatique de François Brucker.</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
