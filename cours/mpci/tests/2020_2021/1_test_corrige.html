<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.7.1 -->
<title>corrigé Test 1 : code | cours d’informatique</title>
<meta name="generator" content="Jekyll v4.2.0" />
<meta property="og:title" content="corrigé Test 1 : code" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Support de cours/td d’informatique à l’école centrale marseille." />
<meta property="og:description" content="Support de cours/td d’informatique à l’école centrale marseille." />
<link rel="canonical" href="/cours_informatique/cours/mpci/tests/2020_2021/1_test_corrige.html" />
<meta property="og:url" content="/cours_informatique/cours/mpci/tests/2020_2021/1_test_corrige.html" />
<meta property="og:site_name" content="cours d’informatique" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="corrigé Test 1 : code" />
<script type="application/ld+json">
{"description":"Support de cours/td d’informatique à l’école centrale marseille.","@type":"WebPage","url":"/cours_informatique/cours/mpci/tests/2020_2021/1_test_corrige.html","headline":"corrigé Test 1 : code","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/cours_informatique/assets/main.css"><link type="application/atom+xml" rel="alternate" href="/cours_informatique/feed.xml" title="cours d'informatique" /><!-- Mathjax Support -->
  <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"] ],
        processEscapes: true
      }
    });
  </script>
  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>

<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/cours_informatique/">cours d&#39;informatique</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger">
            <a class="page-link" href="/cours_informatique/about"> about </a>
        </div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post">

  <header class="post-header">
    <h1 class="post-title">corrigé Test 1 : code</h1></p></p>
  </header>

  <div class="post-content">
    <h2 id="barême">barême</h2>

<ul>
  <li>syracuse + test : 2pt</li>
  <li>suite + test : 2pt</li>
  <li>main.py : 1pt</li>
</ul>

<h2 id="erreurs-fréquemment-rencontrées">erreurs fréquemment rencontrées</h2>

<h3 id="tests-indépendants">tests indépendants</h3>

<p>Une fonction de test doit être indépendante du reste du code.
De là :</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">x</span> <span class="o">=</span> <span class="mi">1</span>

<span class="k">def</span> <span class="nf">test_syracuse</span><span class="p">():</span>
    <span class="k">assert</span> <span class="n">syracuse</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
</code></pre></div></div>

<p>N’est pas correcte. On préférera être explicite :</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">test_syracuse</span><span class="p">():</span>
    <span class="k">assert</span> <span class="n">syracuse</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
</code></pre></div></div>

<h3 id="noms-des-tests">noms des tests</h3>

<p>Un test à sa son utilité. Son nom doit dire à quoi il sert. Ainsi <code class="language-plaintext highlighter-rouge">test_1</code> n’est <strong>PAS</strong> un bon nom de test. On pourra avoir la convention de nommage suivante : <code class="language-plaintext highlighter-rouge">test_nom_quoi</code> où <code class="language-plaintext highlighter-rouge">nom</code> est le nom de la fonction que l’on teste et <code class="language-plaintext highlighter-rouge">quoi</code>ce que l’on teste.</p>

<p>exemple :</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">syracuse</span> <span class="kn">import</span> <span class="n">syracuse</span>

<span class="k">def</span> <span class="nf">test_syracuse_pair</span><span class="p">():</span>
    <span class="k">assert</span> <span class="n">syracuse</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
</code></pre></div></div>

<h3 id="vos-testsmain-doivent-se-lancer">vos tests/main doivent se lancer</h3>

<p>Un programme doit <strong>TOUJOURS</strong> marcher. Lorsque l’on exécute un <em>“main.py”</em> où que l’on lance les tests avec la commande <code class="language-plaintext highlighter-rouge">pytest</code> ils doivent se lancer. Cela ne veut pas dire que les tests soient tous vert, vous pouvez avoir un tests rouge ce qui signifie que vous êtes entrain de travailler sur cette fonctionnalité et qu’elle ne fonctionne pas encore, mais ils doivent se lancer.</p>

<p>Ainsi :</p>

<ul>
  <li>vérifiez que vos imports soient corrects</li>
  <li>vérifiez que si vous exécutez votre programme principal il se lance</li>
  <li>vérifiez que vous pouvez exécutez vos tests et que vos tests se lancent (qu’ils soient vert ou rouge)</li>
</ul>

<p>Si on ne peut pas exécuter votre fichier main ou que vos tests ne se lancent pas parce que vous vous êtres trompé dans un import ou que vous avez des erreurs de syntaxe, votre note chute drastiquement.</p>

<p>Dernière remarque : vos tests doivent tester des choses… Mettre des fonctions de tests sans qu’ils soient utile (genre <code class="language-plaintext highlighter-rouge">assert 1 == 1</code>) est également rédhibitoire.</p>

<h3 id="entrée-utilisateurs-et-conversion-de-types">entrée utilisateurs et conversion de types</h3>

<p>Après un input vous aurez <strong>toujours</strong> une chaîne de caractère. Il faut la convertir dans ce que va demander vos fonctions, ici des entiers.</p>

<p>Ne faites <strong>PAS</strong> de conversion de type dans vos fonctions. Si elles demandent des entrées entiers supposez que c’est le cas (par de <code class="language-plaintext highlighter-rouge">int(x) % 2</code> par exemple dans la fonction <code class="language-plaintext highlighter-rouge">syracuse</code>). Tôt ou tard ce genre chose va vous sauter à la figure car un jour vous votre programme va planter sans que vous compreniez pourquoi ni où est le soucis.</p>

<h2 id="syracusepy"><em>“syracuse.py”</em></h2>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">syracuse</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">x</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">x</span> <span class="o">/</span> <span class="mi">2</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="mi">3</span> <span class="o">*</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">1</span>


<span class="k">def</span> <span class="nf">suite</span><span class="p">(</span><span class="n">u_0</span><span class="p">):</span>
    <span class="n">sortie</span> <span class="o">=</span> <span class="p">[</span><span class="n">u_0</span><span class="p">]</span>
    
    <span class="n">u_n</span> <span class="o">=</span> <span class="n">u_0</span>
    <span class="k">while</span> <span class="n">u_n</span> <span class="o">!=</span> <span class="mi">1</span><span class="p">:</span>
        <span class="n">u_n</span> <span class="o">=</span> <span class="n">syracuse</span><span class="p">(</span><span class="n">u_n</span><span class="p">)</span>
        <span class="n">sortie</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">u_n</span><span class="p">)</span>
    
    <span class="k">return</span> <span class="n">sortie</span>

</code></pre></div></div>

<h2 id="test_syracusepy"><em>“test_syracuse.py”</em></h2>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">syracuse</span> <span class="kn">import</span> <span class="n">syracuse</span><span class="p">,</span> <span class="n">suite</span>

<span class="k">def</span> <span class="nf">test_syracuse_pair</span><span class="p">():</span>
    <span class="k">assert</span> <span class="n">syracuse</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>


<span class="k">def</span> <span class="nf">test_syracuse_impair</span><span class="p">():</span>
    <span class="k">assert</span> <span class="n">syracuse</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">==</span> <span class="mi">4</span>


<span class="k">def</span> <span class="nf">test_suite_u_0_1</span><span class="p">():</span>
    <span class="k">assert</span> <span class="n">suite</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">==</span> <span class="p">[</span><span class="mi">1</span><span class="p">]</span>


<span class="k">def</span> <span class="nf">test_suite_u_0_5</span><span class="p">():</span>
    <span class="k">assert</span> <span class="n">suite</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span> <span class="o">==</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>

</code></pre></div></div>

<h2 id="mainpy"><em>“main.py”</em></h2>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">syracuse</span> <span class="kn">import</span> <span class="n">suite</span>

<span class="n">sortie_utilisateur</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s">"Donnez un entier : "</span><span class="p">)</span>

<span class="n">u_0</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">sortie_utilisateur</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="s">"suite de syracuse associée : "</span><span class="p">,</span> <span class="n">suite</span><span class="p">(</span><span class="n">u_0</span><span class="p">))</span>

</code></pre></div></div>

  </div>

</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/cours_informatique/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">cours d&#39;informatique</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">cours d&#39;informatique</li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/FrancoisBrucker"><svg class="svg-icon"><use xlink:href="/cours_informatique/assets/minima-social-icons.svg#github"></use></svg> <span class="username">FrancoisBrucker</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>Support de cours/td d&#39;informatique à l&#39;école centrale marseille.</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
