<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
<!-- Begin Jekyll SEO tag v2.7.1 -->
<title>outils de développement | cours d’informatique</title>
<meta name="generator" content="Jekyll v4.2.0">
<meta property="og:title" content="outils de développement">
<meta name="author" content="François Brucker">
<meta property="og:locale" content="en_US">
<meta name="description" content="Support de cours/td d’informatique à l’école centrale marseille.">
<meta property="og:description" content="Support de cours/td d’informatique à l’école centrale marseille.">
<link rel="canonical" href="/cours_informatique/cours/developpement/outils-de-developpement.html">
<meta property="og:url" content="/cours_informatique/cours/developpement/outils-de-developpement.html">
<meta property="og:site_name" content="cours d’informatique">
<meta name="twitter:card" content="summary">
<meta property="twitter:title" content="outils de développement">
<script type="application/ld+json">
{"description":"Support de cours/td d’informatique à l’école centrale marseille.","@type":"WebPage","url":"/cours_informatique/cours/developpement/outils-de-developpement.html","headline":"outils de développement","author":{"@type":"Person","name":"François Brucker"},"@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/cours_informatique/assets/main.css">

  <link rel="stylesheet" href="/cours_informatique/assets/custom.css">
<link type="application/atom+xml" rel="alternate" href="/cours_informatique/feed.xml" title="cours d'informatique">
</head>

<body>
<header class="site-header" role="banner">

  <div class="wrapper">
<a class="site-title" rel="author" href="/cours_informatique/">cours d'informatique</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger">
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewbox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"></path>
            </svg>
          </span>
        </label>

        <div class="trigger">
            <a class="page-link" href="/cours_informatique/about"> about </a>
        </div>
      </nav>
</div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post">

  <header class="post-header">
    <h1 class="post-title">outils de développement</h1>Auteur : <span itemprop="author" itemscope itemtype="http://schema.org/Person"><span class="p-author h-card" itemprop="name">François Brucker</span></span>
  </header>

  <div class="post-content">
    <blockquote class="chemin">
  <p><a href="/cours_informatique/cours/developpement/">développement</a> / <a href="/cours_informatique/cours/developpement/outils-de-developpement.html">outils de développement</a></p>
</blockquote>

<p>En développement, on se concentre sur trois objectifs pour obtenir du bon code :</p>

<ul>
  <li>on veut que notre code soit juste</li>
  <li>on veut pouvoir le modifier/ajouter des fonctionnalités rapidement</li>
  <li>on veut pouvoir partager notre code avec soit-même dans d’autres projet, son équipe ou le monde)</li>
</ul>

<p>Le langage d’application n’a que peut d’intérêt en soit. On choisit celui qui est le plus adapté à notre but. Ici, on utilise le python mais il existe les outils qu’on va voir pour tout langage sérieux.</p>

<p>Écrire du code nécessite ne nombreuses automatisations et aides pour que ce ne soit pas pénible, ne vous privez pas d’outils parce que vous n’avez pas envie d’apprendre de nouvelles choses et que <em>ça suffit bien pour ce que je veux faire</em>. Vous allez au final perdre plus de temps que l’apprentissage initial (ce qui est tarte).</p>

<h2 id="prérequis">prérequis</h2>

<p>On suppose que vous avez suivis le <a href="/cours_informatique/cours/developpement/">cours de développement</a> jusque là. Sinon, faite le, ou tout du moins ayez un vsc opérationnel pour le développement python.</p>

<p>On suppose aussi que :</p>

<ul>
  <li>vous connaissez le terminal de vsc et que vous savez y exécuter des programmes python.</li>
  <li>vous savez comment installer de nouveaux packages python.</li>
</ul>

<h2 id="un-projet-test">un projet test</h2>

<p>On va juste créer un projet vide pour comprendre comment tout ça fonctionne.</p>

<p>Nous allons préparer le projet dans lequel nous allons coder. Ceci se fait avec vscode en ouvrant un dossier. Ce dossier sera le départ de votre projet et s’appelle <em>workspace</em>.</p>

<ol>
  <li>Commencez par créer le dossier <em>“hello-dev”</em>
</li>
  <li>dans vscode, choisissez : “<em>Menu File &gt; open</em>” puis naviguez jusqu’à votre dossier <em>“hello-dev”</em>. On vous demande si vous faites confiances aux auteurs, puisque c’est vous dites oui.</li>
</ol>

<blockquote>
  <p>Lorsque l’on code et que l’on ne veut pas de problèmes en développement, les noms de fichiers doivent êtres sans espaces et sans accents.</p>
</blockquote>

<h3 id="fichier-python">fichier python</h3>

<p>On va créer notre premier fichier javascript : <em>menu Fichier &gt; Nouveau Fichier</em> et sauvez le de suite : <em>menu Fichier &gt; Enregistrer</em> avec le nom <em>“main.py”</em>.</p>

<p>Vscode à compris que c’était du python, il l’écrit dans la barre de statut (la dernière ligne, en bleu, de la fenêtre vscode, voir <a href="https://code.visualstudio.com/docs/getstarted/userinterface">user interface</a>).</p>

<p>Vscode vous demande peut-être de :</p>

<ol>
  <li>choisir un interpréteur : prenez le python3 de votre distribution</li>
  <li>choisir un lint : supprimer la fenêtre de warning, on fera ça plus tard.</li>
  <li>choisir des tests : supprimer la fenêtre de warning, on fera ça plus tard.</li>
</ol>

<h3 id="exécution-dun-fichier">exécution d’un fichier</h3>

<p>On écrit <em>main.py</em> :</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">print</span><span class="p">(</span><span class="s">"bonjour les gens !"</span><span class="p">)</span>

</code></pre></div></div>

<p>Exécutez le deux manière que vous avez vu dans <a href="/cours_informatique/tutos/editeur/vsc/installation/configuration/python/2021/09/14/vsc-python.html#execution-python">le tutorial python et vscode</a> :</p>

<ul>
  <li>avec le terminal</li>
  <li>avec le triangle</li>
</ul>

<h2 id="du-joli-code">du joli code</h2>

<p>Vous allez passer beaucoup de temps à lire du code, le votre et celui des autres. Il est important que ce soit facile :</p>

<ul>
  <li>de lire du code</li>
  <li>de partager du code entre utilisateur.</li>
</ul>

<p>Pour cela il faut que le style de code soit cohérent. Python donne des règle de style, c’est ce qu’on appelle la <a href="https://www.python.org/dev/peps/pep-0008/">PEP8</a>. Nous allons intaller des plugins qui vont :</p>

<ul>
  <li>vous montrer les fautes de styles</li>
  <li>les corriger toutes seules</li>
</ul>

<h3 id="linter">linter</h3>

<p>Suivez la partie <a href="/cours_informatique/tutos/editeur/vsc/installation/configuration/python/2021/09/14/vsc-python-modules-supplementaires.html#linter">linter</a> du tuto des installations supplémentaires.</p>

<p>Puis testons le de suite. Modifiez le fichier <em>“main.py”</em> pour écrire :</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">print</span> <span class="p">(</span><span class="s">"bonjour les gens !"</span><span class="p">)</span>

</code></pre></div></div>

<p>Une fois le fichier sauvé vous devriez voir que print est souligné en rouge. En passant sa souris dessus on voit pourquoi : <code class="language-plaintext highlighter-rouge">whitespace before '(' pycodestyle(E211)</code></p>

<blockquote>
  <p><strong>Conclusion</strong> : <strong>NE JAMAIS METTRE D’ESPACE APRÈS UN NOM DE FONCTION</strong> c’est mal car on ne sais pas si c’est une fonction ou un nom de variable.</p>
</blockquote>

<p>Vous devriez peut-être aussi avoir la parenthèse de fin souligné en jaune. C’est parce que la dernière ligne de votre fichier n’est pas vide. Si ce n’est pas le cas, c’es que vous avez bien que 2 lignes dans votre fichier, la seconde étant vide.</p>

<h3 id="séparer-code-et-main">séparer code et main</h3>

<blockquote>
  <p><strong>bonne pratique</strong> : un projet c’est trois chose d’égale importance :</p>

  <ul>
    <li>le code : les fonctions utilisées</li>
    <li>le main : le programme principal, c’est ce qu’on exécute lorsque veut faire marcher le projet</li>
    <li>les tests : que l’on verra plus tard.
Aucune n’est plus importante que l’autre et il est important qu’elles oisent bine distincte l’une de l’autre.</li>
  </ul>

</blockquote>

<p>On va ainsi  créer deux fichiers, l’un nommé <em>“le_code.py”</em> qui contiendra notre code et l’autre nommé <em>“main.py”</em> qui sera notre programme principal</p>

<p>Fichier <em>le_code.py</em> :</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">bonjour</span><span class="p">():</span>
    <span class="k">return</span> <span class="s">"Bonjour les gens !"</span>

</code></pre></div></div>

<p>Fichier <em>main.py</em> :</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">le_code</span> <span class="kn">import</span> <span class="n">bonjour</span>

<span class="k">print</span><span class="p">(</span><span class="n">bonjour</span><span class="p">())</span>

</code></pre></div></div>

<p>On a importé le nom <code class="language-plaintext highlighter-rouge">bonjour</code> défini dans le fichier <em>“le_code.py”</em> grâce à un import. L’autre façon aurait été d’importer juste le fichier code. On aurait alors eu :</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">le_code</span>

<span class="n">le_code</span><span class="p">.</span><span class="n">bonjour</span><span class="p">()</span>

</code></pre></div></div>

<p>La notation pointée se lit alors : exécute le nom <code class="language-plaintext highlighter-rouge">bonjour</code> définit dans <em>“le_code”</em>.</p>

<blockquote class="attention">
  <p>ne jamais jamais jamais utiliser <code class="language-plaintext highlighter-rouge">from le_code import *</code> qui importe tous les noms définis dans <em>“le_code.py”</em>. On ne sais pas vraiment ce qui a été importé en lisant <em>“le_code.py”</em>: notre code n’est pas lisible ! Le gain d’écriture de <code class="language-plaintext highlighter-rouge">*</code> plutôt que <code class="language-plaintext highlighter-rouge">bonjour</code> sera perdu au centuple plus tard lorsque l’on devra chercher dans tous les fichiers du projet où l’on a bien pu définir <code class="language-plaintext highlighter-rouge">bonjour</code>…</p>
</blockquote>

<p>En code comme dans la vie, il faut faire rapidement ce que l’on fait souvent. Comme on va passer plus de temps à lire/comprendre du code qu’à l’écrire, il faut optimiser la lecture et non l’écriture. D’où l’utilisation de nom explicites et on préférera toujours la lisibilité à la rapidité.</p>

<h3 id="black">black</h3>

<p>Quand on utilise black, c’est facile d’écire du joli code : il le fait tout seul.</p>

<p>Suivez la partie <a href="/cours_informatique/tutos/editeur/vsc/installation/configuration/python/2021/09/14/vsc-python-modules-supplementaires.html#black">black</a> du tuto des installations supplémentaires.</p>

<p>Testons black, en modifiant le fichier <em>“le_code.py”</em> :</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span>        <span class="nf">bonjour</span>   <span class="p">(</span>    <span class="p">)</span>  <span class="p">:</span>
    <span class="k">return</span>    <span class="s">"Bonjour les gens !"</span>

</code></pre></div></div>

<p>Dieu que ce code est laid. En sauvant et en exécutant black (le tuto vous deux deux manières de faires), on retrouve, sans rien faire du joli code :</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">bonjour</span><span class="p">():</span>
    <span class="k">return</span> <span class="s">"Bonjour les gens !"</span>
</code></pre></div></div>

<blockquote>
  <p>Black c’est tellemnt bien ! Utilisez le tout le temps pour rendre votre code joli !</p>
</blockquote>

<h2 id="tests">tests</h2>

<p>Les tests permettent de vérifier que notre code fonctionne. Ils sont parti du programme et on peut s’y référer quand on veut. Lorsque l’on modifie le code, on pourra toujours exécuter tous les tests pour vérifier que notre programme fonctionne toujours aussi bien qu’avant.</p>

<p>Mettez en place les outils pour exécuter les tests en suivant la partie <a href="/cours_informatique/tutos/editeur/vsc/installation/configuration/python/2021/09/14/vsc-python-modules-supplementaires.html#tests">tests</a>.</p>

<h3 id="test-des-tests">test des tests</h3>

<p>On y reviendra plus tard et à de nombreuses reprise, les tests sont partie intégrante d’une bonne programmation.</p>

<p>On va juste ici vérifier que tout fonctionne. Il existe de nombreuse bibliothèques de tests possible pour python. Nous allons utiliser <a href="https://docs.pytest.org/en/stable/">pytest</a> (vous l’installerez bienôt).</p>

<p>Le boulot d’une bibliothèque de test est d’exécuter toutes les fonctions commençant par <code class="language-plaintext highlighter-rouge">test_</code> de tous les fichiers commençant par <code class="language-plaintext highlighter-rouge">test_</code> d’un projet.</p>

<p>Les tests sont de petites fonction dont le but est de <em>tester</em> une fonctionnalité du programme( souvent l’exécution d’une fonction). On utilisera l’instruction <a href="https://docs.python.org/fr/3/reference/simple_stmts.html#the-assert-statement">assert</a> pour ces tests : si ce qui est à droite d’assert est juste, le programme continue sans encombre, si c’est faux, le programme plante.</p>

<p>On va donc créer dans notre projet situé dans le dossier <em>hello</em> un fichier nommé <em>test_projet.py</em> qui contiendra :</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">test_oui</span><span class="p">():</span>
    <span class="k">assert</span> <span class="mi">1</span> <span class="o">==</span> <span class="mi">1</span>


<span class="k">def</span> <span class="nf">test_non</span><span class="p">():</span>
    <span class="k">assert</span> <span class="mi">1</span> <span class="o">==</span> <span class="mi">2</span>

</code></pre></div></div>

<p><em>*Remarque</em> : le premier test est vrai : <code class="language-plaintext highlighter-rouge">1 == 1</code> est <code class="language-plaintext highlighter-rouge">True</code> donc assert ne va rien faire. Le second va planter car <code class="language-plaintext highlighter-rouge">1== 2</code> va rendre <code class="language-plaintext highlighter-rouge">False</code> et assert va arrêter le programme.</p>

<p>Vous ne devriez pas avoir de rouge, le linter doit être content (au pire, faite un coup de black pour être sur) :</p>

<ul>
  <li>une ligne vide à la fin</li>
  <li>deux lignes vides entre deux définitions de fonctions</li>
</ul>

<p>Vous devriez voir :</p>

<ul>
  <li>dans le tab des tests qu’un test est vert, l’autre rouge</li>
  <li>
    <p>le test qui est rouge est marqué dans la sortie complète :</p>

    <div class="language-text highlighter-rouge">
<div class="highlight"><pre class="highlight"><code>          def test_non():
      &gt;       assert 1 == 2
      E       assert 1 == 2
</code></pre></div>    </div>
  </li>
</ul>

<p>Ceci est normal car le but d’assert est de vérifier que ce qui suit est juste. Si c’est le cas il ne se passe rien, si c’est faux le programme s’arrête.</p>

<p>Écrire un test revient à vérifier qu’un comportement d’une fonction est correct (l’<code class="language-plaintext highlighter-rouge">assert</code> est juste) et si le test plante (il est rouge) c’est que l’<code class="language-plaintext highlighter-rouge">assert</code> s’est révélé faux.</p>

<blockquote class="attention">
  <p>si vous exécutez un fichier de test avec python (essayer en cliquant sur le petit triangle vert lorsque vous êtes sur un fichier de test) il ne va rien se passer. C’est normal car ce fichier n’a pas de commande python, juste des définitions de fonctions.</p>
</blockquote>

<h3 id="test-pour-notre-projet">test pour notre projet</h3>

<p>On va juste faire un test qui vérifie que notre fonction rend bien une chaîne de caractère qui commence par <code class="language-plaintext highlighter-rouge">bonjour</code>. L’usage veut que l’on ait (au moins) un fichier de test par fichier de code, et que l’on nomme ses tests, le nom du fichier testé précédé de <em>test_</em>.</p>

<p><em>test_le_code.py</em> :</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">le_code</span> <span class="kn">import</span> <span class="n">bonjour</span>

<span class="k">def</span> <span class="nf">test_bonjour</span><span class="p">():</span>
    <span class="k">assert</span> <span class="n">bonjour</span><span class="p">().</span><span class="n">startswith</span><span class="p">(</span><span class="s">'Bonjour'</span><span class="p">)</span>
</code></pre></div></div>

  </div>

</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/cours_informatique/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">cours d'informatique</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">cours d'informatique</li>
</ul>
      </div>

      <div class="footer-col footer-col-2">
<ul class="social-media-list"><li><a href="https://github.com/FrancoisBrucker"><svg class="svg-icon"><use xlink:href="/cours_informatique/assets/minima-social-icons.svg#github"></use></svg> <span class="username">FrancoisBrucker</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>Support de cours/td d'informatique à l'école centrale marseille.</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
