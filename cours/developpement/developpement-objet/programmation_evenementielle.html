<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
<!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Programmation événementielle | cours d’informatique</title>
<meta name="generator" content="Jekyll v4.2.0">
<meta property="og:title" content="Programmation événementielle">
<meta name="author" content="Célia Châtel">
<meta property="og:locale" content="en_US">
<meta name="description" content="Support de cours/td d’informatique de François Brucker.">
<meta property="og:description" content="Support de cours/td d’informatique de François Brucker.">
<link rel="canonical" href="/cours_informatique/cours/developpement/developpement-objet/programmation_evenementielle.html">
<meta property="og:url" content="/cours_informatique/cours/developpement/developpement-objet/programmation_evenementielle.html">
<meta property="og:site_name" content="cours d’informatique">
<meta name="twitter:card" content="summary">
<meta property="twitter:title" content="Programmation événementielle">
<script type="application/ld+json">
{"description":"Support de cours/td d’informatique de François Brucker.","@type":"WebPage","author":{"@type":"Person","name":"Célia Châtel"},"url":"/cours_informatique/cours/developpement/developpement-objet/programmation_evenementielle.html","headline":"Programmation événementielle","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/cours_informatique/assets/main.css">

  <link rel="stylesheet" href="/cours_informatique/assets/custom.css">

  <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
<link type="application/atom+xml" rel="alternate" href="/cours_informatique/feed.xml" title="cours d'informatique">
</head>

<body>
<header class="site-header" role="banner">

  <div class="wrapper">
<a class="site-title" rel="author" href="/cours_informatique/">cours d'informatique</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger">
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewbox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"></path>
            </svg>
          </span>
        </label>

        <div class="trigger">
            <a class="page-link" href="/cours_informatique/about"> about </a>
        </div>
      </nav>
</div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post">

  <header class="post-header">
    <h1 class="post-title">Programmation événementielle</h1>Auteurs :
      <ul>
      
        <li><span itemprop="author" itemscope itemtype="http://schema.org/Person"><span class="p-author h-card" itemprop="name">Célia Châtel</span></span></li>
      
        <li><span itemprop="author" itemscope itemtype="http://schema.org/Person"><span class="p-author h-card" itemprop="name">François Brucker</span></span></li>
      
      </ul>
  </header>

  <div class="post-content">
    <h2 id="but">But</h2>

<blockquote>
  <p><strong>Elements de corrigé :</strong> Ils sont disponibles <a href="/cours_informatique/cours/developpement/developpement-objet/programmation_evenementielle_corrige.html">là</a>. Cependant, ils ne dispensent pas d’aller en cours, c’est une aide à la compréhension.</p>
</blockquote>

<h2 id="séance-tableau">Séance tableau</h2>

<p>Le <a href="ressources/TD_4_impression.pdf">sujet au format pdf</a>.</p>

<h2 id="séance-code">Séance code</h2>

<h3 id="le-dé">Le dé</h3>

<p>Reprenons notre exemple du dé pour construire une interface la plus simple possible affichant simplement la valeur d’un
dé et un bouton pour le relancer. On vous donne le code d’une interface possible vue en TD. Prenez le temps de le lancer, le
comprendre et modifier certaines choses pour expérimenter vous-mêmes.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">appJar</span> <span class="kn">import</span> <span class="n">gui</span> <span class="c1"># on importe la classe représentant les fenêtres dans la librairie appJar
</span><span class="kn">from</span> <span class="nn">dice</span> <span class="kn">import</span> <span class="n">Dice</span>

<span class="n">app</span> <span class="o">=</span> <span class="n">gui</span><span class="p">()</span> <span class="c1"># création de l'objet app qui est la fenêtre
</span><span class="n">app</span><span class="p">.</span><span class="n">setGeometry</span><span class="p">(</span><span class="mi">500</span><span class="p">,</span> <span class="mi">200</span><span class="p">)</span> <span class="c1"># définition de la taille de la fenêtre
</span>
<span class="n">dice</span> <span class="o">=</span> <span class="n">Dice</span><span class="p">()</span> 
<span class="n">DICE_LABEL</span> <span class="o">=</span> <span class="s">"dice value"</span>

<span class="k">def</span> <span class="nf">press_roll</span><span class="p">(</span><span class="n">button</span><span class="p">):</span> <span class="c1"># définition de la fonction qu'on utilisera quand quelqu'un clique sur le bouton
</span>    <span class="n">dice</span><span class="p">.</span><span class="n">roll</span><span class="p">()</span>
    <span class="n">app</span><span class="p">.</span><span class="n">setLabel</span><span class="p">(</span><span class="n">DICE_LABEL</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">dice</span><span class="p">.</span><span class="n">get_position</span><span class="p">()))</span> <span class="c1"># on change l'affichage du texte identifié par &lt;DICE_LABEL&gt; pour mettre la position du dé
</span>
<span class="n">app</span><span class="p">.</span><span class="n">addLabel</span><span class="p">(</span><span class="s">"position"</span><span class="p">,</span> <span class="s">"Position : "</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="c1"># ajout d'un texte identifié par &lt;position&gt; dans la fenêtre aux coordonnées 0, 0
</span><span class="n">app</span><span class="p">.</span><span class="n">addLabel</span><span class="p">(</span><span class="n">DICE_LABEL</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">dice</span><span class="p">.</span><span class="n">get_position</span><span class="p">()),</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="c1"># ajout d'un texte identifié par &lt;DICE_LABEL&gt; contenant la position du dé aux coordonnées 0, 1
</span><span class="n">app</span><span class="p">.</span><span class="n">addButton</span><span class="p">(</span><span class="s">"Roll"</span><span class="p">,</span> <span class="n">press_roll</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="c1"># ajout du bouton associé à la fonction press_roll
</span>
<span class="n">app</span><span class="p">.</span><span class="n">go</span><span class="p">()</span> <span class="c1"># lancement de l'application
</span></code></pre></div></div>

<h3 id="ui-ui-joue-aux-cartes">UI UI joue aux cartes</h3>

<p>Vous allez utiliser ce que nous avons fait en TD lors de la séance 2 pour créer une UI permettant de jouer aux cartes.</p>

<p>Les images des cartes sont placées dans le fichier zip <a href="ressources/resources.zip">resources.zip</a> dézippez le pour pouvoir les utiliser.</p>

<h4 id="la-classe-carte">La classe carte</h4>

<p>Le code ci-après vous donne la classe carte et ses tests que vous allez utiliser par la suite. Copiez ce code dans deux fichiers <code class="language-plaintext highlighter-rouge">card.py</code> et <code class="language-plaintext highlighter-rouge">test_card.py</code>. Vérifiez que tous les tests passent.</p>

<h5 id="cardpy">card.py</h5>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Card</span><span class="p">:</span>
    <span class="n">SPADES</span> <span class="o">=</span> <span class="s">"spade"</span>
    <span class="n">HEARTS</span> <span class="o">=</span> <span class="s">"heart"</span>
    <span class="n">CLUBS</span> <span class="o">=</span> <span class="s">"club"</span>
    <span class="n">DIAMONDS</span> <span class="o">=</span> <span class="s">"diamond"</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">color</span><span class="p">):</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">_value</span> <span class="o">=</span> <span class="n">value</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">_color</span> <span class="o">=</span> <span class="n">color</span>

    <span class="k">def</span> <span class="nf">image</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s">"resources/Playing_card_"</span> <span class="o">+</span> <span class="bp">self</span><span class="p">.</span><span class="n">_color</span> <span class="o">+</span> <span class="s">"_"</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">_value</span><span class="p">)</span> <span class="o">+</span> <span class="s">".gif"</span>
</code></pre></div></div>

<h5 id="test_cardpy">test_card.py</h5>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">card</span> <span class="kn">import</span> <span class="n">Card</span>

<span class="k">def</span> <span class="nf">test_creation</span><span class="p">():</span>
    <span class="n">motorhead</span> <span class="o">=</span> <span class="n">Card</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">Card</span><span class="p">.</span><span class="n">SPADES</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">motorhead</span><span class="p">.</span><span class="n">_value</span> <span class="o">==</span> <span class="mi">1</span>
    <span class="k">assert</span> <span class="n">motorhead</span><span class="p">.</span><span class="n">_color</span> <span class="o">==</span> <span class="n">Card</span><span class="p">.</span><span class="n">SPADES</span>


<span class="k">def</span> <span class="nf">test_image</span><span class="p">():</span>
    <span class="k">assert</span> <span class="n">Card</span><span class="p">(</span><span class="mi">11</span><span class="p">,</span> <span class="n">Card</span><span class="p">.</span><span class="n">DIAMONDS</span><span class="p">).</span><span class="n">image</span><span class="p">()</span> <span class="o">==</span> <span class="s">"resources/Playing_card_diamond_11.gif"</span>
</code></pre></div></div>

<p>Comprendre les tests vous permet de comprendre le code. Passez un peu de temps pour voir et comprendre ce que l’on teste et pourquoi ça marche.</p>

<h4 id="choix-dune-carte">Choix d’une carte</h4>

<p>Le code suivant crée une carte selon ce qui est sélectionné dans les <em>option boxes</em>.
Exécutez le code et comprenez comment tout ceci fonctionne. Assurez vous que vous avez bien dézippé le fichier <code class="language-plaintext highlighter-rouge">resources.zip</code> pour que python trouve bien les différentes images.</p>

<h6 id="mainpy">main.py</h6>

<p>Lorsque l’on code on a au moins 3 fichiers :</p>

<ul>
  <li>le fichier des fonctionnalités (ici <code class="language-plaintext highlighter-rouge">card.py</code>)</li>
  <li>le fichier de test des fonctionnalités (ici <code class="language-plaintext highlighter-rouge">test_card.py</code>)</li>
  <li>le programme en lui même. Ici notre application dans une fenêtre (le fichier <code class="language-plaintext highlighter-rouge">main.py</code>)</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="kn">from</span> <span class="nn">appJar</span> <span class="kn">import</span> <span class="n">gui</span>

    <span class="kn">from</span> <span class="nn">card</span> <span class="kn">import</span> <span class="n">Card</span>


    <span class="n">app</span> <span class="o">=</span> <span class="n">gui</span><span class="p">()</span>


    <span class="n">app</span><span class="p">.</span><span class="n">addLabelOptionBox</span><span class="p">(</span><span class="s">"color"</span><span class="p">,</span> <span class="p">[</span><span class="n">Card</span><span class="p">.</span><span class="n">DIAMONDS</span><span class="p">,</span> <span class="n">Card</span><span class="p">.</span><span class="n">SPADES</span><span class="p">,</span> <span class="n">Card</span><span class="p">.</span><span class="n">CLUBS</span><span class="p">,</span> <span class="n">Card</span><span class="p">.</span><span class="n">HEARTS</span><span class="p">],</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">app</span><span class="p">.</span><span class="n">addLabelOptionBox</span><span class="p">(</span><span class="s">"value"</span><span class="p">,</span> <span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">14</span><span class="p">)],</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>


    <span class="k">def</span> <span class="nf">on_click</span><span class="p">(</span><span class="n">button</span><span class="p">):</span>
        <span class="n">color</span> <span class="o">=</span> <span class="n">app</span><span class="p">.</span><span class="n">getOptionBox</span><span class="p">(</span><span class="s">"color"</span><span class="p">)</span>
        <span class="n">value</span> <span class="o">=</span> <span class="n">app</span><span class="p">.</span><span class="n">getOptionBox</span><span class="p">(</span><span class="s">"value"</span><span class="p">)</span>
        <span class="n">app</span><span class="p">.</span><span class="n">setImage</span><span class="p">(</span><span class="s">"card_image"</span><span class="p">,</span> <span class="n">Card</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">value</span><span class="p">),</span> <span class="n">color</span><span class="p">).</span><span class="n">image</span><span class="p">())</span>

    <span class="n">app</span><span class="p">.</span><span class="n">addButton</span><span class="p">(</span><span class="s">"show card"</span><span class="p">,</span> <span class="n">on_click</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
    <span class="n">app</span><span class="p">.</span><span class="n">addImage</span><span class="p">(</span><span class="s">"card_image"</span><span class="p">,</span> <span class="s">"resources/empty.gif"</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>

    <span class="n">app</span><span class="p">.</span><span class="n">go</span><span class="p">()</span>
</code></pre></div></div>

<h3 id="création-dun-deck">Création d’un deck</h3>

<p>Un deck est un tas de cartes. Nous allons créer petit à petit cette classe en lui ajoutant des fonctionnalités en
utilisant la méthode de <a href="https://fr.wikipedia.org/wiki/Test_driven_development">TDD</a>.</p>

<h4 id="préparation">Préparation</h4>

<p>On commence ainsi par ajouter une classe vide dans le fichier <code class="language-plaintext highlighter-rouge">card.py</code> :</p>

<h5 id="cardpy-1">card.py</h5>

<pre><code class="language-pyhton">class Deck:
    pass
</code></pre>

<p>Et un test vérifiant que l’on peut créer un Deck dans <code class="language-plaintext highlighter-rouge">test_card.py</code></p>

<h5 id="test_cardpy-1">test_card.py</h5>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">card</span> <span class="kn">import</span> <span class="n">Deck</span>

<span class="k">def</span> <span class="nf">test_deck_creation</span><span class="p">():</span>
    <span class="n">deck</span> <span class="o">=</span> <span class="n">Deck</span><span class="p">()</span>
    <span class="k">assert</span> <span class="n">deck</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span>
</code></pre></div></div>

<p>Vérifiez que les tests passent.</p>

<h4 id="cycle-de-développement">Cycle de développement</h4>

<p>On va maintenant ajouter petit à petit les tests qui vont nous permettre d’ajouter des fonctionnalités à la classe. On va toujours suivre le même <em>pattern</em> :</p>

<ol>
  <li>ajouter un test et le voir planter en exécutant tous les tests</li>
  <li>ajouter la fonctionnalité voulue à la classe</li>
  <li>exécutez les tests et voir le tout fonctionner.</li>
</ol>

<h4 id="fonctionnalité-1--ajout-de-cartes">Fonctionnalité 1 : ajout de cartes</h4>

<p>Un deck est un conteneur. Il doit être vide à la création et on doit pouvoir lui ajouter des cartes.</p>

<p>On commence par un test vérifiant que l’on a créé une méthode <code class="language-plaintext highlighter-rouge">nb_cards</code> permettant de connaître le nombre de cartes contenues dans le deck :</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">test_deck_empty_at_creation</span><span class="p">():</span>
    <span class="n">deck</span> <span class="o">=</span> <span class="n">Deck</span><span class="p">()</span>
    <span class="k">assert</span> <span class="n">deck</span><span class="p">.</span><span class="n">nb_cards</span><span class="p">()</span> <span class="o">==</span> <span class="mi">0</span>
</code></pre></div></div>

<p>Le test va rater puisque vous n’avez pas pas encore écrit le code correspondant.</p>

<p>On ajoute un test qui vérifie que l’on peut ajouter une carte au deck :</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">test_add_card</span><span class="p">():</span>
    <span class="n">deck</span> <span class="o">=</span> <span class="n">Deck</span><span class="p">()</span>
    <span class="n">deck</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="n">Card</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">Card</span><span class="p">.</span><span class="n">SPADES</span><span class="p">))</span>
    <span class="k">assert</span> <span class="n">deck</span><span class="p">.</span><span class="n">nb_cards</span><span class="p">()</span> <span class="o">==</span> <span class="mi">1</span>
</code></pre></div></div>

<p>Puis on écrit le code correspondant (on pourra ajouter un attribut liste au deck. N’oubliez alors pas de l’initialiser dans le constructeur). On ne sait cependant pas si la bonne carte a été ajoutée. On va régler ce problème avec la fonctionnalité suivante.</p>

<h4 id="ajoutsuppression-de-la-carte-du-dessus">Ajout/suppression de la carte du dessus</h4>

<p>Un deck doit être une LIFO. Pour être sur que ceci soit ok, on va ajouter une méthode permettant de rendre la carte du dessus</p>

<p>On commence par les tests :</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">def</span> <span class="nf">test_show</span><span class="p">():</span>
    <span class="n">deck</span> <span class="o">=</span> <span class="n">Deck</span><span class="p">()</span>
    <span class="n">deck</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="n">Card</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">Card</span><span class="p">.</span><span class="n">SPADES</span><span class="p">))</span>
    <span class="n">card</span> <span class="o">=</span> <span class="n">Card</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">Card</span><span class="p">.</span><span class="n">SPADES</span><span class="p">)</span>
    <span class="n">deck</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="n">card</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">deck</span><span class="p">.</span><span class="n">show</span><span class="p">()</span> <span class="ow">is</span> <span class="n">card</span>
</code></pre></div></div>

<p>Dans le test ci-dessus, on utilise le mot clé <code class="language-plaintext highlighter-rouge">is</code> qui signifie le même objet. Ainsi, même is deux objet sont similaires, <code class="language-plaintext highlighter-rouge">assert [] == []</code> rendra vrai (deux liste différente mais ayant le même contenu), elles ne sont pas les même <code class="language-plaintext highlighter-rouge">assert [] is []</code> rendra faux.</p>

<p>A vous de compléter le code.</p>

<p>On peut enfin créer le test pour rendre la carte du dessus du deck.</p>

<p>On commence par tester le fait que l’on rend <code class="language-plaintext highlighter-rouge">None</code> si le deck est vide:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">test_remove_from_empty_deck</span><span class="p">():</span>
    <span class="n">deck</span> <span class="o">=</span> <span class="n">Deck</span><span class="p">()</span>
    
    <span class="k">assert</span> <span class="n">deck</span><span class="p">.</span><span class="n">remove</span><span class="p">()</span> <span class="ow">is</span> <span class="bp">None</span>
</code></pre></div></div>

<p>Faites le code correspondant.</p>

<p>Puis que l’on récupère bien les cartes dans l’ordre  :</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">test_remove</span><span class="p">():</span>
    <span class="n">deck</span> <span class="o">=</span> <span class="n">Deck</span><span class="p">()</span>
    <span class="n">deck</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="n">Card</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">Card</span><span class="p">.</span><span class="n">SPADES</span><span class="p">))</span>
    <span class="n">card</span> <span class="o">=</span> <span class="n">Card</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">Card</span><span class="p">.</span><span class="n">SPADES</span><span class="p">)</span>
    <span class="n">deck</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="n">card</span><span class="p">)</span>
    
    <span class="k">assert</span> <span class="n">deck</span><span class="p">.</span><span class="n">remove</span><span class="p">()</span> <span class="ow">is</span> <span class="n">card</span>
    <span class="k">assert</span> <span class="n">deck</span><span class="p">.</span><span class="n">nb_cards</span><span class="p">()</span> <span class="o">==</span> <span class="mi">1</span>
</code></pre></div></div>

<h3 id="ui">UI</h3>

<p>On vous demande d’utiliser l’UI précédente pour avoir :</p>

<ul>
  <li>deux decks côte à côte initialement vides</li>
  <li>un bouton qui ajoute une carte (que l’on choisit grâce à deux menus   déroulants) au premier deck</li>
  <li>un bouton permettant de passer une carte du premier au second deck.</li>
</ul>

<p>Une façon (élégante) de gérer l’affichage des cartes pourra être de coder une méthode <code class="language-plaintext highlighter-rouge">image</code> à deck</p>

<p>Vous pouvez une fois ceci réalisé ajouter deux chaînes de caractères permettant de savoir le nombre de cartes dans chaque deck.</p>

<h3 id="pour-aller-plus-loin">Pour aller plus loin</h3>

<h4 id="comparaisons-de-cartes">Comparaisons de cartes</h4>

<p>En utilisant les méthodes de comparaison vues à la toute fin de la première séance de code, codez les méthodes permettant de faire passer les tests suivants :</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">test_card_equality</span><span class="p">():</span>
    <span class="k">assert</span> <span class="n">Card</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">Card</span><span class="p">.</span><span class="n">SPADES</span><span class="p">)</span> <span class="o">==</span> <span class="n">Card</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">Card</span><span class="p">.</span><span class="n">SPADES</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">Card</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">Card</span><span class="p">.</span><span class="n">SPADES</span><span class="p">)</span> <span class="o">!=</span> <span class="n">Card</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">Card</span><span class="p">.</span><span class="n">DIAMONDS</span><span class="p">)</span>

    <span class="k">assert</span> <span class="n">Card</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">Card</span><span class="p">.</span><span class="n">SPADES</span><span class="p">)</span> <span class="o">!=</span> <span class="n">Card</span><span class="p">(</span><span class="mi">13</span><span class="p">,</span> <span class="n">Card</span><span class="p">.</span><span class="n">DIAMONDS</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">test_card_lesser_than</span><span class="p">():</span>
    <span class="k">assert</span> <span class="ow">not</span> <span class="n">Card</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">Card</span><span class="p">.</span><span class="n">SPADES</span><span class="p">)</span> <span class="o">&lt;</span> <span class="n">Card</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">Card</span><span class="p">.</span><span class="n">SPADES</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">Card</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">Card</span><span class="p">.</span><span class="n">SPADES</span><span class="p">)</span> <span class="o">&lt;</span> <span class="n">Card</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">Card</span><span class="p">.</span><span class="n">SPADES</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">test_card_larger_than</span><span class="p">():</span>
    <span class="k">assert</span> <span class="ow">not</span> <span class="n">Card</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">Card</span><span class="p">.</span><span class="n">SPADES</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">Card</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">Card</span><span class="p">.</span><span class="n">SPADES</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">Card</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">Card</span><span class="p">.</span><span class="n">SPADES</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">Card</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">Card</span><span class="p">.</span><span class="n">SPADES</span><span class="p">)</span>
</code></pre></div></div>

<p>On pourra ensuite ajouter entre les 2 decks un champ permettant de savoir si la carte du deck de gauche est égale, inférieure ou supérieure à la carte du deck de droite.</p>

<h4 id="considérer-deck-comme-une-liste">Considérer deck comme une liste</h4>

<p>La méthode <code class="language-plaintext highlighter-rouge">nb_cards</code> de deck a la même utilité que la fonction <code class="language-plaintext highlighter-rouge">len</code>que l’on utilise dans les listes. La méthode <code class="language-plaintext highlighter-rouge">__len__</code> permet d’utiliser la fonction <code class="language-plaintext highlighter-rouge">len</code> directement. Coder cette fonctionnalité, puis supprimez la méthode <code class="language-plaintext highlighter-rouge">nb_cards</code>. Il faudra changer le code de l’ui et les tests également.</p>

  </div>

</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/cours_informatique/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">cours d'informatique</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">cours d'informatique</li>
</ul>
      </div>

      <div class="footer-col footer-col-2">
<ul class="social-media-list"><li><a href="https://github.com/FrancoisBrucker"><svg class="svg-icon"><use xlink:href="/cours_informatique/assets/minima-social-icons.svg#github"></use></svg> <span class="username">FrancoisBrucker</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>Support de cours/td d'informatique de François Brucker.</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
