<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Mémoire</title>

    <link href="/cours_informatique/assets/node_modules/prismjs/themes/prism-solarizedlight.min.css" rel="stylesheet">
    <link href="/cours_informatique/assets/node_modules/prismjs/plugins/line-numbers/prism-line-numbers.min.css" rel="stylesheet">

    <link href="/cours_informatique/assets/stylesheets/main.css" rel="stylesheet">

  </head>
  <body>
    <script>
      window.MathJax = {
        tex: {
          inlineMath: [
            [
              '$', '$'
            ],
            [
              '\\(', '\\)'
            ]
          ]
        },
        svg: {
          fontCache: 'global'
        }
      };

      function goTop() {
        window.scrollTo({top: 0});
      }
      function goBottom() {
        window.scrollTo({top: document.body.scrollHeight});
      }
    </script>
    <script type="text/javascript" id="MathJax-script" src="/cours_informatique/assets/node_modules/mathjax/es5/tex-svg-full.js"></script>

    <header class="border-b-2 border-gray-200 mb-4">
      <div class="max-w-[1200px] mx-auto px-4 relative">
        <div class="min-h-[50px] flex justify-between items-center">
          <a class="mx-2" href="/cours_informatique/">Home</a>
        </div>

        <div class="min-h-[50px] flex justify-center items-center absolute right-0 top-0">
          <a class="mx-2" href="/cours_informatique/about">About</a>
          <button onclick="goTop()" id="myBtn" title="Go to top">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
              <path stroke-linecap="round" stroke-linejoin="round" d="M15 11.25l-3-3m0 0l-3 3m3-3v7.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
            </svg>
          </button>

          <button onclick="goBottom()" id="myBtn" title="Go to top">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
              <path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75l3 3m0 0l3-3m-3 3v-7.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
            </svg>
          </button>
        </div>

      </div>
    </header>

    <main class="max-w-[1200px] mx-auto px-4">
      
<article>

  <h1>Mémoire</h1>
  <div>
    

    
  </div>

  

    
<div class="quote relative  py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-purple-500 bg-purple-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-purple-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M5 19a2 2 0 01-2-2V7a2 2 0 012-2h4l2 2h4a2 2 0 012 2v1M5 19h14a2 2 0 002-2v-5a2 2 0 00-2-2H9a2 2 0 00-2 2v5a2 2 0 01-2 2z"></path>
</svg>
<div class="pl-8 mr-8">

<a class="interne" href="/cours_informatique/cours/">Cours</a><span class="px-1">/</span><a class="interne" href="/cours_informatique/cours/système/">Système</a><span class="px-1">/</span><a class="interne" href="/cours_informatique/cours/système/système-exploitation/">Système d&#39;exploitation</a><span class="px-1">/</span><a class="interne" href="/cours_informatique/cours/système/système-exploitation/mémoire/">Mémoire</a>

</div>
</div>


    
  

  <p>La mémoire est une partie fondamentale d'un ordinateur et d'un système d'exploitation. C'est dans la mémoire que <strong>tout</strong> est stocké :</p>
<ul>
<li>les instructions de chaque process</li>
<li>le noyau</li>
<li>des tables de fonctions utilisées par le processeurs (interruptions, tables des pages mémoires)</li>
</ul>
<p>Son accès est plus rapide que les autres devices, mais est plus lent que la mémoire (beaucoup plus chère) cache du processeur.</p>
<div class="quote relative drop-shadow  py-2 pr-2 rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-amber-800 bg-amber-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-amber-800" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
</svg>
<div class="pl-8  mb-2 mr-8">
<p><strong>définition</strong></p>
</div><div class="pl-8 mr-8">
<p>La mémoire est tableau de taille $2^{64}-1$ contenant des <a href="https://fr.wikipedia.org/wiki/Byte">byte</a></p>
</div>
</div>
<p>Un byte correspond à 8 <a href="https://fr.wikipedia.org/wiki/Bit">bit</a>, que l'on range par convention de droite à gauche, pour pouvoir facilement lire sa valeur. Le byte ci-dessous correspond au nombre binaire :0b11001101, c'est à dire 205 :</p>
<pre><code>index  : 76543210
valeur : 11001101
</code></pre>
<p>Si le bit représente la quantité d'information minimale (0 ou 1), le byte est l'unité fondamentale de stockage. On ne pourra jamais véhiculer moins d'un byte et toute donnée sera constituée d'un multiple de byte.</p>
<h2>Objets manipulés</h2>
<p>Il ne faut pas confondre l'adresse en mémoire, souvent donnée en bit et son contenu, donné en byte.</p>
<div class="quote relative py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-red-500 bg-red-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-red-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path>
</svg>
<div class="pl-8 mr-8">
<p>Pour stocker un tableau adressé sur 8bits il faut $2^8 = 256$ byte, c'est à dire $2^8 \cdot 8 = 2048$ bits.</p>
</div>
</div>
<h3>Unités</h3>
<p>Attentions aux unités :</p>
<ul>
<li>l'abréviation d'un bit est b</li>
<li>l'abréviation d'un byte est B</li>
</ul>
<p>64b correspond à 8B.</p>
<p>On a coutume de considérer les quantités suivantes :</p>
<ul>
<li>1b, l'unité fondamentale</li>
<li>8b qui forment un byte (octet), d’abréviation B</li>
<li>16b, donc 2B qui forment un word (mot), d'abréviation W</li>
<li>32b, donc 4B et 2 word qui forment un dword (double word, double mot), d'abréviation DW</li>
<li>64b, donc 8B, 2 dword et 4 word forment un qword (quad word, quadruple mot), d'abréviation QW</li>
</ul>
<h3>Multiples</h3>
<p>Les taille de mémoire sont grande, on ne peut les manipuler directement en byte. Le système décimal nous permet de parler de multiples en kilo, méga, giga et tera :</p>
<ul>
<li>un <em><strong>kilo byte</strong></em>, kB, pour $10^3$ byte et <em><strong>kilo bit</strong></em>, kb, pour $10^3$ bits</li>
<li>Un <em><strong>méga byte</strong></em>, MB, qui vaut $10^3 \cdot 10^3 = 10^{2 \cdot 3} = 10^{6}$ byte et un <em><strong>méga bit</strong></em>, Mb, qui vaut $10^{6}$ bit</li>
<li>un <em><strong>giga byte</strong></em>, GB et <em><strong>giga bit</strong></em>, Gb, qui valent $10^9$ byte ou bit</li>
<li>un <em><strong>tera byte</strong></em>, TB et <em><strong>tera bit</strong></em>, Tb, qui valent $10^{12}$ byte ou bit</li>
</ul>
<p>Mais lorsque l'on parle de mémoire, on a coutume de chercher à voir la taille en byte de mémoire d'objets selon une quantité d'adresses exprimé en bit. De là 1 KB n'a que peu de sens. C'est 1024B qui en a (le nombre de byte adressable par 10 bits).</p>
<p>C'est pourquoi, on parlera de multiple binaires comme le <em><strong>kibi  byte</strong></em>, pour <strong>ki</strong>lo <strong>bi</strong>naire d'unité kiB, qui vaut $2^{10} = 1024$ byte.</p>
<p>La différence n'est pas grande mais autant être précis.</p>
<p>On peut ainsi progresser dans les multiples :</p>
<ul>
<li>un <em><strong>kibi byte</strong></em>, KiB, qui vaut $2^{10} \cdot 2^{10} = 2^{2 \cdot 10} = 2^{20}$ byte</li>
<li>un <em><strong>mébi byte</strong></em>, MiB, qui vaut $2^{10} \cdot 2^{10} = 2^{2 \cdot 10} = 2^{20}$ byte</li>
<li>un <em><strong>gibi byte</strong></em>,GiB, qui vaut $2^{30}$ byte (attention, ne cofondez pas avec un <a href="https://www.youtube.com/watch?v=3EhIQSUU4Fk&amp;list=PLsbtzZi9n5PtE3M1zlzwQByojW7xDhExY&amp;index=70">Gibi</a>, ça n'a rien à voir)</li>
<li>un <em><strong>tebi byte</strong></em>, TiB, qui vaut $2^{40}$ byte</li>
</ul>
<h2>Valeurs</h2>
<p>La valeur de ce qu'il y a en mémoire dépend du contexte. Un byte peut être :</p>
<ul>
<li>un entier entre 0 et 255</li>
<li>un entier relatif entre -128 et 127 (en <a href="https://fr.wikipedia.org/wiki/Compl%C3%A9ment_%C3%A0_deux">complément à deux</a>)</li>
<li>un caractère <a href="https://fr.wikipedia.org/wiki/American_Standard_Code_for_Information_Interchange">ascii</a> si le dernier bit est à 0.</li>
<li>...</li>
</ul>
<p>C'est encore pire lorsque l'on considère des valeurs sur plusieurs adresses consécutives :</p>
<pre><code>Indice   :        1       2
Valeur b : 0000110010010001
       B :       12     145 
</code></pre>
<p>Sa valeur en word va dépendre de selon qu'on lire la valeur par indice croissant ou décroissant.</p>
<p>Si on lit par indice décroissant (sens commun de lecture) on trouvera l'entier binaire : <code>0000110010010001</code> qui correspond à l'entier décimal 3217.</p>
<p>Et si on lit par indice décroissant, on trouvera l'entier binaire : <code>1001000100001100</code> qui lui correspond à l'entier décimal 37132.</p>
<div class="quote relative py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-red-500 bg-red-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-red-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path>
</svg>
<div class="pl-8 mr-8">
<p>L'unité fondamentale de lecture est <strong>toujours</strong> le byte, on inverse donc les bytes, pas les bits qui le compose.</p>
</div>
</div>
<p>Ceci est loin d'être anecdotique et s'appelle l'<a href="https://fr.wikipedia.org/wiki/Boutisme">Endianness</a> :</p>
<ul>
<li>les processeurs ARM, tout comme les protocoles réseau ou PCIe sont dit <em>big endian</em> les bytes sont lu de droite à gauche (sens de lecture usuel)</li>
<li>les processeur intel sont dit <em>little endian</em> les byte sont lu de gauche à droite (sens non usuel)</li>
</ul>
<p>Un word étant composé de deux byte, le byte des 8 premiers bits est dit de poids faible et le byte des 8 derniers bits est dit byte de poids fort. Les système big endian mette le byte de poids fort à l'adresse la plus petite et les systèmes little endian à l'adresse la plus forte.</p>
<div class="quote relative drop-shadow  py-2 pr-2 rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-amber-800 bg-amber-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-amber-800" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
</svg>
<div class="pl-8 mr-8">
<p>Il est important de connaître la taille des objets que l'on manipule et de laisser le système gérer l'Endianness pour nous.</p>
</div>
</div>
<div class="quote relative  py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-cyan-500 bg-cyan-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-cyan-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path>
</svg>
<div class="pl-8 mr-8">
<p>L'Endianness est un exemple parmi tant d'autre que s'il existe une convention vous pouvez être sur que les deux choix seront choisis (écrire de gauche à droite, nord vers le haut, etc)</p>
</div>
</div>
<h2>Mémoire dans les OS</h2>
<p>Dans les OS actuels, la mémoire s'adresse sur 64b. C'est à dire qu'il est théoriquement possible d'adresser $2^{64}$ byte, c'est à dire 16<a href="https://fr.wikipedia.org/wiki/Pr%C3%A9fixe_binaire#Tableaux_des_pr%C3%A9fixes_binaires_et_d%C3%A9cimaux">EiB</a> et donc 16777216 TiB.</p>
<h3>Adressage logique et physique</h3>
<p>Cette limite est actuellement inatteignable en pratique, c'est pourquoi pour limiter la complexité de l'adressage les processeur actuels <a href="https://en.wikipedia.org/wiki/X86-64#Virtual_address_space_details">autorise moins d'adresse</a> :</p>
<ul>
<li>seule 49bit sont adressables, des bit 0 à 48</li>
<li>les bits 48 à 63 doivent être identiques (0 ou 1)</li>
</ul>
<p>Souvent, le noyau de l'OS se placera aux adresses valant 1 sur le bit 48 le reste de la mémoire étant disponible pour les utilisateurs. Chacun a donc 256TiB à sa disposition ce qui est bien assez.</p>
<div class="quote relative  py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-cyan-500 bg-cyan-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-cyan-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path>
</svg>
<div class="pl-8 mr-8">
<p>Cet adressage est dit <em><strong>logique</strong></em> (ou virtuel) car c'est l'adressage vu depuis le processeur. L'adressage <em><strong>physique</strong></em>, directement sur la RAM, est lui autorisé sur 52bits.</p>
</div>
</div>
<h3>Types de données</h3>
<p>Les données manipulées sont <strong>toutes</strong> des tableaux de bytes en mémoire.</p>
<p>Les processeurs actuels sont (quasi) tous basé sur une architecture 64b. C'est à dire que ses différentes instructions prennent comme paramètres des qword par défaut, et que les transferts de données sont optimisées pour cette taille.</p>
<p>Ces instructions peuvent souvent être déclinées en instructions sur des dword, des word ou même des bytes mais jamais rien d'autre (vous ne trouverez jamais aucune instruction dont les paramètres sont des nombres sur 3 bytes).</p>
<p>Cette organisation en puissance de deux de byte est au cœur de tout l'organisation d'un ordinateur.</p>


</article>
    </main>

    <footer class="min-h-[50px] border-t-2 border-gray-200 mt-4">
      <div class="max-w-[1200px] mx-auto px-4 relative">
        <div class="min-h-[50px] flex justify-center items-center">
          <p>
            Cours d'informatique à l'école centrale Marseille
          </p>
        </div>
        <div class="min-h-[50px] flex justify-center items-center absolute right-0 top-0">
          <button onclick="goTop()" id="myBtn" title="Go to top">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
              <path stroke-linecap="round" stroke-linejoin="round" d="M15 11.25l-3-3m0 0l-3 3m3-3v7.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
            </svg>
          </button>

          <button onclick="goBottom()" id="myBtn" title="Go to top">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
              <path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75l3 3m0 0l3-3m-3 3v-7.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
            </svg>
          </button>
        </div>

      </div>
    </footer>

    <script>
      MathJax
        .startup
        .document
        .getMathItemsWithin(document.body);
    </script>

  </body>
</html>