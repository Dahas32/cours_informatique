<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1"/>

    <title>bases du javascript</title>

    <link href=/cours_informatique/assets/node_modules/prismjs/themes/prism-solarizedlight.min.css rel="stylesheet">
    <link href=/cours_informatique/assets/node_modules/prismjs/plugins/line-numbers/prism-line-numbers.min.css rel="stylesheet">

    <link href=/cours_informatique/assets/stylesheets/main.css rel="stylesheet">

  </head>
  <body>
    <script>
      window.MathJax = {
        tex: {
          inlineMath: [
            [
              '$', '$'
            ],
            [
              '\\(', '\\)'
            ]
          ]
        },
        svg: {
          fontCache: 'global'
        }
      };
    </script>
    <script type="text/javascript" id="MathJax-script" async
  src=/cours_informatique/assets/node_modules/mathjax/es5/tex-svg-full.js></script>
  
    <header class="border-b-2 border-gray-200 mb-4">
      <div class="max-w-[1000px] mx-auto px-4">
        <div class="min-h-[50px] flex justify-between items-center">
          <a class="mx-2" href="/cours_informatique/">Home</a>
          <a class="mx-2" href="/cours_informatique/about">About</a>
        </div>
      </div>
    </header>

    <main class="max-w-[1000px] mx-auto px-4">
      
<article>

  <h1  class="mb-1">bases du javascript</h1>
  <div class="mb-4">
    

    
      <div class=" px-4 flex items-center">
        
          <div class="font-bold">Auteur : </div>
        
        <ul class="flex not-prose list-none my-0 last:after:content-['•'] last:after:px-1 mx-0 px-1">
          
            <li class="before:content-['•'] before:px-1">François Brucker</li>
          
        </ul>
      </div>
    
  </div>

  
    
<div class="quote relative  py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-purple-500 bg-purple-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-purple-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M5 19a2 2 0 01-2-2V7a2 2 0 012-2h4l2 2h4a2 2 0 012 2v1M5 19h14a2 2 0 002-2v-5a2 2 0 00-2-2H9a2 2 0 00-2 2v5a2 2 0 01-2 2z" />
</svg>
<div class="pl-8 mr-8">

<a href="/cours_informatique/cours/">Cours</a><span class="px-1">/</span><a href="/cours_informatique/cours/web/">Web</a><span class="px-1">/</span><a href="/cours_informatique/cours/web/javascript/">javascript</a><span class="px-1">/</span><a href="/cours_informatique/cours/web/javascript/bases/">bases du javascript</a>

</div></div>

  

  <div class="quote relative  py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-pink-500 bg-pink-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-pink-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253" />
</svg>
<div class="pl-8  mb-2 mr-8">
<p><strong>Prérequis</strong> :</p>
</div><div class="pl-8 mr-8">
<ul>
<li><a href="/cours_informatique/tutoriels/installation-syst%C3%A8me">Avoir un système en état de marche</a></li>
<li><a href="/cours_informatique/tutoriels/fichiers-navigation">Savoir naviguer dans un système de fichiers</a></li>
<li><a href="/cours_informatique/tutoriels/vsc-installation-et-prise-en-main">Installation et prise en main de l'éditeur de texte vsc</a></li>
<li>Il pourra de plus être très utile de :
<ul>
<li><a href="/cours_informatique/tutoriels/terminal">Savoir ouvrir une fenêtre terminal</a></li>
<li><a href="/cours_informatique/tutoriels/brew">D'installez brew si vous êtes sous mac</a></li>
</ul>
</li>
</ul>
</div></div>
<!-- début résumé -->
<p>Premières utilisation de javascript.</p>
<!-- fin résumé -->
<p><a href="https://fr.wikipedia.org/wiki/JavaScript">Javascript</a> n'est <strong>pas</strong> java. Ça n'a même rien à voir. C'est en revanche un langage de script objet (comme python) qui est peut être utilisé partout et que l'on retrouve souvent dan le web :</p>
<ul>
<li><em>côté front</em> : c'est le navigateur qui exécutera le code javascript de la page sur l'<a href="https://fr.wikipedia.org/wiki/Client_(informatique)">ordinateur client</a> (c'est à dire celui qui qui exécute le navigateur).</li>
<li><em>côté back</em> : C'est le <a href="https://fr.wikipedia.org/wiki/Serveur_informatique">serveur</a> qui exécutera le code (c'est à dire celui qui possède la ressource que va chercher le navigateur). On utilise souvent la bibliothèque <a href="https://nodejs.org/en/">https://nodejs.org/en/</a> pour cela.</li>
</ul>
<div class="quote relative drop-shadow  py-2 pr-2 rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-amber-800 bg-amber-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-amber-800" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
</svg>
<div class="pl-8 mr-8">
<p>Ça n'a l'air de rien mais exécuter du code côté client et côté serveur ce n'est pas la même chose du tout. Dans un cas on a accès à l'ordinateur qui exécute le navigateur, dans l'autre à l'ordinateur qui possède le serveur sur lequel on va chercher les ressources.</p>
</div></div>
<p>Nous verrons ici ce que ça veut dire qu'exécuter du javascript et le strict nécessaire pour pouvoir faire illusion en soirée.</p>
<h2>L'interpréteur javascript</h2>
<p>Tout comme python, javascript est un <a href="https://fr.wikipedia.org/wiki/Interpr%C3%A8te_(informatique)">langage interprété</a>. Chaque ligne de javascript est exécutée dans un programme appelé interpréteur.  Il en existe essentiellement deux :</p>
<ul>
<li>votre navigateur web</li>
<li>celui de <a href="https://nodejs.org/en/">node</a></li>
</ul>
<p>Nous allons présenter les deux.</p>
<div class="quote relative  py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-cyan-500 bg-cyan-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-cyan-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" />
</svg>
<div class="pl-8 mr-8">
<p>La plupart du temps, c'est l'interpréteur de la <a href="https://fr.wikipedia.org/wiki/V8_(moteur_JavaScript)">V8</a> qui est utilisé. Il existe plusieurs interpréteurs javascript, ils sont tout autant valable les uns que les autres s'il respectent les spécifications du langage javascript appelé <a href="https://fr.wikipedia.org/wiki/ECMAScript">ecmascript</a> (les évolutions de cette norme sont visible <a href="https://www.w3schools.com/js/js_versions.asp">là</a> par exemple)</p>
</div></div>
<h3>Navigateur web</h3>
<p>On exécutera le code depuis un fichier html. La sortie standard est la console, que vous pouvez voir avec les <a href="../../outils-de-d%C3%A9veloppement/">outils de développement</a> (<em>&quot;... du menu &gt; show console drawer&quot;</em>, ou en appuyant sur la touche <esc> alors que la fenêtre des outils de développement est ouverte).</p>
<div class="quote relative  py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-yellow-500 bg-yellow-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-yellow-500" xmlns="http://www.w3.org/2000/svg"  fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z" />
  <path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
</svg>
<div class="pl-8 mr-8">
<p>fichier <a href="./javascript_files/hello_javascript.html"><code>hello_javascript.html</code></a>. Ouvrez le dans un navigateur.</p>
<p>Créez une fichier <code class="fichier">hello_javascript.html</code> avec le contenu suivant :</p>
<pre class="language-html " style="counter-reset: linenumber 0"><code class="language-html"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">doctype</span> <span class="token name">html</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>utf-8<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span> 
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>
            Test de javascript
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"Bonjour monde !"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span>regardez dans la console !<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span>
</code></pre>
</div></div>
<p>Le fichier html précédent écrit dans la console javascript du navigateur. Vous voyez l'utilisation du javascript via la balise <script></script></p>
<h3>node</h3>
<p><a href="https://nodejs.org/en/">Node</a> est un interpréteur javascript puissant basé sur la V8 et qui contient des bibliothèques dédiées très pratiques lorsque l'on code en javascript.</p>
<p><a href="https://nodejs.dev/learn">https://nodejs.dev/learn</a></p>
<h4 id="bloc-id-installation-node">Installation de node</h4>
<div class="relative drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-indigo-500 bg-indigo-100">
<details class="group">
<summary class="list-none py-0.5">
<svg class="group-open:hidden absolute w-7 h-7 pl-1 pt-0.5 text-indigo-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7" />
</svg>
<svg class="group-open:block hidden absolute w-7 h-7 pl-1 pt-0.5 text-indigo-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" />
</svg>
<div class="pl-8 font-bold inline-block">
<p>sous Linux</p>
</div>
<svg class="group-open:hidden inline-block pl-3 w-10 text-indigo-500" xmlns="http://www.w3.org/2000/svg"  fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M5 12h.01M12 12h.01M19 12h.01M6 12a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0z" />
</svg>
</summary>
<div class="mx-8 pb-2">
<p>Vous pouvez utiliser <a href="https://github.com/nodesource/distributions/blob/master/README.md">nodesource</a> pour installer node.</p>
</div>
</details>     
</div>
<div class="relative drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-indigo-500 bg-indigo-100">
<details class="group">
<summary class="list-none py-0.5">
<svg class="group-open:hidden absolute w-7 h-7 pl-1 pt-0.5 text-indigo-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7" />
</svg>
<svg class="group-open:block hidden absolute w-7 h-7 pl-1 pt-0.5 text-indigo-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" />
</svg>
<div class="pl-8 font-bold inline-block">
<p>sous Mac</p>
</div>
<svg class="group-open:hidden inline-block pl-3 w-10 text-indigo-500" xmlns="http://www.w3.org/2000/svg"  fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M5 12h.01M12 12h.01M19 12h.01M6 12a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0z" />
</svg>
</summary>
<div class="mx-8 pb-2">
<p>Comme dit dans le tuto d'installation, on utilise le gestionnaire de package <a href="https://brew.sh/">brew</a>.</p>
<p>Une fois celui ci installé, on tape dans un terminal la commande : <code>brew install node</code></p>
</div>
</details>     
</div>
<div class="relative drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-indigo-500 bg-indigo-100">
<details class="group">
<summary class="list-none py-0.5">
<svg class="group-open:hidden absolute w-7 h-7 pl-1 pt-0.5 text-indigo-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7" />
</svg>
<svg class="group-open:block hidden absolute w-7 h-7 pl-1 pt-0.5 text-indigo-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" />
</svg>
<div class="pl-8 font-bold inline-block">
<p>sous Windows</p>
</div>
<svg class="group-open:hidden inline-block pl-3 w-10 text-indigo-500" xmlns="http://www.w3.org/2000/svg"  fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M5 12h.01M12 12h.01M19 12h.01M6 12a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0z" />
</svg>
</summary>
<div class="mx-8 pb-2">
<p>Vous téléchargez la version courante de node : <a href="https://nodejs.org/en/download/current/">https://nodejs.org/en/download/current/</a>.</p>
</div>
</details>     
</div>
<div class="quote relative py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-red-500 bg-red-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-red-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" />
</svg>
<div class="pl-8 mr-8">
<p>Il existe 2 versions de Node](<a href="https://nodejs.org/en/">https://nodejs.org/en/</a>), la <em>LTS (long term support)</em> et la <em>current</em>. On choisira la version <em>current</em> qui est la plus récente. La version <em>LTS</em> est là pour des raisons de compatibilité.</p>
</div></div>
<h4>utilisation de node</h4>
<p>Une fois <a href="https://nodejs.org/en/">https://nodejs.org/en/</a>, tapez <code>node</code> dans un terminal. Vous êtes dans un interpréteur javascript. Vous pouvez ensuite taper <code>console.log(&quot;bonjour monde !&quot;)</code>. Vous devriez obtenir quelque chose du genre :</p>
<pre class="language-js " style="counter-reset: linenumber 0"><code class="language-js"><span class="token operator">></span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"coucou"</span><span class="token punctuation">)</span>
coucou
<span class="token keyword">undefined</span>
<span class="token operator">></span> 
</code></pre>
<p>La première réponse (<code>coucou</code>) correspond à l'action de <code>console.log</code> qui est d'afficher du texte, la seconde réponse (<code>undefined</code>) correspond au retour de <code>console.log</code>.</p>
<div class="quote relative  py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-cyan-500 bg-cyan-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-cyan-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" />
</svg>
<div class="pl-8 mr-8">
<p>Utiliser l'interpréteur <code>node</code> dans un terminal est identique à utiliser l'interpréteur <code>python</code> par exemple. On tape des lignes qui sont interprétées lorsque l'on tape entrée.</p>
</div></div>
<p>On peut aussi, tout comme pour python, exécuter un fichier. Par exemple le fichier <em>&quot;hello.j&quot;</em> :</p>
<pre class="language-js " style="counter-reset: linenumber 0"><code class="language-js">nom <span class="token operator">=</span> <span class="token string">"François"</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"bonjour "</span> <span class="token operator">+</span> nom <span class="token operator">+</span> <span class="token string">" !"</span><span class="token punctuation">)</span>
</code></pre>
<p>Qu'on pourra exécuter avec la commande : <code>node hello.js</code> dans un terminal se trouvant dans le dossier contenant le fichier <em>&quot;hello.js&quot;</em>.</p>
<p>Pour la bonne bouche, un petit exemple de javascript utilisant node un peu plus compliqué :</p>
<p>fichier <em>&quot;hello_qui.js&quot;</em> :</p>
<pre class="language-js " style="counter-reset: linenumber 0"><code class="language-js"><span class="token keyword">const</span> readline <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'readline'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> rl <span class="token operator">=</span> readline<span class="token punctuation">.</span><span class="token function">createInterface</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">input</span><span class="token operator">:</span> process<span class="token punctuation">.</span>stdin<span class="token punctuation">,</span>
  <span class="token literal-property property">output</span><span class="token operator">:</span> process<span class="token punctuation">.</span>stdout
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

rl<span class="token punctuation">.</span><span class="token function">question</span><span class="token punctuation">(</span><span class="token string">'Quel est ton nom ? '</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">answer</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Bonjour </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>answer<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> !</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  rl<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>On a utilisé :</p>
<ul>
<li>l'import de la bibliothèque <a href="https://nodejs.org/api/readline.html#readline_readline">readline</a> de node,</li>
<li><a href="https://nodejs.org/api/process.html#process_process_stdin">process.stdin</a> et <a href="https://nodejs.org/api/process.html#process_process_stdout">process.stdout</a> pour les entrées/sorties standard</li>
<li>une fonction anonyme du type <code>() =&gt; {}</code> comme paramètre d'une fonction.</li>
<li>les <a href="https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Template_literals">construction de chaines de caractère avec <code>${}</code></a></li>
</ul>
<h2>Langage</h2>
<p>Tout comme python, un script javascript est exécuté ligne à ligne. A la moindre erreur le script s'arrête.</p>
<p>Testez le code suivant :</p>
<pre class="language-html " style="counter-reset: linenumber 0"><code class="language-html"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>Hello World en javascript avec des erreurs<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>utf-8<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
     window<span class="token punctuation">.</span><span class="token function">allert</span><span class="token punctuation">(</span><span class="token string">"Hello World!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//une erreur !</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"Hello World!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span>
</code></pre>
<p>Rien n'est écrit dans la console et une croix rouge est apparu.</p>
<div class="quote relative  py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-yellow-500 bg-yellow-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-yellow-500" xmlns="http://www.w3.org/2000/svg"  fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z" />
  <path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
</svg>
<div class="pl-8 mr-8">
<ol>
<li>corrigez la faute et exécutez le code.</li>
<li>une fenêtre s'affiche. Elle est modale. Cela signifie que le code s'est mis en pause. <code>Hello world</code> ne s'affiche qu'une fois que l'on a tapé OK.</li>
</ol>
</div></div>
<p>Il est <strong>indispensable</strong> d'exécuter le code javascript dans un html avec les outils de développement pour savoir quand il y a eu une erreur. Sans ça, il est impossible de dire si tout s'est bien passé.</p>
<p>Si vous tentez d'exécuter le code précédent dans un node, vous obtiendrez l'erreur : <code>Uncaught ReferenceError: window is not defined</code>. En effet, l'objet window c'est le navigateur. Il n'existe pas dans l'interpréteur node.</p>
<div class="quote relative py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-red-500 bg-red-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-red-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" />
</svg>
<div class="pl-8 mr-8">
<p>l'utilisation de <code>window.alert</code> est certes marrant, mais c'est une action modale (le code est en pause jusqu'à ce que l'on ait appuyé sur <code>OK</code>), on ne sait donc pas tout de suite si le code fonctionne ou pas. Il vaut mieux faire ses tests avec la console en utilisant la fonction <code>console.log()</code>.</p>
</div></div>
<h3>fonctions et variables</h3>
<p>Exécutez le code suivant dans un node. Appelons ce fichier <em>&quot;fct.js&quot;</em> :</p>
<pre class="language-js " style="counter-reset: linenumber 0"><code class="language-js"><span class="token comment">// définition classique d'une fonction</span>
<span class="token keyword">function</span> <span class="token function">du_texte</span><span class="token punctuation">(</span><span class="token parameter">texte</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>texte<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">du_texte</span><span class="token punctuation">(</span><span class="token string">"coucou"</span><span class="token punctuation">)</span>

<span class="token comment">// la variable texte_plus_entete est associé à l'objet function</span>
<span class="token function-variable function">texte_plus_entete</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">texte</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"Et ben : "</span> <span class="token operator">+</span> texte<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">//on peut l'exécuter</span>
<span class="token function">texte_plus_entete</span><span class="token punctuation">(</span><span class="token string">"zut alors"</span><span class="token punctuation">)</span>

compteur <span class="token operator">=</span> <span class="token number">0</span> <span class="token comment">//les variables sont globales</span>
entete_texte <span class="token operator">=</span> <span class="token string">"S'il vous plait ? "</span>
<span class="token keyword">function</span> <span class="token function">entete_dans_variable</span><span class="token punctuation">(</span><span class="token parameter">texte</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>entete_texte <span class="token operator">+</span> texte<span class="token punctuation">)</span>
    compteur <span class="token operator">+=</span> <span class="token number">1</span> <span class="token comment">//on change la variable globale</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">cette fonction a été appelée </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>compteur<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> fois.</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token function">entete_dans_variable</span><span class="token punctuation">(</span><span class="token string">"Bonjour ! "</span><span class="token punctuation">)</span>
<span class="token function">entete_dans_variable</span><span class="token punctuation">(</span><span class="token string">"Au revoir."</span><span class="token punctuation">)</span>
</code></pre>
<blockquote>
<p>TBD fonction () =&gt; {}</p>
</blockquote>
<p>Le bout de code ci-dessus montre plusieurs spécificités de javascript :</p>
<ul>
<li>plusieurs façon de créer des fonctions :
<ul>
<li>normale (crée une fonction nommée <code>ma_fct</code>) : <code>function ma_fct(params) {code}</code></li>
<li>anonyme (rend un objet fonction) :<code>function (params) {code}</code>, que l'on pourrait aussi écrire <code>(params) =&gt; {code}</code></li>
</ul>
</li>
<li>les commentaires javascript s'écrivent en commençant par <code>//</code></li>
<li>les variables sont globales par défaut (<code>i = 1</code>), <code>var</code> les rend locales (<code>var i = 1</code>)</li>
<li>la construction automatique de chaines. <code>\</code>cette fonction a été appelée ${compteur} fois.` <code>est équivalent à la concaténation classique :</code>&quot;cette fonction a été appelée &quot; + compteur + &quot; fois.&quot;`</li>
</ul>
<div class="quote relative drop-shadow  py-2 pr-2 rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-amber-800 bg-amber-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-amber-800" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
</svg>
<div class="pl-8 mr-8">
<p>Beaucoup de choses en web sont asynchrones : on envoie une requête au serveur et on exécute le résultat lorsque l'on obtient la réponse du serveur. De là, beaucoup de fonctions ne sont utilisées qu'une seule fois. C'est ce qui explique que l'on utilise abondamment de fonction anonymes.</p>
</div></div>
<h3>types d'objets</h3>
<p>TBD : A tester dans la console.</p>
<ul>
<li>basiques :
<ul>
<li>nombres (3 et 3.14)</li>
<li>chaines de caractères (&quot;ma chaine&quot;)</li>
</ul>
</li>
<li>conteneurs :
<ul>
<li>tableaux : liste d’objets indicés par des entiers. S'utilise comme en python :
<ul>
<li>création d'un tableau : <code>mon_tableau = [1, &quot;trois&quot;, 2.71]</code></li>
<li>indice : <code>mon_tableau[1]</code> rend &quot;trois&quot;</li>
</ul>
</li>
<li>dictionnaires : comme en python sauf que les clés ne peuvent être que des chaînes de caractères. liste d’objet indicés par des chaines de caractères. Autre spécificité, il n'est pas nécessaire de mettre les <code>&quot;</code> lorsque l'on défini les clés.
<ul>
<li><code>mon_dict = {pi: 3.14, potes: [&quot;Pascal&quot;, &quot;Manu&quot;] }</code></li>
<li>clés : <code>mon_dict[&quot;potes&quot;] (rend [&quot;Pascal&quot;, &quot;Manu&quot;])</code></li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="quote relative drop-shadow  py-2 pr-2 rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-amber-800 bg-amber-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-amber-800" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
</svg>
<div class="pl-8 mr-8">
<p>Les dictionnaires ont une importance énorme en javascript et en web en général : il n'y a pas de différence entre un dictionnaire et un objet. Pour s'en convaincre, regardez le type d'un dictionnaire avec l'opérateur <a href="https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Operators/typeof">typeof</a> : <code>typeof {a:1}</code>.</p>
</div></div>
<h3>object</h3>
<p><a href="https://developer.mozilla.org/fr/docs/Learn/JavaScript/Objects/Basics">https://developer.mozilla.org/fr/docs/Learn/JavaScript/Objects/Basics</a></p>
<h2>gestion des dépendances</h2>
<blockquote class="note">
<p>TBD : à faire propre</p>
</blockquote>
<p>L'import de fichiers en javascript est différents de beaucoup d'autres langages. En gros :</p>
<blockquote class="attention">
<p>c'est le cirque.</p>
</blockquote>
<h3>bibliothèques node</h3>
<p>node_modules et npm/yarn</p>
<h3>importer dans un script</h3>
<p>Il existe plusieurs façon d'importer des modules en javascript :</p>
<ul>
<li>la façon ecmascript avec les mots clés <code>import</code> et <code>export</code></li>
<li>la façon commonjs avec les mots clés <code>require</code> et <code>module.export</code></li>
<li>la façon web en lisant bêtement le fichier à importer dans l'interpréteur</li>
</ul>
<p>On peut plus ou moins passer d'une version à l'autre mais c'est compliqué</p>
<p><a href="https://redfin.engineering/node-modules-at-war-why-commonjs-and-es-modules-cant-get-along-9617135eeca1">https://redfin.engineering/node-modules-at-war-why-commonjs-and-es-modules-cant-get-along-9617135eeca1</a></p>
<p><a href="https://adrianmejia.com/getting-started-with-node-js-modules-require-exports-imports-npm-and-beyond/">https://adrianmejia.com/getting-started-with-node-js-modules-require-exports-imports-npm-and-beyond/</a></p>
<p><a href="https://javascript.info/import-export">https://javascript.info/import-export</a></p>
<h4>ecmascript modules</h4>
<p>import / export</p>
<p><a href="https://nodejs.org/api/esm.html#esm_modules_ecmascript_modules">https://nodejs.org/api/esm.html#esm_modules_ecmascript_modules</a></p>
<h4>commonjs modules</h4>
<p>require</p>
<p><a href="https://nodejs.org/api/modules.html#modules_modules_commonjs_modules">https://nodejs.org/api/modules.html#modules_modules_commonjs_modules</a></p>
<h3>dans le web</h3>
<ul>
<li>plusieurs balises script</li>
<li>charger un fichier par le script
<ul>
<li>local</li>
<li>cdn</li>
<li>node_modules</li>
</ul>
</li>
</ul>
<p><a href="https://developer.mozilla.org/fr/docs/Web/HTML/Element/script">https://developer.mozilla.org/fr/docs/Web/HTML/Element/script</a></p>
<div class="quote relative py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-red-500 bg-red-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-red-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" />
</svg>
<div class="pl-8 mr-8">
<p>par d'import sauf si module<br>
<a href="https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Statements/import">https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Statements/import</a><br>
<a href="https://developer.mozilla.org/fr/docs/Web/JavaScript/Guide/Modules">https://developer.mozilla.org/fr/docs/Web/JavaScript/Guide/Modules</a></p>
</div></div>


</article>
    </main>

    <footer class="min-h-[50px] border-t-2 border-gray-200 mt-4">
      <div class="max-w-[1000px] mx-auto px-4">
        <div class="min-h-[50px] flex justify-center items-center">
          <p>
            Cours d'informatique à l'école centrale Marseille
          </p>
        </div>
      </div>
    </footer>

  <script>
    MathJax.startup.document.getMathItemsWithin(document.body);
  </script>

  </body>
</html>