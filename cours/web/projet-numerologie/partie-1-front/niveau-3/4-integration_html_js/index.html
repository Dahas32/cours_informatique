<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1"/>

    <title>Projet numérologie / partie 1 : front / niveau 3 / intégration html et js</title>

    <link href=/cours_informatique/assets/node_modules/prismjs/themes/prism-solarizedlight.min.css rel="stylesheet">
    <link href=/cours_informatique/assets/node_modules/prismjs/plugins/line-numbers/prism-line-numbers.min.css rel="stylesheet">

    <link href=/cours_informatique/assets/stylesheets/main.css rel="stylesheet">

  </head>
  <body>
    <script>
      window.MathJax = {
        tex: {
          inlineMath: [
            [
              '$', '$'
            ],
            [
              '\\(', '\\)'
            ]
          ]
        },
        svg: {
          fontCache: 'global'
        }
      };
    </script>
    <script type="text/javascript" id="MathJax-script" async
  src=/cours_informatique/assets/node_modules/mathjax/es5/tex-svg-full.js></script>

    <header class="border-b-2 border-gray-200 mb-4">
      <div class="max-w-[1000px] mx-auto px-4">
        <div class="min-h-[50px] flex justify-between items-center">
          <a class="mx-2" href="/cours_informatique/">Home</a>
          <a class="mx-2" href="/cours_informatique/about">About</a>
        </div>
      </div>
    </header>

    <main class="max-w-[1000px] mx-auto px-4">
      
<article>

  <h1  class="mb-1">Projet numérologie / partie 1 : front / niveau 3 / intégration html et js</h1>
  <div class="mb-4">
    

    
      <div class=" px-4 flex items-center">
        
          <div class="font-bold">Auteur : </div>
        
        <ul class="flex not-prose list-none my-0 last:after:content-['•'] last:after:px-1 mx-0 px-1">
          
            <li class="before:content-['•'] before:px-1">François Brucker</li>
          
        </ul>
      </div>
    
  </div>

  
    
<div class="quote relative  py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-purple-500 bg-purple-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-purple-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M5 19a2 2 0 01-2-2V7a2 2 0 012-2h4l2 2h4a2 2 0 012 2v1M5 19h14a2 2 0 002-2v-5a2 2 0 00-2-2H9a2 2 0 00-2 2v5a2 2 0 01-2 2z" />
</svg>
<div class="pl-8 mr-8">

<a href="/cours_informatique/cours/">Cours</a><span class="px-1">/</span><a href="/cours_informatique/cours/web/">Web</a><span class="px-1">/</span><a href="/cours_informatique/cours/web/projet-numerologie/">Projet numérologie</a><span class="px-1">/</span><a href="/cours_informatique/cours/web/projet-numerologie/partie-1-front/">Projet numérologie / partie 1 : front</a><span class="px-1">/</span><a href="/cours_informatique/cours/web/projet-numerologie/partie-1-front/niveau-3/">Projet numérologie / partie 1 : front / niveau 3</a><span class="px-1">/</span><a href="/cours_informatique/cours/web/projet-numerologie/partie-1-front/niveau-3/4-integration_html_js/">Projet numérologie / partie 1 : front / niveau 3 / intégration html et js</a>

</div></div>

  

  <!-- début résumé -->
<p>Intégration html &amp; js.</p>
<!-- fin résumé -->
<h2>Business as usual</h2>
<ul>
<li><a href="../../niveau-1/4-integration_html_js#tache-1">tâche 1 du niveau 1</a>. Puis on commit avec le message <em>&quot;action clique bouton&quot;</em></li>
<li><a href="../../niveau-1/4-integration_html_js#tache-2">tâche 2 du niveau 1</a>. Puis on commit avec le message <em>&quot;integration numerologie.js&quot;</em></li>
<li><a href="../../niveau-1/4-integration_html_js#tache-2">tâche 3 du niveau 1</a>. Puis on commit avec le message <em>&quot;utilisation numerologie.js&quot;</em></li>
</ul>
<p>Regardez à chaque fois ce qui est commité.</p>
<h2>Un rebase qui se passe mal</h2>
<p>Histoire de ne pas vous quitter sur l'impression (fausse) que le développement à plusieurs sur un même projet peut se faire n'importe comment, on va vous montrer une fusion qui ne se passe pas automatiquement.</p>
<div class="quote relative drop-shadow  py-2 pr-2 rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-amber-800 bg-amber-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-amber-800" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
</svg>
<div class="pl-8 mr-8">
<p>Pour éviter les multiples fusions manuelles, on a l'habitude de faire en sorte que chaque tâche ne s'occupe pas de la même partie code. Mais il sera toujours nécessaire de fusionner à la main de temps en temps. Ne soyez donc pas pris au dépourvu quand ça arrivera.</p>
</div></div>
<h3>Modification côté github</h3>
<p>Sur github (<em>menu Repository &gt; View on github</em>), modifiez le code de <em>&quot;numerologie.js&quot;</em> pour mettre les tests juste en dessous de chaque déclaration de fonction :</p>
<pre class="language-javascript " style="counter-reset: linenumber 0"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">nombre</span><span class="token punctuation">(</span><span class="token parameter">chaine</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> somme <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> chaine<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        somme <span class="token operator">+=</span> chaine<span class="token punctuation">.</span><span class="token function">charCodeAt</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> somme
<span class="token punctuation">}</span>

<span class="token comment">// test de nombre(chaine)</span>

<span class="token comment">// est-ce 2x plus ?</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">nombre</span><span class="token punctuation">(</span><span class="token string">"cou"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">nombre</span><span class="token punctuation">(</span><span class="token string">"coucou"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">// chaque caractère :la somme est-elle correcte ?</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span>c <span class="token keyword">of</span> <span class="token string">"cou"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>c <span class="token operator">+</span> <span class="token string">" : "</span> <span class="token operator">+</span> <span class="token function">nombre</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">// fin de test de nombre(chaine)</span>

<span class="token keyword">function</span> <span class="token function">somme</span><span class="token punctuation">(</span><span class="token parameter">nombre</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> somme <span class="token operator">=</span> <span class="token number">0</span>
    chaine <span class="token operator">=</span> <span class="token function">String</span><span class="token punctuation">(</span>nombre<span class="token punctuation">)</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> chaine<span class="token punctuation">.</span>length <span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        somme <span class="token operator">+=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>chaine<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> somme
<span class="token punctuation">}</span>

<span class="token comment">// test de somme(nombre)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">somme</span><span class="token punctuation">(</span><span class="token number">132</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">// avec un chiffre : charAt != charCodeAt</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">somme</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"4"</span><span class="token punctuation">.</span><span class="token function">charCodeAt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"4"</span><span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">// conversion chaine de caractères et nombre</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token string">"4"</span><span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token string">"4"</span><span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token string">"4"</span><span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">// fin de test de somme(nombre)</span>

<span class="token keyword">function</span> <span class="token function">chiffreAssocie</span><span class="token punctuation">(</span><span class="token parameter">chaine</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    valeur <span class="token operator">=</span> <span class="token function">nombre</span><span class="token punctuation">(</span>chaine<span class="token punctuation">)</span>

    <span class="token keyword">while</span> <span class="token punctuation">(</span>valeur <span class="token operator">></span> <span class="token number">9</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        valeur <span class="token operator">=</span> <span class="token function">somme</span><span class="token punctuation">(</span>valeur<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> valeur
<span class="token punctuation">}</span>

<span class="token comment">// test de chiffreAssocie(chaine)</span>

<span class="token comment">//test valeur somme des chiffres</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">nombre</span><span class="token punctuation">(</span><span class="token string">"coucou"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">chiffreAssocie</span><span class="token punctuation">(</span><span class="token string">"coucou"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">// fin de test de chiffreAssocie(chaine)</span>
</code></pre>
<p>Puis commitez vos changements (en cliquant sur le bouton vert).</p>
<h3>Modification sur l'ordinateur</h3>
<p>Dans le projet local, pour le même fichier <code class="fichier">numérologie</code>, on garde les tests en fin de fonction, et on ajoute des séparateur entre chaque test :</p>
<pre class="language-javascript " style="counter-reset: linenumber 0"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">nombre</span><span class="token punctuation">(</span><span class="token parameter">chaine</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> somme <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> chaine<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        somme <span class="token operator">+=</span> chaine<span class="token punctuation">.</span><span class="token function">charCodeAt</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> somme
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">somme</span><span class="token punctuation">(</span><span class="token parameter">nombre</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> somme <span class="token operator">=</span> <span class="token number">0</span>
    chaine <span class="token operator">=</span> <span class="token function">String</span><span class="token punctuation">(</span>nombre<span class="token punctuation">)</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> chaine<span class="token punctuation">.</span>length <span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        somme <span class="token operator">+=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>chaine<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> somme
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">chiffreAssocie</span><span class="token punctuation">(</span><span class="token parameter">chaine</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    valeur <span class="token operator">=</span> <span class="token function">nombre</span><span class="token punctuation">(</span>chaine<span class="token punctuation">)</span>

    <span class="token keyword">while</span> <span class="token punctuation">(</span>valeur <span class="token operator">></span> <span class="token number">9</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        valeur <span class="token operator">=</span> <span class="token function">somme</span><span class="token punctuation">(</span>valeur<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> valeur
<span class="token punctuation">}</span>

<span class="token comment">// test de nombre(chaine)</span>

<span class="token comment">// est-ce 2x plus ?</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">nombre</span><span class="token punctuation">(</span><span class="token string">"cou"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">nombre</span><span class="token punctuation">(</span><span class="token string">"coucou"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">// chaque caractère :la somme est-elle correcte ?</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span>c <span class="token keyword">of</span> <span class="token string">"cou"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>c <span class="token operator">+</span> <span class="token string">" : "</span> <span class="token operator">+</span> <span class="token function">nombre</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'----------------'</span><span class="token punctuation">)</span>
<span class="token comment">// fin de test de nombre(chaine)</span>


<span class="token comment">// test de somme(nombre)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">somme</span><span class="token punctuation">(</span><span class="token number">132</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">// avec un chiffre : charAt != charCodeAt</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">somme</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"4"</span><span class="token punctuation">.</span><span class="token function">charCodeAt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"4"</span><span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">// conversion chaine de caracteres et nombre</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token string">"4"</span><span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token string">"4"</span><span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token string">"4"</span><span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'----------------'</span><span class="token punctuation">)</span>
<span class="token comment">// fin de test de somme(nombre)</span>

<span class="token comment">// test de chiffreAssocie(chaine)</span>

<span class="token comment">//test valeur somme des chiffres</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">nombre</span><span class="token punctuation">(</span><span class="token string">"coucou"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">chiffreAssocie</span><span class="token punctuation">(</span><span class="token string">"coucou"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'----------------'</span><span class="token punctuation">)</span>
<span class="token comment">// fin de test de chiffreAssocie(chaine)</span>
</code></pre>
<p>Et on commit avec le message &quot;ajoute séparateur de tests&quot;</p>
<h3>Fusion</h3>
<p>L'application desktop nous dit qu'on est à 4/1 : nous à +4 et le serveur à +1 depuis la dernière synchronisation.</p>
<p>Tentons le pull... Et c'est le drame :</p>
<p><img src="./partie-1-niveau-3-projet-rebase-soucis.png" alt="problème de rebase"></p>
<p>Git vous laisse dans un état entre-deux : vous n'avez pas récupéré les données du serveur et git ne vous laissera rien faire avant que ce soit fait : donc avant que vous ayez réglé les soucis de fusion.</p>
<p>Il y a 1 conflit, git n'a pas réussi à fusionner le fichier tout seul. Si vous ouvrez <code class="fichier">numerologie.js</code> dans vscode, vous verrez le soucis :</p>
<pre class="language-javascript " style="counter-reset: linenumber 0"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">nombre</span><span class="token punctuation">(</span><span class="token parameter">chaine</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> somme <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> chaine<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        somme <span class="token operator">+=</span> chaine<span class="token punctuation">.</span><span class="token function">charCodeAt</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> somme
<span class="token punctuation">}</span>

<span class="token comment">// test de nombre(chaine)</span>

<span class="token comment">// est-ce 2x plus ?</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">nombre</span><span class="token punctuation">(</span><span class="token string">"cou"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">nombre</span><span class="token punctuation">(</span><span class="token string">"coucou"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">// chaque caractère :la somme est-elle correcte ?</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span>c <span class="token keyword">of</span> <span class="token string">"cou"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>c <span class="token operator">+</span> <span class="token string">" : "</span> <span class="token operator">+</span> <span class="token function">nombre</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'----------------'</span><span class="token punctuation">)</span>
<span class="token comment">// fin de test de nombre(chaine)</span>

<span class="token keyword">function</span> <span class="token function">somme</span><span class="token punctuation">(</span><span class="token parameter">nombre</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> somme <span class="token operator">=</span> <span class="token number">0</span>
    chaine <span class="token operator">=</span> <span class="token function">String</span><span class="token punctuation">(</span>nombre<span class="token punctuation">)</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> chaine<span class="token punctuation">.</span>length <span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        somme <span class="token operator">+=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>chaine<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> somme
<span class="token punctuation">}</span>

<span class="token comment">// test de somme(nombre)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">somme</span><span class="token punctuation">(</span><span class="token number">132</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">// avec un chiffre : charAt != charCodeAt</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">somme</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"4"</span><span class="token punctuation">.</span><span class="token function">charCodeAt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"4"</span><span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">// conversion chaine de caracteres et nombre</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token string">"4"</span><span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token string">"4"</span><span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token string">"4"</span><span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'----------------'</span><span class="token punctuation">)</span>
<span class="token comment">// fin de test de somme(nombre)</span>

<span class="token keyword">function</span> <span class="token function">chiffreAssocie</span><span class="token punctuation">(</span><span class="token parameter">chaine</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    valeur <span class="token operator">=</span> <span class="token function">nombre</span><span class="token punctuation">(</span>chaine<span class="token punctuation">)</span>

    <span class="token keyword">while</span> <span class="token punctuation">(</span>valeur <span class="token operator">></span> <span class="token number">9</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        valeur <span class="token operator">=</span> <span class="token function">somme</span><span class="token punctuation">(</span>valeur<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> valeur
<span class="token punctuation">}</span>

<span class="token comment">// test de chiffreAssocie(chaine)</span>

<span class="token comment">//test valeur somme des chiffres</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">nombre</span><span class="token punctuation">(</span><span class="token string">"coucou"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">chiffreAssocie</span><span class="token punctuation">(</span><span class="token string">"coucou"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token operator">&lt;&lt;</span><span class="token operator">&lt;&lt;</span><span class="token operator">&lt;&lt;</span><span class="token operator">&lt;</span> <span class="token constant">HEAD</span>
<span class="token comment">// fin de test de chiffreAssocie(chaine)</span>
<span class="token operator">===</span><span class="token operator">===</span><span class="token operator">=</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'----------------'</span><span class="token punctuation">)</span>
<span class="token comment">// fin de test de chiffreAssocie(chaine)</span>
<span class="token operator">>>></span><span class="token operator">>>></span><span class="token operator">></span> <span class="token number">889641</span><span class="token function">d</span> <span class="token punctuation">(</span>ajoute séparateur de tests<span class="token punctuation">)</span>

</code></pre>
<p>L'unique conflit est à la fin entre <code>&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;</code> et <code>&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;</code> :</p>
<pre class="language-javascript " style="counter-reset: linenumber 0"><code class="language-javascript"><span class="token operator">&lt;&lt;</span><span class="token operator">&lt;&lt;</span><span class="token operator">&lt;&lt;</span><span class="token operator">&lt;</span> <span class="token constant">HEAD</span>
<span class="token comment">// fin de test de chiffreAssocie(chaine)</span>
<span class="token operator">===</span><span class="token operator">===</span><span class="token operator">=</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'----------------'</span><span class="token punctuation">)</span>
<span class="token comment">// fin de test de chiffreAssocie(chaine)</span>
<span class="token operator">>>></span><span class="token operator">>>></span><span class="token operator">></span> <span class="token number">889641</span><span class="token function">d</span> <span class="token punctuation">(</span>ajoute séparateur de tests<span class="token punctuation">)</span>
</code></pre>
<p>Chaque conflit est composé de la même manière :</p>
<ul>
<li>entre <code>&lt;&lt;&lt;&lt;&lt;&lt;&lt;</code> et <code>========</code> une possibilité,</li>
<li>entre <code>========</code> et <code>&gt;&gt;&gt;&gt;&gt;&gt;&gt;</code>, l'autre possibilité.</li>
</ul>
<p>Il faut que l'on choisisse une des possibilité en supprimant l'autre. Ici on veut choisir la seconde possibilité, on supprime donc la première et les <code>&lt;&lt;&lt;&lt;</code> et <code>&gt;&gt;&gt;&gt;</code> :</p>
<pre class="language-javascript " style="counter-reset: linenumber 0"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">nombre</span><span class="token punctuation">(</span><span class="token parameter">chaine</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> somme <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> chaine<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        somme <span class="token operator">+=</span> chaine<span class="token punctuation">.</span><span class="token function">charCodeAt</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> somme
<span class="token punctuation">}</span>

<span class="token comment">// test de nombre(chaine)</span>

<span class="token comment">// est-ce 2x plus ?</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">nombre</span><span class="token punctuation">(</span><span class="token string">"cou"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">nombre</span><span class="token punctuation">(</span><span class="token string">"coucou"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">// chaque caractère :la somme est-elle correcte ?</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span>c <span class="token keyword">of</span> <span class="token string">"cou"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>c <span class="token operator">+</span> <span class="token string">" : "</span> <span class="token operator">+</span> <span class="token function">nombre</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'----------------'</span><span class="token punctuation">)</span>
<span class="token comment">// fin de test de nombre(chaine)</span>

<span class="token keyword">function</span> <span class="token function">somme</span><span class="token punctuation">(</span><span class="token parameter">nombre</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> somme <span class="token operator">=</span> <span class="token number">0</span>
    chaine <span class="token operator">=</span> <span class="token function">String</span><span class="token punctuation">(</span>nombre<span class="token punctuation">)</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> chaine<span class="token punctuation">.</span>length <span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        somme <span class="token operator">+=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>chaine<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> somme
<span class="token punctuation">}</span>

<span class="token comment">// test de somme(nombre)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">somme</span><span class="token punctuation">(</span><span class="token number">132</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">// avec un chiffre : charAt != charCodeAt</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">somme</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"4"</span><span class="token punctuation">.</span><span class="token function">charCodeAt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"4"</span><span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">// conversion chaine de caracteres et nombre</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token string">"4"</span><span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token string">"4"</span><span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token string">"4"</span><span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'----------------'</span><span class="token punctuation">)</span>
<span class="token comment">// fin de test de somme(nombre)</span>

<span class="token keyword">function</span> <span class="token function">chiffreAssocie</span><span class="token punctuation">(</span><span class="token parameter">chaine</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    valeur <span class="token operator">=</span> <span class="token function">nombre</span><span class="token punctuation">(</span>chaine<span class="token punctuation">)</span>

    <span class="token keyword">while</span> <span class="token punctuation">(</span>valeur <span class="token operator">></span> <span class="token number">9</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        valeur <span class="token operator">=</span> <span class="token function">somme</span><span class="token punctuation">(</span>valeur<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> valeur
<span class="token punctuation">}</span>

<span class="token comment">// test de chiffreAssocie(chaine)</span>

<span class="token comment">//test valeur somme des chiffres</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">nombre</span><span class="token punctuation">(</span><span class="token string">"coucou"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">chiffreAssocie</span><span class="token punctuation">(</span><span class="token string">"coucou"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'----------------'</span><span class="token punctuation">)</span>
<span class="token comment">// fin de test de chiffreAssocie(chaine)</span>
</code></pre>
<p>vscode nous aide est on peut choisir une possibilité, il supprimera la seconde tout seul.</p>
<p>On peut maintenant sauver le fichier. et l'application desktop est contente puisque l'on a supprimer les conflit (on en avait qu'un seul) :</p>
<p><img src="./partie-1-niveau-3-projet-rebase-soucis-fini.png" alt="fin du problème de rebase"></p>
<p>On peut finir le rebase. Nous sommes maintenant uniquement en avance de 4 commits sur le serveur, dont l'état actuel est cohérent avec ce que l'on sait (auparavant il avait divergé d'un commit). On <em>push origin</em>.</p>
<div class="quote relative  py-2 drop-shadow rounded rounded-tl-none rounded-bl-none border-solid border-l-8 border-cyan-500 bg-cyan-100">
<svg class="absolute w-7 h-7 pl-1 pt-0.5 pb-0.5 text-cyan-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
  <path stroke-linecap="round" stroke-linejoin="round" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" />
</svg>
<div class="pl-8 mr-8">
<p>Malgré toutes nos modifications, nous n'avions qu'un seul conflit. L'algorithme de rebase de git est donc assez performant.</p>
</div></div>
<h2>Pour aller plus loin</h2>
<p>On utilise souvent git en ligne de commande. Vous pouvez poursuivre en lisant plus avant le <a href="/cours_informatique/cours/gestion-des-sources">cours sur git</a> qui vous donnera les bases de ce merveilleux outil.</p>


</article>
    </main>

    <footer class="min-h-[50px] border-t-2 border-gray-200 mt-4">
      <div class="max-w-[1000px] mx-auto px-4">
        <div class="min-h-[50px] flex justify-center items-center">
          <p>
            Cours d'informatique à l'école centrale Marseille
          </p>
        </div>
      </div>
    </footer>

    <script>
      MathJax
        .startup
        .document
        .getMathItemsWithin(document.body);
    </script>

  </body>
</html>