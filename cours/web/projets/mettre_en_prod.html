<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
<!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Commandes pour lancer son projet sur le serveur | cours d’informatique</title>
<meta name="generator" content="Jekyll v4.2.0">
<meta property="og:title" content="Commandes pour lancer son projet sur le serveur">
<meta name="author" content="Saidy">
<meta property="og:locale" content="en_US">
<meta name="description" content="Support de cours/td d’informatique à l’école centrale marseille.">
<meta property="og:description" content="Support de cours/td d’informatique à l’école centrale marseille.">
<link rel="canonical" href="/cours_informatique/cours/web/projets/mettre_en_prod.html">
<meta property="og:url" content="/cours_informatique/cours/web/projets/mettre_en_prod.html">
<meta property="og:site_name" content="cours d’informatique">
<meta name="twitter:card" content="summary">
<meta property="twitter:title" content="Commandes pour lancer son projet sur le serveur">
<script type="application/ld+json">
{"description":"Support de cours/td d’informatique à l’école centrale marseille.","author":{"@type":"Person","name":"Saidy"},"@type":"WebPage","url":"/cours_informatique/cours/web/projets/mettre_en_prod.html","headline":"Commandes pour lancer son projet sur le serveur","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/cours_informatique/assets/main.css">

  <link rel="stylesheet" href="/cours_informatique/assets/custom.css">

  <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
<link type="application/atom+xml" rel="alternate" href="/cours_informatique/feed.xml" title="cours d'informatique">
</head>

<body>
<header class="site-header" role="banner">

  <div class="wrapper">
<a class="site-title" rel="author" href="/cours_informatique/">cours d'informatique</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger">
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewbox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"></path>
            </svg>
          </span>
        </label>

        <div class="trigger">
            <a class="page-link" href="/cours_informatique/about"> about </a>
        </div>
      </nav>
</div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post">

  <header class="post-header">
    <h1 class="post-title">Commandes pour lancer son projet sur le serveur</h1>Auteurs :
      <ul>
      
        <li><span itemprop="author" itemscope itemtype="http://schema.org/Person"><span class="p-author h-card" itemprop="name">Saidy</span></span></li>
      
        <li><span itemprop="author" itemscope itemtype="http://schema.org/Person"><span class="p-author h-card" itemprop="name">Vienney</span></span></li>
      
      </ul>
  </header>

  <div class="post-content">
    <h2 id="se-connecter-sur-ovh">Se connecter sur ovh</h2>

<h3 id="sur-linux-ou-macos">Sur Linux ou macOS</h3>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ssh VotreIdentifiantCentrale@sas1.ec-m.fr <span class="nt">-A</span>
</code></pre></div></div>

<p>Se connecter au serveur sas tout en récupérerant votre clé ssh :</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ssh VotreIdentifiantCentrale@sas1.ec-m.fr <span class="nt">-A</span>
</code></pre></div></div>

<p>Quitter le serveur sas :</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">exit</span>
</code></pre></div></div>

<p>Se connecter sur le serveur ovh :</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ssh VotrePlante@ovh1.ec-m.fr
</code></pre></div></div>

<h3 id="sur-windows-powershell">Sur Windows (PowerShell)</h3>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ssh VotrePlante@ovh1.ec-m.fr
</code></pre></div></div>

<p>Créer un nouveau dossier pour le projet :</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">mkdir </span>nom_du_projet
</code></pre></div></div>

<p>Entrer dans le dossier nom_du_projet :</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd </span>nom_du_projet
</code></pre></div></div>

<h2 id="récupérer-le-projet-depuis-github-et-le-mettre-dans-le-dossier">Récupérer le projet depuis GitHub et le mettre dans le dossier</h2>

<ul>
  <li>Aller sur la page GitHub du projet (le repository)</li>
  <li>Cliquez sur Code (en vert)</li>
  <li>Copier le lien disponible dans Clone -&gt; SSH (Il suffit de cliquer sur
le petit bouton à droite du lien pour le mettre dans votre presse-papier.)</li>
  <li>Récupérez les fichiers :</li>
</ul>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git clone VotreLienSSH
</code></pre></div></div>

<h2 id="créer-le-dossier-node">Créer le dossier node</h2>

<p>Regarder s’il y a un dossier “node” :
<code class="language-plaintext highlighter-rouge">cd /</code>
<code class="language-plaintext highlighter-rouge">ls</code></p>

<p>Si c’est le cas, le supprimer :
<code class="language-plaintext highlighter-rouge">rm -rf node</code></p>

<p>Créer un dossier node qui est lié au projet :
<code class="language-plaintext highlighter-rouge">ln -s nom_du_projet/nom_du_repository node</code></p>

<h2 id="installer-les-modules-nodejs">Installer les modules node.js</h2>

<ul>
  <li>
    <p>Dans le dossier node (<code class="language-plaintext highlighter-rouge">cd node</code>) :
<code class="language-plaintext highlighter-rouge">npm install</code></p>
  </li>
  <li>
    <p>dans le dossier node/static (<code class="language-plaintext highlighter-rouge">cd node/static</code>) :
<code class="language-plaintext highlighter-rouge">npm install</code></p>
  </li>
</ul>

<h2 id="récupérer-votre-port-nodejs">Récupérer votre port Node.js</h2>

<p>Revenir à la racine (<code class="language-plaintext highlighter-rouge">cd /</code>) et regarder le fichier readme.txt (<code class="language-plaintext highlighter-rouge">cat readme.txt</code>).</p>

<p>Le port s’affiche à côté de “Node”</p>

<p><strong>Ecrire le code du port dans le fichier node.js du serveur (depuis la racine) :</strong></p>

<ul>
  <li>Avec nano :</li>
</ul>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>nano node/server.js
</code></pre></div></div>

<ul>
  <li>Avec vim :</li>
</ul>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>vim node/server.js
</code></pre></div></div>

<ul>
  <li>Quelques commandes pour Vim</li>
</ul>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>:m! <span class="o">(</span>pour sauvegarder<span class="o">)</span>
:q! <span class="o">(</span>pour quitter<span class="o">)</span>
</code></pre></div></div>

<h2 id="lancer-votre-projet-sur-le-serveur">Lancer votre projet sur le serveur</h2>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>node node/server.js
</code></pre></div></div>

<p>Votre page web est maintenant accesible à l’adresse :</p>

<p>VotrePlante.ovh1.ec-m.fr</p>

<p>Mais alors votre serveur node s’arrêtera quand vous quitterez ovh et la page ne sera plus sur le web.</p>

<p><strong>Lancer votre projet sur le serveur sans qu’il s’arrête quand vous quitter le serveur :</strong></p>

<ul>
  <li>Solution 1:</li>
</ul>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>screen <span class="nt">-d</span> <span class="nt">-m</span> <span class="nt">-S</span> node node node/server.js
</code></pre></div></div>

<ul>
  <li>Solution 2:</li>
</ul>

<p>lancer le processus en arrière-plan :</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>node node/server.js &amp;
</code></pre></div></div>

<p>Vous pouvez maintenant quitter votre ovh :</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">exit</span>
</code></pre></div></div>

<p>Et vous pouvez constater que maintenant votre projet est toujours accessible sur le web à l’adresse :</p>

<p>VotrePlante.ovh1.ec-m.fr</p>

<h3 id="pour-gérer-les-screens">Pour gérer les screens</h3>

<p>Pour afficher tous les screens existants, sur toutes les sessions :</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="sb">`</span>VotrePlante@ovh1 ~/node <span class="o">(</span>git<span class="o">)</span>-[master] % ps aux<span class="sb">`</span>
</code></pre></div></div>

<p>Pour afficher les screens existants, uniquement sur votre session :</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>VotrePlante@ovh1 ~/node <span class="o">(</span>git<span class="o">)</span>-[master] % ps
</code></pre></div></div>

<p>Pour afficher uniquement les screens de sa propre session :</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>VotrePlante@ovh1 ~/node <span class="se">\(</span>git<span class="o">)</span>-<span class="se">\[</span>master] % ps aux | <span class="nb">grep </span>VotrePlante
</code></pre></div></div>

<p>Pour tuer le screen  (gentiment) :</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>VotrePlante@ovh1 ~/node <span class="o">(</span>git<span class="o">)</span>-[master] % <span class="nb">kill </span>3031408
</code></pre></div></div>

<p>ou :</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>VotrePlante@ovh1 ~/node <span class="o">(</span>git<span class="o">)</span>-[master] % <span class="nb">kill</span> <span class="nt">-13</span> 3031408
</code></pre></div></div>

<p>Pour tuer le screen 3031408 (méchamment) :</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>VotrePlante@ovh1 ~/node <span class="o">(</span>git<span class="o">)</span>-[master] % <span class="nb">kill</span> <span class="nt">-9</span> 3031408
</code></pre></div></div>

<p>Sinon, vous pouvez aussi utiliser un outil plus convivial pour faire ces opérations :</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>top
</code></pre></div></div>

  </div>

</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/cours_informatique/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">cours d'informatique</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">cours d'informatique</li>
</ul>
      </div>

      <div class="footer-col footer-col-2">
<ul class="social-media-list"><li><a href="https://github.com/FrancoisBrucker"><svg class="svg-icon"><use xlink:href="/cours_informatique/assets/minima-social-icons.svg#github"></use></svg> <span class="username">FrancoisBrucker</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>Support de cours/td d'informatique à l'école centrale marseille.</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
