<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Code Exponentiation rapide | cours d’informatique</title>
<meta name="generator" content="Jekyll v4.2.0" />
<meta property="og:title" content="Code Exponentiation rapide" />
<meta name="author" content="François Brucker" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Support de cours/td d’informatique à l’école centrale marseille." />
<meta property="og:description" content="Support de cours/td d’informatique à l’école centrale marseille." />
<link rel="canonical" href="/cours_informatique/cours/algorithmie_code/cours_3_exponentiation_rapide/2_code_exponentiation_rapide.html" />
<meta property="og:url" content="/cours_informatique/cours/algorithmie_code/cours_3_exponentiation_rapide/2_code_exponentiation_rapide.html" />
<meta property="og:site_name" content="cours d’informatique" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Code Exponentiation rapide" />
<script type="application/ld+json">
{"description":"Support de cours/td d’informatique à l’école centrale marseille.","@type":"WebPage","headline":"Code Exponentiation rapide","url":"/cours_informatique/cours/algorithmie_code/cours_3_exponentiation_rapide/2_code_exponentiation_rapide.html","author":{"@type":"Person","name":"François Brucker"},"@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/cours_informatique/assets/main.css">

  <link rel="stylesheet" href="/cours_informatique/assets/custom.css"><link type="application/atom+xml" rel="alternate" href="/cours_informatique/feed.xml" title="cours d'informatique" /><!-- Mathjax Support -->
  <script>
    MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']],
      },
      svg: {
        fontCache: 'global'
      }
    };
    </script>
    <script type="text/javascript" id="MathJax-script" async
      src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
    </script>
</head>

<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/cours_informatique/">cours d&#39;informatique</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger">
            <a class="page-link" href="/cours_informatique/about"> about </a>
        </div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post">

  <header class="post-header">
    <h1 class="post-title">Code Exponentiation rapide</h1></p>Auteur : <span itemprop="author" itemscope itemtype="http://schema.org/Person"><span class="p-author h-card" itemprop="name">François Brucker</span></span></p>
  </header>

  <div class="post-content">
    <h2 id="introduction">introduction</h2>

<p>Vous allez implémenter les 2 algorithmes en vrai et en python.</p>

<p>Vous vous concentrerez  sur 3 points :</p>

<ul>
  <li>on veut que notre code soit juste</li>
  <li>on veut pouvoir le modifier/ajouter des fonctionnalités rapidement</li>
  <li>on veut pouvoir partager notre code avec soit-même dans d’autres projet, son équipe ou le monde)</li>
</ul>

<h2 id="le-projet-exponentiation">le projet exponentiation</h2>

<p>suivez le guide.</p>

<h3 id="crée-la-structure-du-projet">crée la structure du projet</h3>

<ul>
  <li>on crée le dossier de notre projet</li>
  <li>On le glisse dans vscode pour que l’éditeur le comprenne.</li>
  <li>on crée un fichier main.py et on vérifie en tapant <code class="language-plaintext highlighter-rouge">print("bonjour monde !")</code> :
    <ul>
      <li>que l’on utilise le bon interpréteur python en exécutant le programme</li>
      <li>que le linter est opérationnel</li>
    </ul>
  </li>
</ul>

<h3 id="le-code">le code</h3>

<p>On crée 2 fichiers :</p>

<ul>
  <li><em>“exponentielle.py”</em></li>
  <li><em>“test_exponentielle.py”</em></li>
</ul>

<h4 id="exponentielle-simple">exponentielle simple</h4>

<ol>
  <li>Commencer par créer et tester le code de l’exponentielle simple.</li>
  <li>Essayer de justifier les tests que vous avez utilisés pour tester votre code :
    <ul>
      <li>il doit y en avoir assez pour que vous soyez convaincu que votre code fonctionne</li>
      <li>il ne doit pas y en avoir trop (c’est à dire tester plusieurs fos des  choses qui vont faire la même chose dans le code)</li>
    </ul>
  </li>
  <li>une fois que le code est opérationnel (dont les tests passent), créer un programme qui demande deux nombres séparés par une virgule à l’utilisateur et rend l’exponentielle de ces nombres.</li>
</ol>

<h4 id="exponentielle-rapide">exponentielle rapide</h4>

<p>Faites de même avec l’exponentielle rapide.</p>

<p>Votre programme principale va rendre et le résultat obtenu par l’algorithme simple t par l’algorithme rapide (les deux résultats doivent bien sur coïncider…)</p>

<h3 id="complexité-en-temps">complexité en temps</h3>

<p>L’algorithme rapide doit aller bien plus vite de l’algorithme lent. Vous allez essayer de le voir.</p>

<h4 id="se-rendre-compte-du-problème">se rendre compte du problème</h4>

<p>Modifier votre programme principal pour qu’il calcul itérativement toutes les puissances de 2 de $2^1$ à $2^n$ où $n$ est un nombre donné (affecté au début du programme ou donné par un utilisateur).</p>

<p>Ces calculs doivent être fait pour les deux algorithmes : <strong>vous pourrez faire deux fonctions différentes</strong> dans le programme principal et les appeler l’une après l’autre.</p>

<p>Normalement la boucle qui calcule les puissances de 2 pour l’algorithme simple doit aller plus lentement que celle qui calcule toute les puissances de 2 pour l’algorithme rapide.</p>

<h4 id="calcul-du-temps-pris">calcul du temps pris</h4>

<p>mesurer le temps c’est pas simple parce que :</p>

<ul>
  <li>notre programme python n’est pas seul sur la machine, tous les programmes actifs s’exécutent souvent en même temps en se <a href="https://fr.wikipedia.org/wiki/Temps_partag%C3%A9">partageant du temps de processeur</a></li>
  <li>python fait des trucs sans nous le dire, comme vérifier de temps en temps que les objets ont tous des noms et les supprimer s’ils n’en ont plus (on appelle ça un <a href="https://fr.wikipedia.org/wiki/Ramasse-miettes_(informatique)">ramasse miette</a>)</li>
</ul>

<p>Mais pour ce qui nous importe, on va dire que c’est pas grave parce que ça ne prend pas tellement de temps que ça. On va utiliser les fonctions simple du module <a href="https://docs.python.org/3/library/time.html">time</a>. Faisons une petite fonction de validation dans un nouveau fichier (que vous pourrez appeler <em>“expérimentation.py”</em> par exemple) pour voir comment on peut utiliser la mesure du temps dans notre programme.</p>

<p>Utilisation de la fonction <a href="https://docs.python.org/fr/3/library/time.html#time.time">time</a> du module <a href="https://docs.python.org/3/library/time.html">time</a> de python :</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">time</span>

<span class="n">depart</span> <span class="o">=</span> <span class="n">time</span><span class="p">.</span><span class="n">time</span><span class="p">()</span>

<span class="c1"># le code dont on veut mesurer le temps d'exécution
</span>
<span class="n">fin</span> <span class="o">=</span> <span class="n">time</span><span class="p">.</span><span class="n">time</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">fin</span> <span class="o">-</span> <span class="n">depart</span><span class="p">)</span>  <span class="c1"># doit afficher environ 2
</span></code></pre></div></div>

<p>Testez le code ci-dessus en utilisant la fonction <code class="language-plaintext highlighter-rouge">sleep</code> (cherchez là dans la doc du <a href="https://docs.python.org/3/library/time.html">module time</a>) du module time (que fait-elle ?)</p>

<p>Adaptez ensuite le code pour que le programme principal donne le temps mis pour faire tous les calculs avec simple et tous les calculs avec rapide.</p>

<h2 id="on-raffine">On raffine</h2>

<h3 id="temps-et-complexité">temps et complexité</h3>

<p>Rendez deux listes : <code class="language-plaintext highlighter-rouge">temps_simple</code> et <code class="language-plaintext highlighter-rouge">temps_rapide</code> de longeur 2000 telle que <code class="language-plaintext highlighter-rouge">temps_simple[i]</code>  (<em>respectivement</em> <code class="language-plaintext highlighter-rouge">temps_rapide[i]</code>)contienne le temps mis par l’algorithme simple (<em>resp.</em> rapide) pour calculer $2^i$.</p>

<p>Comparez les deux listes :</p>

<ul>
  <li>vers quoi doit tendre <code class="language-plaintext highlighter-rouge">temps_simple[i] / temps_rapide[i]</code> ?</li>
  <li><code class="language-plaintext highlighter-rouge">log(temps_simple[i]) / temps_rapide[i]</code> ?</li>
</ul>

<p>Vérifiez le expérimentalement.</p>

<h3 id="dessin-des-complexité">dessin des complexité</h3>

<p>On va utiliser <a href="https://matplotlib.org/">matplotlib</a> pour représenter graphiquement nos temps.</p>

<h4 id="installation-de-matplotlib">installation de matplotlib</h4>

<p>Pour installer matplotlib plusieurs possibilités :</p>

<ul>
  <li>directement via pip3/pip :
    <ul>
      <li><code class="language-plaintext highlighter-rouge">pip install matplotlib</code> sous windows</li>
      <li><code class="language-plaintext highlighter-rouge">pip3 install matplotlib</code> sous mac/linux (voir <code class="language-plaintext highlighter-rouge">sudo pip3 install matplotlib</code> sur unix ou si vous n’avez pas installé python3 avec <a href="https://brew.sh/">brew</a>)</li>
      <li>avec <a href="https://www.anaconda.com/">anaconda</a>, matplotlib est déjà installé.</li>
    </ul>
  </li>
</ul>

<h4 id="utilisation-basique-de-matplotlib">utilisation basique de matplotlib</h4>

<blockquote>
  <p><strong>Remarque</strong> : je vais utiliser les lignes de codes trouvées sur le net et je vais me conformer à l’usage en utilisant <code class="language-plaintext highlighter-rouge">import matplotlib.pyplot as plt</code> même si ça viole toutes les règles et bonnes pratiques en informatique.</p>
</blockquote>

<p>Pour utiliser la  bibliothèque  :</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="n">plt</span>
</code></pre></div></div>

<p>Ensuite, la façon dont on procède pour dessier est la suivante :</p>

<ol>
  <li>on crée un dessin (composé) avec la commande <a href="https://www.educative.io/edpresso/what-is-a-subplots-in-matplotlib">subplots</a></li>
  <li>on ajoute des éléments à notre dessin (points, courbe, rectangle, disque, etc)</li>
  <li>on affiche le résultat (ou on le sauve)</li>
</ol>

<p>exemple :</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="n">plt</span>

<span class="c1"># 1. créer le dessin (ici ax)
</span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="p">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span> 

<span class="c1">#  2 ajouter des choses au dessin
</span>
<span class="c1"># 2.1 on crée y  x ** 2
</span><span class="n">x</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">y</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1000</span><span class="p">):</span>
  <span class="n">x</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
  <span class="n">y</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span> <span class="o">**</span> <span class="mi">2</span><span class="p">)</span>

<span class="c1"># 2.2 on l'ajoute à notre dessin (l'ax)
</span><span class="n">ax</span><span class="p">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>

<span class="c1"># 3. représenter le graphique
</span><span class="n">plt</span><span class="p">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div></div>

<p>On peut ensuite raffiner en :</p>

<ul>
  <li>choisissant des <a href="https://www.tutorialspoint.com/matplotlib/matplotlib_setting_limits.htm">limites aux axes</a></li>
  <li>ajoutant des <a href="https://matplotlib.org/3.1.1/gallery/subplots_axes_and_figures/figure_title.html">légendes</a></li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="n">plt</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="p">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span> 

<span class="c1"># des axes 
</span><span class="n">ax</span><span class="p">.</span><span class="n">set_xlim</span><span class="p">(</span><span class="o">-</span><span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
<span class="n">ax</span><span class="p">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="o">-</span><span class="mi">1000</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>

<span class="c1"># les légendes 
</span><span class="n">ax</span><span class="p">.</span><span class="n">set_title</span><span class="p">(</span><span class="s">"la courbe y=x^2"</span><span class="p">)</span>
<span class="n">ax</span><span class="p">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s">'x'</span><span class="p">)</span>
<span class="n">ax</span><span class="p">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s">'x^2'</span><span class="p">)</span>


<span class="n">x</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">y</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1000</span><span class="p">):</span>
  <span class="n">x</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
  <span class="n">y</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span> <span class="o">**</span> <span class="mi">2</span><span class="p">)</span>


<span class="n">ax</span><span class="p">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>

<span class="n">plt</span><span class="p">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div></div>

<p>Enfin, on peut facilement superposer plusieurs courbes (les couleurs sont au format <a href="https://fr.wikipedia.org/wiki/Rouge_vert_bleu">rbg</a>) :</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="n">plt</span>
  
<span class="kn">from</span> <span class="nn">math</span> <span class="kn">import</span> <span class="n">log</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="p">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>

<span class="n">x</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">101</span><span class="p">)</span>

<span class="n">x_fois_2</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">x_carre</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">x_log_x</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">x</span><span class="p">:</span>
    <span class="n">x_fois_2</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span> <span class="o">*</span> <span class="mi">2</span><span class="p">)</span>
    <span class="n">x_carre</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span> <span class="o">**</span> <span class="mi">2</span><span class="p">)</span>
    <span class="n">x_log_x</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span> <span class="o">*</span> <span class="n">log</span><span class="p">(</span><span class="n">i</span><span class="p">))</span>

<span class="n">plt</span><span class="p">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">x_fois_2</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s">"#ff0000"</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">x_carre</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s">"#00ff00"</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">x_log_x</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s">"#0000ff"</span><span class="p">)</span>

<span class="n">plt</span><span class="p">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div></div>

<h4 id="à-vous">à vous</h4>

<p>Utilisez les codes précédents  pour superposer les deux listes de temps et voir si l’on obtient bien les courbes théoriques de complexité.</p>

  </div>

</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/cours_informatique/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">cours d&#39;informatique</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">cours d&#39;informatique</li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/FrancoisBrucker"><svg class="svg-icon"><use xlink:href="/cours_informatique/assets/minima-social-icons.svg#github"></use></svg> <span class="username">FrancoisBrucker</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>Support de cours/td d&#39;informatique à l&#39;école centrale marseille.</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
