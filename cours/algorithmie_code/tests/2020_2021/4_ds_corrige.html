<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.7.1 -->
<title>DS | cours d’informatique</title>
<meta name="generator" content="Jekyll v4.2.0" />
<meta property="og:title" content="DS" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Support de cours/td d’informatique à l’école centrale marseille." />
<meta property="og:description" content="Support de cours/td d’informatique à l’école centrale marseille." />
<link rel="canonical" href="/cours_informatique/cours/algorithmie_code/tests/2020_2021/4_ds_corrige.html" />
<meta property="og:url" content="/cours_informatique/cours/algorithmie_code/tests/2020_2021/4_ds_corrige.html" />
<meta property="og:site_name" content="cours d’informatique" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="DS" />
<script type="application/ld+json">
{"headline":"DS","description":"Support de cours/td d’informatique à l’école centrale marseille.","@type":"WebPage","url":"/cours_informatique/cours/algorithmie_code/tests/2020_2021/4_ds_corrige.html","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/cours_informatique/assets/main.css">

  <link rel="stylesheet" href="/cours_informatique/assets/custom.css"><link type="application/atom+xml" rel="alternate" href="/cours_informatique/feed.xml" title="cours d'informatique" /><!-- Mathjax Support -->
  <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"] ],
        processEscapes: true
      }
    });
  </script>
  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>

<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/cours_informatique/">cours d&#39;informatique</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger">
            <a class="page-link" href="/cours_informatique/about"> about </a>
        </div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post">

  <header class="post-header">
    <h1 class="post-title">DS</h1>Auteurs :
      <ul>
      
        <li><span itemprop="author" itemscope itemtype="http://schema.org/Person"><span class="p-author h-card" itemprop="name">François Brucker</span></span></li>
      
      </ul></p></p>
  </header>

  <div class="post-content">
    <h2 id="introduction">Introduction</h2>

<p>L’examen était les 7 premières questions (environ 1/3) d’un <a href="./informatique_B_2019.pdf">examen de concours 2019</a></p>

<p>La moyenne générale était de 12,15, avec un écart type de 3, 72.</p>

<p>La note moyenne (en pourcentage) pour chaque question était :</p>

<table>
  <thead>
    <tr>
      <th>question</th>
      <th>1</th>
      <th>2</th>
      <th>3</th>
      <th>4</th>
      <th>5</th>
      <th>6</th>
      <th>7</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>%</td>
      <td>79,81</td>
      <td>70,38</td>
      <td>61,54</td>
      <td>62,69</td>
      <td>47,69</td>
      <td>50</td>
      <td>22,31</td>
    </tr>
  </tbody>
</table>

<p>J’ai mis un corrigé de tout l’examen pour que vous puissiez vous entraîner. Ce sujet est parfait car il n’est pas trop compliqué au début (mais du coup il faut aller vite) et permet de s’entraîner avec les listes. Toutes les subtilités des listes et de leurs indices y sont en effet présentes. Et en plus, et c’est certainement le plus important, il est marrant et agréable à faire (enfin si on aime un peu l’algorithmie bien sûr (mais comment pourrait-on ne pas ?)).</p>

<h2 id="question-1">Question 1</h2>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">creerGrille</span><span class="p">(</span><span class="n">largeur</span><span class="p">,</span> <span class="n">hauteur</span><span class="p">):</span>
    <span class="n">grille</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">l</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">largeur</span><span class="p">):</span>
        <span class="n">colonne</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">h</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">hauteur</span><span class="p">):</span>
            <span class="n">colonne</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">VIDE</span><span class="p">)</span>

        <span class="n">grille</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">colonne</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">grille</span>
</code></pre></div></div>

<p>On crée élément par élément un liste de liste. La première liste contient les colonnes, chaque colonne étant également une liste. Il y a deux <code class="language-plaintext highlighter-rouge">append</code> différents, le premier qui remplit les colonnes le second qui ajoute les colonne à la grille. La complexité est en $\mathcal{O}(largeur * longueur)$.</p>

<p><strong>Erreurs fréquentes :</strong></p>

<ul>
  <li>la grille est une liste de colonne, chaque colonne étant une liste d’éléments valant tous <code class="language-plaintext highlighter-rouge">VIDE</code> : il faut donc commencer par une boucle for sur le nombre de colonnes, c’est à dire la <code class="language-plaintext highlighter-rouge">largeur</code></li>
  <li><code class="language-plaintext highlighter-rouge">VIDE</code>est une <strong>donnée</strong> du problème. Le sujer précise que c’est une constante que l’on peut utiliser. Ce n’est ni <code class="language-plaintext highlighter-rouge">"VIDE"</code> ni <code class="language-plaintext highlighter-rouge">[]</code> ni même rien du tout, c’est la constante nommée <code class="language-plaintext highlighter-rouge">VIDE</code>.</li>
  <li>ne mettez pas plusieurs fois la même liste dans grille. un truc du genre : <code class="language-plaintext highlighter-rouge">l= [1, 2]</code> et <code class="language-plaintext highlighter-rouge">grille = [l, l]</code> ne fonctionnera pas car c’est la <strong>même</strong> liste qui sera là, pas deux colonnes différentes (pour vous en rendre compte écrivant <code class="language-plaintext highlighter-rouge">grille[0][1] = '?'</code> puis affichez la grille. Les deux colonnes sont modifiées car c’st la <strong>même</strong> colonne)</li>
  <li>attention à la ligne <code class="language-plaintext highlighter-rouge">colonne = []</code> est est <strong>dans</strong> la boucle et pas au dessus. Il faut qu’elle soit recréée à chaque fois.</li>
</ul>

<h2 id="question-2">Question 2</h2>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">def</span> <span class="nf">afficherGrille</span><span class="p">(</span><span class="n">grille</span><span class="p">):</span>

    <span class="n">nouvelleLigne</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">h</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">hauteur</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">l</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">largeur</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">grille</span><span class="p">[</span><span class="n">l</span><span class="p">][</span><span class="n">h</span><span class="p">]</span> <span class="o">==</span> <span class="n">VIDE</span><span class="p">:</span>
                <span class="n">afficheBlanc</span><span class="p">()</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">afficheCouleur</span><span class="p">(</span><span class="n">grille</span><span class="p">[</span><span class="n">l</span><span class="p">][</span><span class="n">h</span><span class="p">])</span>
        <span class="n">nouvelleLigne</span><span class="p">()</span>
    
</code></pre></div></div>

<p>Attention à la lecture d’un élément. On procède en 2 temps :</p>

<ol>
  <li>On commence par lire de droite à gauche, en enlevant à chaque fois une opération (ici les <code class="language-plaintext highlighter-rouge">[]</code>) :
    <ul>
      <li>en notant <code class="language-plaintext highlighter-rouge">o1=grille[l]</code>, notre expression cherche  l’élément de <code class="language-plaintext highlighter-rouge">o1</code> qui se trouve à la position <code class="language-plaintext highlighter-rouge">h</code>.</li>
      <li>On cherche ensuite <code class="language-plaintext highlighter-rouge">o1</code>. C’est l’élément est l’élément à la position <code class="language-plaintext highlighter-rouge">l</code> de grille.</li>
    </ul>
  </li>
  <li>puis on résout de gauche à droite :
    <ul>
      <li>l’élément à la position <code class="language-plaintext highlighter-rouge">l</code> de grille est la colonne d’indice <code class="language-plaintext highlighter-rouge">l</code>.</li>
      <li><code class="language-plaintext highlighter-rouge">o1</code> étant la colonne d’indice <code class="language-plaintext highlighter-rouge">l</code> de grille, chercher son élément de position <code class="language-plaintext highlighter-rouge">h</code> est donc l’élément de hauteur <code class="language-plaintext highlighter-rouge">h</code></li>
    </ul>
  </li>
</ol>

<p>Notez bien que comme ces opérations sont des positionnement dans des listes, elles sont de complexité $\mathcal{O}(1)$</p>

<p><strong>Erreurs fréquentes :</strong></p>

<ul>
  <li>ne modifiez pas la grille ! <code class="language-plaintext highlighter-rouge">grille.reverse()</code> par exemple retourne la grille et donc votre grille n’a plus les caractéristiques demandée dans l’exercice. A la limite il faudra refaire un <code class="language-plaintext highlighter-rouge">grille.reverse()</code> avant de sortir de la fonction pour tout remettre en place. Mais comme on risque de l’oublier on essaie de programmer sans ça</li>
  <li>attention à la place de <code class="language-plaintext highlighter-rouge">nouvelle_ligne</code></li>
  <li>hauteur doit décroître et largeur croître</li>
  <li>l’ordre des boucle imbriqué est important</li>
</ul>

<h2 id="question-3">Question 3</h2>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">def</span> <span class="nf">grilleLibre</span><span class="p">(</span><span class="n">grille</span><span class="p">,</span> <span class="n">k</span><span class="p">):</span>

<span class="mi">1</span><span class="p">:</span>    <span class="k">for</span> <span class="n">l</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">largeur</span><span class="p">):</span>
<span class="mi">2</span><span class="p">:</span>        <span class="n">ok</span> <span class="o">=</span> <span class="bp">True</span>
<span class="mi">3</span><span class="p">:</span>        <span class="k">for</span> <span class="n">h</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">hauteur</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="n">hauteur</span> <span class="o">-</span> <span class="mi">1</span> <span class="o">-</span> <span class="n">k</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">):</span>
<span class="mi">4</span><span class="p">:</span>            <span class="k">if</span> <span class="n">grille</span><span class="p">[</span><span class="n">l</span><span class="p">][</span><span class="n">h</span><span class="p">]</span> <span class="o">!=</span> <span class="n">VIDE</span><span class="p">:</span>
<span class="mi">5</span><span class="p">:</span>                <span class="n">ok</span> <span class="o">=</span> <span class="bp">False</span>
<span class="mi">6</span><span class="p">:</span>        <span class="k">if</span> <span class="n">ok</span><span class="p">:</span>
<span class="mi">7</span><span class="p">:</span>            <span class="k">return</span> <span class="bp">True</span>
<span class="mi">8</span><span class="p">:</span>    <span class="k">return</span> <span class="bp">False</span>

</code></pre></div></div>

<p>Les lignes 1 et 3 sont des boucles. Pour les autres lignes, on a une complexité de :</p>

<ul>
  <li>la ligne 2 : c’est une affectation, donc en $\mathcal{O}(1)$ opérations</li>
  <li>la ligne 4 :
    <ul>
      <li>un positionnement dans une liste de liste, donc en $\mathcal{O}(1)$ opérations ($\mathcal{O}(1)$ opérations pour chaque positionnement)</li>
      <li>un test en $\mathcal{O}(1)$ opérations</li>
    </ul>
  </li>
  <li>la ligne 5 : c’est une affectation en $\mathcal{O}(1)$ opérations</li>
  <li>la ligne 6 : c’est un test, donc $\mathcal{O}(1)$ opérations</li>
  <li>la ligne 7 : c’est le retour de fonction : $\mathcal{O}(1)$ opérations</li>
  <li>la ligne 8 : c’est le retour de fonction : $\mathcal{O}(1)$ opérations</li>
</ul>

<p>Dans le pire des cas, le retour de fonction est fait en ligne 8. On aura parcouru les boucles imbriquées des lignes 1 et 3 en entier. La complexité de l’algorithme est alors en :</p>

\[\mathcal{O}(l) *(\mathcal{O}(1)+\mathcal{O}(k)* \mathcal{O}(1) + \mathcal{O}(1)) + \mathcal{O}(1)\]

<p>On a donc une complexité de : $\mathcal{O}(l * k)$</p>

<p><strong>Erreurs fréquentes :</strong></p>

<ul>
  <li>on cherche si une colonne est disponible. Il ne faut pas s’arrêter si une colonne ne fonctionne pas. Le <code class="language-plaintext highlighter-rouge">return False</code> n’est présent que si l’on a regardé toutes les colonne et aucune ne marche. En revanche, on peut sortir avec un <code class="language-plaintext highlighter-rouge">return True</code> dès la première colonne qui fonctionne</li>
  <li>la complexité est $\mathcal{O}(largeur\times k)$ et non $\mathcal{O}(largeur \times hauteur)$ : $k$ est une entrée de notre problème, on doit donc l’utiliser si on peut. La première réponse n’est pas fausse (puisque $hauteur &gt; k$) mais elle est moins précise</li>
</ul>

<h2 id="question-4">Question 4</h2>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">def</span> <span class="nf">descente</span><span class="p">(</span><span class="n">grille</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">k</span><span class="p">):</span>
    
    <span class="k">if</span> <span class="p">(</span><span class="n">y</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">grille</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="n">y</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">!=</span> <span class="n">VIDE</span><span class="p">):</span>
        <span class="k">return</span>
    
    <span class="k">for</span> <span class="n">position</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">k</span><span class="p">):</span>
        <span class="n">grille</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="n">y</span> <span class="o">+</span> <span class="n">position</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">grille</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="n">y</span> <span class="o">+</span> <span class="n">position</span><span class="p">]</span>

    <span class="n">grille</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="n">y</span> <span class="o">+</span> <span class="n">k</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">VIDE</span>
</code></pre></div></div>

<p>fonctionnement de la fonction :</p>

<ul>
  <li>on vérifie que l’on peut déplacer le barreau. Si on ne peut pas le faire, on sort de la fonction</li>
  <li>On fait descendre le barreau en commençant par la dernière ligne pour ne pas écraser le barreau et perdre des données</li>
  <li>ne pas oublier que la première case où était le barreau devient vide</li>
</ul>

<p><strong>Erreurs fréquentes :</strong></p>

<ul>
  <li>n’oubliez pas les sentinelles qui sont des tests qui vérifient que l’on peut bien accéder aux cases du tableau comme vérifier que $y &gt; 0$ avant de chercher l’élément d’indice $y-1$ dans un tableau</li>
  <li>on ne descend que <strong>d’une seule case</strong></li>
  <li>attention au dernier élément qu’il faut placer à vide une fois le barreau descendu</li>
</ul>

<h2 id="question-5">Question 5</h2>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">def</span> <span class="nf">deplacerBarreau</span><span class="p">(</span><span class="n">grille</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">k</span><span class="p">,</span> <span class="n">direction</span><span class="p">):</span>
    
    <span class="k">if</span> <span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="n">direction</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="n">direction</span> <span class="o">&gt;=</span> <span class="nb">len</span><span class="p">(</span><span class="n">grille</span><span class="p">)):</span>
        <span class="k">return</span>
    
    <span class="k">for</span> <span class="n">position</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">k</span><span class="p">):</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">grille</span><span class="p">[</span><span class="n">x</span> <span class="o">+</span> <span class="n">direction</span><span class="p">][</span><span class="n">y</span> <span class="o">+</span> <span class="n">k</span><span class="p">]</span> <span class="o">!=</span> <span class="n">VIDE</span><span class="p">):</span>
            <span class="k">return</span>

    <span class="k">for</span> <span class="n">position</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">k</span><span class="p">):</span>
        <span class="n">grille</span><span class="p">[</span><span class="n">x</span> <span class="o">+</span> <span class="n">direction</span><span class="p">][</span><span class="n">y</span> <span class="o">+</span> <span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">grille</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="n">y</span> <span class="o">+</span> <span class="n">k</span><span class="p">]</span>
        <span class="n">grille</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="n">y</span> <span class="o">+</span> <span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">VIDE</span>

</code></pre></div></div>

<p>fonctionnement de la fonction :</p>

<ul>
  <li>on vérifie que l’on peut déplacer le barreau. Si on ne peut pas le faire, on sort de la fonction :
    <ul>
      <li>on vérifie que l’on est pas au bord</li>
      <li>on vérifie qu’il n’y à personne là où l’on veut déplacer le barreau</li>
    </ul>
  </li>
  <li>on déplace le barreau et on oublie pas d’effacer sa position antérieure</li>
</ul>

<p><strong>Erreurs fréquentes :</strong></p>

<ul>
  <li>attention, l’usage des <code class="language-plaintext highlighter-rouge">break</code> et <code class="language-plaintext highlighter-rouge">continue</code>n’est pas triviale (voir le <a href="https://docs.python.org/fr/3.8/tutorial/controlflow.html#break-and-continue-statements-and-else-clauses-on-loops">tutoriel python</a>). Vaut mieux s’en passer plutôt que de mal les utiliser</li>
  <li>attention aux sentinelle pour vérifier que l’on peux décaler le barreau</li>
  <li>comme on demande de ne pas modifier le barreau si on ne peut pas le déplacer, on sépare les 2 actions : 1- on vérifie que c’est bon 2- on modifie grille. C’est plus simple que remettre les valeurs d’origine si on se rend compte au milieu de l’algorithme que ça ne marche pas</li>
  <li>on peut factoriser les 2 directions en une seule boucle</li>
</ul>

<h2 id="question-6">Question 6</h2>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">def</span> <span class="nf">permuterBarreau</span><span class="p">(</span><span class="n">grille</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">k</span><span class="p">):</span>
    
    <span class="n">premier_element</span> <span class="o">=</span> <span class="n">grille</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="n">y</span> <span class="o">+</span> <span class="n">k</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span>
    <span class="k">for</span> <span class="n">position</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">k</span> <span class="o">-</span> <span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">):</span>
        <span class="n">grille</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="n">y</span> <span class="o">+</span> <span class="n">position</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">grille</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="n">y</span> <span class="o">+</span> <span class="n">position</span><span class="p">]</span>
            
    <span class="n">grille</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="n">y</span><span class="p">]</span> <span class="o">=</span> <span class="n">premier_element</span>

</code></pre></div></div>

<p>On est obligé de sauver le premier élément (l’élément le plus haut) pour le placer à la fin au dernier élément du barreau (à la position y).  Puis on parcourt le barreau du deuxième</p>

<h2 id="question-7">Question 7</h2>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">def</span> <span class="nf">descenteRapide</span><span class="p">(</span><span class="n">grille</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">k</span><span class="p">):</span>
    <span class="n">descente</span> <span class="o">=</span> <span class="n">y</span>
    <span class="k">while</span> <span class="p">(</span><span class="n">descente</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">grille</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="n">descente</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">VIDE</span><span class="p">)</span>
        <span class="n">descente</span> <span class="o">-=</span> <span class="mi">1</span>
    
    <span class="k">for</span> <span class="n">position</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">k</span><span class="p">):</span>
        <span class="n">grille</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="n">descente</span> <span class="o">+</span> <span class="n">position</span><span class="p">]</span> <span class="o">=</span> <span class="n">grille</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="n">y</span> <span class="o">+</span> <span class="n">position</span><span class="p">]</span>
        <span class="n">grille</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="n">y</span> <span class="o">+</span> <span class="n">position</span><span class="p">]</span> <span class="o">=</span> <span class="n">VIDE</span>
</code></pre></div></div>

<p>On commence par trouver la hauteur maximale de descente du barreau, puis on téléporte le barreau à cette place. Comme on ne déplace le barreau qu’une seule fois la complexité demandée est bien atteinte. Comme le barreau est <em>téléporté</em> de bas en haut il n’est pas effacé si l’on descend de moins de <em>k</em> lignes.</p>

<h2 id="question-8">Question 8</h2>

<p>Position initiale :</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>...B..  
...R..  
...JN.  
...RN.  
....R.  
.BB.NJ
.NR.VN
NRR.RV
NBJBVV
VNJBVJ
</code></pre></div></div>

<p>Descente :</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>......  
......  
....N.  
....N.  
...BR.  
.BBRNJ
.NRJVN
NRRRRV
NBJBVV
VNJBVJ
</code></pre></div></div>

<p>on a :</p>

<ul>
  <li>une ligne de quatre <code class="language-plaintext highlighter-rouge">R</code> horizontaux : 2pt</li>
  <li>rien en vertical</li>
  <li>quatre <code class="language-plaintext highlighter-rouge">R</code> en diagonal 2pt</li>
</ul>

<p>On supprime les résultats :</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>......  
......  
....N.  
....N.  
...B..  
.BB.NJ
.N.JVN
N....V
NBJBVV
VNJBVJ
</code></pre></div></div>

<p>On tasse :</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>......  
......  
......  
......  
....N.  
....NJ
.B.BNN
NNBJVV
NBJBVV
VNJBVJ
</code></pre></div></div>

<p>on a :</p>

<ul>
  <li>trois <code class="language-plaintext highlighter-rouge">N</code> verticaux et 3 <code class="language-plaintext highlighter-rouge">V</code> verticaux, tous deux à 1pt</li>
  <li>deux diagonales de 3 <code class="language-plaintext highlighter-rouge">B</code> (les <code class="language-plaintext highlighter-rouge">B</code> qui forment un X), tous deux à 1pt</li>
</ul>

<p>On supprime les positifs :</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>......  
......  
......  
......  
......  
.....J
.....N
NN.J.V
N.JI.V
VNJB.J
</code></pre></div></div>

<p>Puis on tasse :</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>......  
......  
......  
......  
......  
.....J
.....N
N..J.V
NNJI.V
VNJB.J
</code></pre></div></div>

<p>Plus aucun positifs, d’où un total de 8pts.</p>

<h2 id="question-9">Question 9</h2>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">def</span> <span class="nf">detecteAlignement</span><span class="p">(</span><span class="n">rangee</span><span class="p">):</span>
    
<span class="n">A</span><span class="p">:</span>    <span class="n">marking</span> <span class="o">=</span> <span class="p">[]</span>
      <span class="n">score</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">B</span><span class="p">:</span>    <span class="n">couleur</span> <span class="o">=</span> <span class="n">rangee</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
      <span class="n">nombre_couleur_identique</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">C</span><span class="p">:</span>    <span class="k">for</span> <span class="n">position</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">rangee</span><span class="p">)):</span>
<span class="n">D</span><span class="p">:</span>        <span class="k">if</span> <span class="n">couleur</span> <span class="o">==</span> <span class="n">rangee</span><span class="p">[</span><span class="n">position</span><span class="p">]:</span>
              <span class="n">nombre_couleur_identique</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="n">E</span><span class="p">:</span>        <span class="k">else</span><span class="p">:</span>
<span class="n">F</span><span class="p">:</span>            <span class="k">if</span> <span class="p">(</span><span class="n">couleur</span> <span class="o">!=</span> <span class="n">VIDE</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">nombre_couleur_identique</span> <span class="o">&gt;=</span> <span class="mi">3</span><span class="p">):</span>
                  <span class="n">score</span> <span class="o">+=</span> <span class="n">nombre_couleur_identique</span> <span class="o">-</span> <span class="mi">2</span>
              <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nombre_couleur_identique</span><span class="p">):</span>
                  <span class="k">if</span> <span class="p">(</span><span class="n">couleur</span> <span class="o">!=</span> <span class="n">VIDE</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">nombre_couleur_identique</span> <span class="o">&gt;=</span> <span class="mi">3</span><span class="p">):</span>
                      <span class="n">marking</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>
                  <span class="k">else</span><span class="p">:</span>
                      <span class="n">marking</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>
<span class="n">G</span><span class="p">:</span>            <span class="n">couleur</span> <span class="o">=</span> <span class="n">rangee</span><span class="p">[</span><span class="n">position</span><span class="p">]</span>
              <span class="n">nombre_couleur_identique</span> <span class="o">=</span> <span class="mi">1</span>

      <span class="k">if</span> <span class="p">(</span><span class="n">couleur</span> <span class="o">!=</span> <span class="n">VIDE</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">nombre_couleur_identique</span> <span class="o">&gt;=</span> <span class="mi">3</span><span class="p">):</span>
          <span class="n">score</span> <span class="o">+=</span> <span class="n">nombre_couleur_identique</span> <span class="o">-</span> <span class="mi">2</span>

<span class="n">H</span><span class="p">:</span>    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nombre_couleur_identique</span><span class="p">):</span>
          <span class="k">if</span> <span class="p">(</span><span class="n">couleur</span> <span class="o">!=</span> <span class="n">VIDE</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">nombre_couleur_identique</span> <span class="o">&gt;=</span> <span class="mi">3</span><span class="p">):</span>
              <span class="n">marking</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>
          <span class="k">else</span><span class="p">:</span>
              <span class="n">marking</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>
      <span class="k">return</span> <span class="p">(</span><span class="n">marking</span><span class="p">,</span> <span class="n">score</span><span class="p">)</span>

</code></pre></div></div>

<p>On parcourt chaque position de la liste jusqu’à trouver une couleur différente de la couleur précédente. A ce moment là on ajoute à la liste <code class="language-plaintext highlighter-rouge">marking</code> autant de fois que la couleur à été trouvée <code class="language-plaintext highlighter-rouge">True</code> si  la couleur était non vide et qu’il y en avait &gt;= 3, <code class="language-plaintext highlighter-rouge">False</code> sinon. On met à jour les scores si nécessaire. Plus précisément :</p>

<ul>
  <li>marque <code class="language-plaintext highlighter-rouge">A</code> : on crée un tableau <code class="language-plaintext highlighter-rouge">marking</code> initialement vide, on va le remplir petit à petit</li>
  <li>marque <code class="language-plaintext highlighter-rouge">B</code> : Le premier élément de <code class="language-plaintext highlighter-rouge">rangee</code> commence une nouvelle couleur</li>
  <li>marque <code class="language-plaintext highlighter-rouge">C</code> : le parcourt des éléments de rangée à partir du 2ème élément.</li>
  <li>marque <code class="language-plaintext highlighter-rouge">D</code> : si la couleur de la case actuelle est la même que celle stockée, on ajoute 1 au compteur. Il y a <code class="language-plaintext highlighter-rouge">nombre_couleur_identique</code> éléments consécutifs de cette couleur jusqu’à <code class="language-plaintext highlighter-rouge">position</code>.</li>
  <li>marque <code class="language-plaintext highlighter-rouge">E</code> : on change de couleur. Il faut ajouter ce que l’on sait de l’ancienne couleur dans <code class="language-plaintext highlighter-rouge">marking</code> (marque <code class="language-plaintext highlighter-rouge">F</code>) et changer la couleur actuelle (marque <code class="language-plaintext highlighter-rouge">G</code>)</li>
  <li>marque <code class="language-plaintext highlighter-rouge">F</code> : On change le score si nécessaire puis on remplit le tableau parking avec les éléments de la couleur précédente. Si cette couleur était non vide et qu’il y en avait plus de 3, on ajoute <code class="language-plaintext highlighter-rouge">True</code> sinon on ajoute <code class="language-plaintext highlighter-rouge">False</code>.</li>
  <li>marque <code class="language-plaintext highlighter-rouge">G</code> : il y a une nouvelle couleur.</li>
  <li>marque <code class="language-plaintext highlighter-rouge">H</code> : à la fin de l’itération, on fini la dernière couleur.</li>
</ul>

<p>On peut noter que la complexité de cette fonction est en $\mathcal{O}(\mbox{len(rangee)})$.</p>

<h2 id="question-10">Question 10</h2>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">def</span> <span class="nf">scoreRangée</span><span class="p">(</span><span class="n">grille</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">dx</span><span class="p">,</span> <span class="n">dy</span><span class="p">):</span>
<span class="n">A</span><span class="p">:</span>  <span class="n">rangee</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">while</span> <span class="p">(</span><span class="mi">0</span> <span class="o">&lt;=</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">largeur</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="mi">0</span> <span class="o">&lt;=</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">hauteur</span><span class="p">):</span>
        <span class="n">rangee</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">rangee</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">])</span>        
        <span class="n">i</span> <span class="o">+=</span> <span class="n">dx</span>
        <span class="n">j</span> <span class="o">+=</span> <span class="n">dy</span>
        
<span class="n">B</span><span class="p">:</span>  <span class="n">marking</span><span class="p">,</span> <span class="n">score</span> <span class="o">=</span> <span class="n">detecteAlignement</span><span class="p">(</span><span class="n">rangee</span><span class="p">)</span>
   
<span class="n">C</span><span class="p">:</span>  <span class="k">for</span> <span class="n">position</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">rangee</span><span class="p">)):</span>
       <span class="k">if</span> <span class="n">marking</span><span class="p">[</span><span class="n">position</span><span class="p">]</span> <span class="o">==</span> <span class="n">true</span><span class="p">:</span>
           <span class="n">g</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="n">position</span> <span class="o">*</span> <span class="n">dx</span><span class="p">][</span><span class="n">j</span> <span class="o">+</span> <span class="n">position</span> <span class="o">*</span> <span class="n">dy</span><span class="p">]</span> <span class="o">=</span> <span class="n">VIDE</span>

   <span class="k">return</span> <span class="n">score</span>
</code></pre></div></div>

<p>La fonction est séparée en plusieurs bouts :</p>

<ul>
  <li>A: on crée la rangée en décalant de <code class="language-plaintext highlighter-rouge">dx</code> et <code class="language-plaintext highlighter-rouge">dy</code> les positions tant que l’on reste à l’intérieur de la grille <code class="language-plaintext highlighter-rouge">(i &lt; largeur) and (j &lt; hauteur)</code></li>
  <li>B: on crée les alignements.</li>
  <li>C: on met à jour la grille g en supprimant les cases où <code class="language-plaintext highlighter-rouge">rangee</code> est <code class="language-plaintext highlighter-rouge">True</code></li>
</ul>

<h2 id="question-11">Question 11</h2>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">def</span> <span class="nf">effaceAlignement</span><span class="p">(</span><span class="n">grille</span><span class="p">):</span>

<span class="n">A</span><span class="p">:</span>  <span class="n">g</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">colonne</span> <span class="ow">in</span> <span class="n">grille</span><span class="p">:</span>
        <span class="n">g</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">colonne</span><span class="p">))</span>
    
    <span class="n">score</span> <span class="o">=</span> <span class="mi">0</span>
    
<span class="n">B</span><span class="p">:</span>  <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">largeur</span><span class="p">):</span>
        <span class="n">score</span> <span class="o">+=</span> <span class="n">scoreRangée</span><span class="p">(</span><span class="n">grille</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">+</span><span class="mi">1</span><span class="p">)</span>
        
<span class="n">C</span><span class="p">:</span>  <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">hauteur</span><span class="p">):</span>
        <span class="n">score</span> <span class="o">+=</span> <span class="n">scoreRangée</span><span class="p">(</span><span class="n">grille</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

<span class="n">D</span><span class="p">:</span>  <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">largeur</span><span class="p">):</span>        
        <span class="n">score</span> <span class="o">+=</span> <span class="n">scoreRangée</span><span class="p">(</span><span class="n">grille</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="o">+</span><span class="mi">1</span><span class="p">)</span>        
    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">hauteur</span><span class="p">):</span>
        <span class="n">score</span> <span class="o">+=</span> <span class="n">scoreRangée</span><span class="p">(</span><span class="n">grille</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="o">+</span><span class="mi">1</span><span class="p">)</span>        

<span class="n">E</span><span class="p">:</span>  <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">largeur</span><span class="p">):</span>        
        <span class="n">score</span> <span class="o">+=</span> <span class="n">scoreRangée</span><span class="p">(</span><span class="n">grille</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">hauteur</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>        
    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">hauteur</span> <span class="o">-</span> <span class="mi">1</span><span class="p">):</span>
        <span class="n">score</span> <span class="o">+=</span> <span class="n">scoreRangée</span><span class="p">(</span><span class="n">grille</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>        
    
    <span class="k">return</span> <span class="p">(</span><span class="n">g</span><span class="p">,</span> <span class="n">score</span><span class="p">)</span>
</code></pre></div></div>

<ul>
  <li>A: on crée la copie de grille. Attention à la copie de liste !</li>
  <li>B: on regarde les colonnes</li>
  <li>C: on regarde les lignes</li>
  <li>D: on regarde les diagonales qui <em>“montent”</em>. Attention, pour ne pas compter 2 fois les même diagonales, la deuxième itération commence à 1</li>
  <li>E: on regarde les diagonales qui <em>“descendent”</em>. Attention, pour ne pas compter 2 fois les même diagonales, la deuxième itération fini à hauteur - 2.</li>
</ul>

<h2 id="question-12">Question 12</h2>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">def</span> <span class="nf">tassementGrille</span><span class="p">(</span><span class="n">grille</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">largeur</span><span class="p">):</span>
        <span class="n">libre</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">hauteur</span><span class="p">):</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">libre</span> <span class="o">==</span> <span class="bp">None</span><span class="p">)</span> <span class="ow">and</span> <span class="n">grille</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">==</span> <span class="n">VIDE</span><span class="p">:</span>
                <span class="n">libre</span> <span class="o">=</span> <span class="n">j</span>
            <span class="k">elif</span> <span class="p">(</span><span class="n">libre</span> <span class="o">!=</span> <span class="bp">None</span><span class="p">)</span>  <span class="ow">and</span> <span class="n">grille</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">!=</span> <span class="n">VIDE</span><span class="p">:</span>
                <span class="n">grille</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">libre</span><span class="p">]</span> <span class="o">=</span> <span class="n">grille</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span>
                <span class="n">grille</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span>
                <span class="n">libre</span> <span class="o">+=</span> <span class="mi">1</span>
</code></pre></div></div>

<p>Tasser un élément revient à le mettre au premier élément vide de la colonne que l’on considère. Si l’on parcourt une colonne de bas en haut, cet élément vide sera vu avant l’ élément à tasser.
De là on parcourt chaque colonne de haut en bas et garder un pointeur vers la première place libre (lorsque <code class="language-plaintext highlighter-rouge">(libre == None) and grille[i][j] == VIDE</code>). A partir de cet indice <code class="language-plaintext highlighter-rouge">j</code> on a que <code class="language-plaintext highlighter-rouge">libre != None</code>. Un élément à tasser vérifiera la condition <code class="language-plaintext highlighter-rouge">(libre != None)  and grille[i][j] != VIDE</code>.</p>

<h2 id="question-13">Question 13</h2>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">def</span> <span class="nf">calculScore</span><span class="p">(</span><span class="n">grille</span><span class="p">):</span>
    
    <span class="n">score_total</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">g</span><span class="p">,</span> <span class="n">score</span> <span class="o">=</span> <span class="n">effacementGrille</span><span class="p">(</span><span class="n">grille</span><span class="p">)</span>
    <span class="k">while</span> <span class="n">score</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">score_total</span> <span class="o">+=</span> <span class="n">score</span>
        <span class="n">tassementGrille</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">largeur</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">hauteur</span><span class="p">):</span>
                <span class="n">grille</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">g</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span>
        <span class="n">g</span><span class="p">,</span> <span class="n">score</span> <span class="o">=</span> <span class="n">effacementGrille</span><span class="p">(</span><span class="n">grille</span><span class="p">)</span>
    
    <span class="k">return</span> <span class="n">score_total</span>
</code></pre></div></div>

<p>Tant que le score est strictement positif on met à jour la matrice (comme la fonction ne rend pas de grille, il faut modifier la grille initiale) et on calcul le nouveau score que l’on ajoute au score total.</p>

<h2 id="question-14">Question 14</h2>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">def</span> <span class="nf">tailleRegionUnicolore</span><span class="p">(</span><span class="n">grille</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>

    <span class="n">couleur</span> <span class="o">=</span> <span class="n">grille</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="n">y</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">couleur</span> <span class="o">==</span> <span class="n">VIDE</span><span class="p">:</span>
        <span class="k">return</span> <span class="mi">0</span>
    <span class="n">grille</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="n">y</span><span class="p">]</span> <span class="o">=</span> <span class="n">VIDE</span>
    
    <span class="n">nombre</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">x</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">grille</span><span class="p">[</span><span class="n">x</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">y</span><span class="p">]</span> <span class="o">==</span> <span class="n">couleur</span><span class="p">):</span>
        <span class="n">nombre</span> <span class="o">+=</span> <span class="n">tailleRegionUnicolore</span><span class="p">(</span><span class="n">grille</span><span class="p">,</span> <span class="n">x</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">x</span> <span class="o">&lt;</span> <span class="n">largeur</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">grille</span><span class="p">[</span><span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">][</span><span class="n">y</span><span class="p">]</span> <span class="o">==</span> <span class="n">couleur</span><span class="p">):</span>
        <span class="n">nombre</span> <span class="o">+=</span> <span class="n">tailleRegionUnicolore</span><span class="p">(</span><span class="n">grille</span><span class="p">,</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">y</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">grille</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="n">y</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">couleur</span><span class="p">):</span>
        <span class="n">nombre</span> <span class="o">+=</span> <span class="n">tailleRegionUnicolore</span><span class="p">(</span><span class="n">grille</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">y</span> <span class="o">&lt;</span> <span class="n">hauteur</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">grille</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="n">y</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">couleur</span><span class="p">):</span>
        <span class="n">nombre</span> <span class="o">+=</span> <span class="n">tailleRegionUnicolore</span><span class="p">(</span><span class="n">grille</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
    
    <span class="k">return</span> <span class="n">nombre</span>

</code></pre></div></div>

<p>L’algorithme fonctionne ainsi. On commence par vérifier que la case n’est pas vide. Si ce n’est pas le cas, on vide la case pour s’assurer de ne pas repasser plusieurs fois par cette case lors de la récursion.</p>

<p>Puis, si c’est possible (on reste dans la grille et la case adjacente est de la même couleur), on relance l’algorithme sur les 4 cases à côté. Les résultats des algorithmes appelés sont ajoutés au score courant.</p>

<h2 id="question-15">Question 15</h2>

<p>La stratégie proposée ne fonctionne pas. En effet, la méthode <code class="language-plaintext highlighter-rouge">exploreVertical</code> ne regarde que la colonne courante et la méthode <code class="language-plaintext highlighter-rouge">exploreHorizontal</code> ne fait appel qu’à <code class="language-plaintext highlighter-rouge">exploreVertical</code> puis se décale dans même direction. De là une région qui fait un <em>escargot</em> ne sera pas trouvée puisqu’il faudrait aller horizontalement dans les 2 directions :</p>

<p>Exemple :</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>XRR
RXR
RRR
</code></pre></div></div>

<p>En partant de (0, 1) on ne retrouvera jamais (1, 2)</p>

  </div>

</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/cours_informatique/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">cours d&#39;informatique</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">cours d&#39;informatique</li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/FrancoisBrucker"><svg class="svg-icon"><use xlink:href="/cours_informatique/assets/minima-social-icons.svg#github"></use></svg> <span class="username">FrancoisBrucker</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>Support de cours/td d&#39;informatique à l&#39;école centrale marseille.</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
