<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Théorie des graphes : flots - appication (corrigé) | cours d’informatique</title>
<meta name="generator" content="Jekyll v4.2.0">
<meta property="og:title" content="Théorie des graphes : flots - appication (corrigé)">
<meta name="author" content="François Brucker">
<meta property="og:locale" content="en_US">
<meta name="description" content="Support de cours/td d’informatique de François Brucker.">
<meta property="og:description" content="Support de cours/td d’informatique de François Brucker.">
<link rel="canonical" href="/cours_informatique/cours/graphes/flots-applications-corrige.html">
<meta property="og:url" content="/cours_informatique/cours/graphes/flots-applications-corrige.html">
<meta property="og:site_name" content="cours d’informatique">
<meta property="og:type" content="website">
<meta name="twitter:card" content="summary">
<meta property="twitter:title" content="Théorie des graphes : flots - appication (corrigé)">
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","author":{"@type":"Person","name":"François Brucker"},"description":"Support de cours/td d’informatique de François Brucker.","headline":"Théorie des graphes : flots - appication (corrigé)","url":"/cours_informatique/cours/graphes/flots-applications-corrige.html"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/cours_informatique/assets/main.css">

  <link rel="stylesheet" href="/cours_informatique/assets/custom.css">

  <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
<link type="application/atom+xml" rel="alternate" href="/cours_informatique/feed.xml" title="cours d'informatique">
<script>MathJax={"tex":{"inlineMath":[["$","$"],["\\(","\\)"]],"displayMath":[["\\[","\\]"]]},"svg":{"fontCache":"global"},"svg":{"fontCache":"global"}}</script><script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>

<body>
<header class="site-header" role="banner">

  <div class="wrapper">
<a class="site-title" rel="author" href="/cours_informatique/">cours d'informatique</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger">
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewbox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"></path>
            </svg>
          </span>
        </label>

        <div class="trigger">
            <a class="page-link" href="/cours_informatique/about"> about </a>
        </div>
      </nav>
</div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post">

  <header class="post-header">
    <h1 class="post-title">Théorie des graphes : flots - appication (corrigé)</h1>Auteur : <span itemprop="author" itemscope itemtype="http://schema.org/Person"><span class="p-author h-card" itemprop="name">François Brucker</span></span>
  </header>

  <div class="post-content">
    <blockquote class="chemin">
  <p><a href="/cours_informatique/cours/graphes/">graphes</a> / <a href="/cours_informatique/cours/graphes/flots-applications.html">flots : applications</a></p>
</blockquote>

<p>Element de corrigé des applications des flots.</p>

<p><a href="/cours_informatique/cours/graphes/flots-applications.html">les exercices</a></p>

<h2 id="application-simple">application simple</h2>

<h3 id="graphe-décart">graphe d’écart</h3>

<p>Le graphe d’écart associé à ce réseau :</p>

<p><img src="/cours_informatique/assets/cours/graphes/flot-app-2.png" alt="flot application" style="margin: auto;display: block;"></p>

<h3 id="résolution-du-problème-de-flot">résolution du problème de flot</h3>

<p>Une chaine augmentante et l’augmentation de flot associée dans la foulée :</p>

<p><img src="/cours_informatique/assets/cours/graphes/flot-app-3.png" alt="flot application" style="margin: auto;display: block;"></p>

<p>La coupe min :</p>

<p><img src="/cours_informatique/assets/cours/graphes/flot-app-4.png" alt="flot application" style="margin: auto;display: block;"></p>

<h2 id="problème-du-transport-de-marchandise">problème du transport de marchandise</h2>

<h3 id="modélisation">modélisation</h3>

<p>On ajoute au graphe :</p>

<ul>
  <li>un sommet $s$ et des arcs $sx$ pour $x \in S$ de coût 0 et de capacité l’excédent en $x$</li>
  <li>un sommet $p$ et des arcs $xp$ pour $x \in P$ de coût 0 et de capacité la demande en $x$</li>
</ul>

<p>On considère que les capacités des autres arcs du graphe sont égales à $+\infty$.</p>

<p>Le problème du transport de marchandise revient à trouver le flot maximum à coût minimum.</p>

<p>Le graphe exemple transformé en problème de flot est :</p>

<p><img src="/cours_informatique/assets/cours/graphes/flot-app-6.png" alt="flot transport" style="margin: auto;display: block;"></p>

<p>Les capacités sont en gras (les arcs sans capacités sont considérés comme étant de capacité infini) et les coûts sont sur les arcs (les arcs sans coûts sont considérés comme étant de coût nul).</p>

<h3 id="résolution-du-problème-de-transport">résolution du problème de transport</h3>

<p>On peut redessiner le réseau sous cette forme :</p>

<p><img src="/cours_informatique/assets/cours/graphes/flot-app-transport-1.png" alt="flot transport graphe d'écart" style="margin: auto;display: block;"></p>

<p>Le flot étant nul au départ, le graphe d’écart pondéré est égal à :</p>

<p><img src="/cours_informatique/assets/cours/graphes/flot-app-transport-2.png" alt="flot transport graphe d'écart" style="margin: auto;display: block;"></p>

<p>Un chemin de poids min entre $s$ et $p$ pourra alors être : $scap$ de poids 0 et qui permet d’augmenter le flot de 2 :</p>

<p><img src="/cours_informatique/assets/cours/graphes/flot-app-transport-3.png" alt="flot transport augmentation 1" style="margin: auto;display: block;"></p>

<p>On a de là le graphe d’écart :</p>

<p><img src="/cours_informatique/assets/cours/graphes/flot-app-transport-4.png" alt="flot transport augmentation 1" style="margin: auto;display: block;"></p>

<p>Un chemin de poids min entre $s$ et $p$ pourra alors être : $sebp$ de poids 2 et qui permet d’augmenter le flot de 1 :</p>

<p><img src="/cours_informatique/assets/cours/graphes/flot-app-transport-5.png" alt="flot transport flot max" style="margin: auto;display: block;"></p>

<p>Le flot est maximum, l’algorithme de Ford et Fulkerson nous donnant une coupe min valant 3 :</p>

<p><img src="/cours_informatique/assets/cours/graphes/flot-app-transport-6.png" alt="flot transport coupe min" style="margin: auto;display: block;"></p>

<h2 id="problème-du-transport-amoureux">problème du transport amoureux</h2>

<blockquote>
  <p>TBD</p>

  <ul>
    <li>expliciter le théorème des valeurs entières (il existe un flot max à valeur entière et le démontrer)</li>
    <li>comme 2 flot max entiers, il existe un flot max à valeur réelle</li>
  </ul>
</blockquote>

<p>On peut écrire le graphe suivant, en liant les affinités par une arête. Le graphe est bi-parti car les mariages sont ici hétérosexuels :</p>

<p><img src="/cours_informatique/assets/cours/graphes/flot-app-mariage-1.png" alt="graphe bi-parti" style="margin: auto;display: block;"></p>

<p>Comme on ne peut marier une personne qu’une seule fois, c’est bien un problème de couplage (l’arête choisie est le mariage).</p>

<p>Pour le transformer en problème de flot on peut créer le réseau suivant, avec des capacités de 1 partout :</p>

<p><img src="/cours_informatique/assets/cours/graphes/flot-app-mariage-2.png" alt="graphe bi-parti" style="margin: auto;display: block;"></p>

<p>Cela fonctionne car pour chaque chaine augmentante, on va la saturer par un entier (donc 1) : on est assuré que le flot maximum sera entier, on ne va pas marier à moitié une personne.</p>

<p>En résolvant le problème on trouve :</p>

<ul>
  <li>Iphigénie - Achille</li>
  <li>Cléopâtre - César</li>
  <li>Juliette - Rodrigue</li>
  <li>Fanny - Marius</li>
  <li>Chimène - Roméo</li>
</ul>

<p>Il y a aussi la solution classique où vous échangez les maris de Juliette et Chimène.</p>

<blockquote>
  <p>Notez que si l’on ne se restreint pas aux mariages hétérosexuels, le graphe n’est plus biparti. Le problème du couplage dans un graphe ne peut plus se résoudre comme un problème de flot, il faut utiliser <a href="https://fr.wikipedia.org/wiki/Algorithme_d%27Edmonds_pour_les_couplages">l’algorithme d’Edmonds</a> pour le résoudre.</p>

  <p>Enfin, si l’on veut rajouter des amants (chaque personne doit avoir un conjoint et un amant), le problème devient NP-difficile.</p>
</blockquote>

<h2 id="stockage-dans-les-noeuds">stockage dans les noeuds</h2>

<p>Pour modéliser ce problème comme un problème de flot, on va une source d’eaux usée de capacité égale au bassin de rétention :</p>

<p><img src="/cours_informatique/assets/cours/graphes/flot-app-stock-2.png" alt="flot" style="margin: auto;display: block;"></p>

<p>On  peut alors résoudre le problème avec un flot classiqu:</p>

<p><img src="/cours_informatique/assets/cours/graphes/flot-app-stock-3.png" alt="flot" style="margin: auto;display: block;"></p>

<blockquote class="note">
  <p>TBD :
il existe une autre modélisation en dédoublant les noeuds possible  : la faire
expliquer que ça ne dit pas la même chose selon la modélisation choisie : on fait des hypothèses différentes.</p>
</blockquote>

<h2 id="k-connectivité-dans-un-graphe">k-connectivité dans un graphe</h2>

<h3 id="p--n">P &lt;= N</h3>

<p>Comme les chemins sont disjoints, il faut au moins supprimer $P(s, p)$ arcs pour les déconnecter.</p>

<h3 id="valf--p">val(f) &lt;= P</h3>

<p>Soit $f$ un flot maximum pour le réseau.</p>

<p>Comme les capacités valent toutes 1, chaque flux est soit 0 soit 1. De là tous les arcs sortant de $s$ de flux 1 vont créer des chemins disjoints vers $p$.</p>

<h3 id="n--valf">N &lt;= val(f)</h3>

<p>Sur une coupe minimum $(S, \overline{S})$, toutes les arêtes allant de $S$ vers $\overline{S}$ sont à 1 et sont au nombre de $\mbox{val}(f)$. Or si on supprime toutes ces arcs, on déconnecte $s$ de $p$ : $N(s, p) \leq \mbox{val}(f)$.</p>

<h3 id="n--valf--p">N = val(f) = P</h3>

<p>On a les 3 inégalités :</p>

<ul>
  <li>$P(s, p) \leq N(s, p)$</li>
  <li>$\mbox{val}(f) \leq P(s, p)$</li>
  <li>$N(s, p) \leq \mbox{val}(f)$</li>
</ul>

<p>Donc : $P(s, p) = N(s, p) = \mbox{val}(f)$</p>

<h3 id="lemme-de-zorn">lemme de zorn</h3>

<p>On suppose par l’absurde que le minimum de $N(x_i, x_{i+1})$ soit strictement plus grand que la forte arc connectivité de $G$ que l’on note $k$. En supprimant $k$ arcs je déconnecte $x_i$ de $x_j$. On a deux cas :</p>

<ul>
  <li>si $i &lt; j$ alors comme on peut toujours aller de $x_k$ à $x_{k+1}$ pour tous $i \leq k &lt; j$, il existe un chemin entre $x_i$ et $x_j$ ce qui est impossible.</li>
  <li>si $j &lt; i$ alors comme on peut toujours aller de $x_k$ à $x_{k+1}$ pour tous $j \leq k &lt; n - 1$ il existe un chemin entre $x_i$ et $x_0$, puis un raisonnement identique nous indique qu’on peut aller de $x_0$ à $x_j$. Il existe donc un chemin entre $x_i$ et $x_j$ ce qui est impossible.</li>
</ul>

<p>Trouver la forte arc connectivité d’un graphe orienté se fait donc en procédant à $\vert V \vert$ calcul de flot maximum.</p>

<h3 id="graphe-non-orienté">graphe non orienté</h3>

<h4 id="n--p">N &gt;= P</h4>

<p>On a clairement que $N(s, p) \geq P(s, p)$.</p>

<h4 id="p--p">P &gt;= P*</h4>

<p>De plus, $P(a, b) \geq P^\star(s, p)$. Si les $P^\star(s, p)$ chemins ne partagent pas d’arcs issus du dédoublement des arêtes en arcs, on peut créer $P^\star(s, p)$ chemins disjoints entre $s$ et $p$ dans $G$.</p>

<p>Si 2 chemins partagent une arête $xy$ l’un l’$xy$ et l’autre l’arc $yx$, on peut procéder comme dans la figure ci-dessous pour créer 2 chemins partageant strictement moins d’arêtes.</p>

<p><img src="/cours_informatique/assets/cours/graphes/flot-menger-1.png" alt="flot menger" style="margin: auto;display: block;"></p>

<p>On peut alors itérativement construire $P^\star(s, p)$ chemins ne partageant pas d’arcs issus du dédoublement des arêtes en arcs.</p>

<h4 id="n--n">N* &gt;= N</h4>

<p>En supprimant $N^\star(s, p)$ arcs de $G^\star$ on déconnecte $s$ de $p$. Si on supprime les arêtes de $G$ qui ont donné naissance à ces arcs, on déconnecte $s$ de $p$ dans $G$. En effet, s’il restait un chemin entre $s$ et $p$ dans $G$, il en resterait également un dans $G^\star$.</p>

<p>On a donc $N^\star(s, p) \geq N(s, p)$.</p>

<h4 id="conclusion">conclusion</h4>

<p>On a les inégalités suivantes : $N^\star(s, p) \geq N(s, p) \geq P(s, p) \geq P^\star(s, p)$</p>

<p>Or $P^\star(s, p) = N^\star(s, p) = \mbox{val}(f)$ ce qui conclut la preuve d’égalité.</p>

<h4 id="connectivité-du-graphe">connectivité du graphe</h4>

<p>La connectivité du premier (qui s’appelle le <a href="https://fr.wikipedia.org/wiki/Graphe_de_Petersen">graphe de petersen</a>) graphe est 3 et 2 pour le second (il suffit de supprimer les arêtes rouges)</p>

<p><img src="/cours_informatique/assets/cours/graphes/flot-menger-4.png" alt="flot menger" style="margin: auto;display: block;"></p>

<h2 id="bataille-de-la-marne">bataille de la marne</h2>

<p>Sans corrigé, c’est quasi impossible de trouver une solution. On a pas donné d’indices pour vous montrer que modéliser un problème réel peut être compliqué.</p>

<p>Le problème est :</p>

<ul>
  <li>qu’une route a à la fois une capacité et une longueur, caractéristiques très différentes</li>
  <li>qu’il faut gérer le temps</li>
</ul>

<p>On considère le temps comme étant une valeur discrète prenant 0, 1, 2, …, K comme valeur.</p>

<p>Chaque ville est alors représentée par $K+1$ sommet, chacune représentant la ville à un temps donné. La ville A sera ainsi représentée par les sommets $A_0$, …,  $A_K$, le sommet $A_i$ représentant la ville au temps $i$.</p>

<p>De là, une route de longueur 5 (et de capacité x) de A vers B va être représentée par :</p>

<ul>
  <li>un arc de $A_0$ vers $B_5$ de capacité x</li>
  <li>un arc de $A_1$ vers $B_6$ de capacité x</li>
  <li>…</li>
  <li>un arc de $A_{K-5}$ vers $B_K$ de capacité x</li>
</ul>

<p>Une voiture qui reste dans la ville $A$ au temps $i$ emprunte un arc de $A_i$ vers $A_{i+1}$ dont la capacité est le nombre de places de parking de la ville A.</p>

<p>Le sommets spéciaux sont :</p>

<ul>
  <li>le puits est la Marne au temps K.</li>
  <li>la source est un sommet fictif que l’on relie aux sommets $A_0$ correspondant aux villes où il y a des taxis (au temps 0); la capacité de ces arcs est le nombre de taxis disponibles.</li>
</ul>

<blockquote>
  <p>remarque : le graphe devient rapidement impossible à dessiner à la main, mais pour un ordi, aucun problème</p>
</blockquote>

  </div>

</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/cours_informatique/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">cours d'informatique</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">cours d'informatique</li>
</ul>
      </div>

      <div class="footer-col footer-col-2">
<ul class="social-media-list"><li><a href="https://github.com/FrancoisBrucker"><svg class="svg-icon"><use xlink:href="/cours_informatique/assets/minima-social-icons.svg#github"></use></svg> <span class="username">FrancoisBrucker</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>Support de cours/td d'informatique de François Brucker.</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
